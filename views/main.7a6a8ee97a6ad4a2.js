(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["main"],{199:(Xn,Tt,B)=>{"use strict";B.d(Tt,{z:()=>ve});var w=B(9406),ne=B(6872),ee=B(4690),Re=B(9656),re=B(6219),ye=B(2363),Fe=B(6405),De=B(6111),rt=B(1982);function ve(...ht){const mt=(0,ye.lI)(ht),Jt=(0,ye.ms)(ht),{args:Ht,keys:hn}=(0,ne.D)(ht);if(0===Ht.length)return(0,ee.H)([],mt);const dn=new w.c(function Ie(ht,mt,Jt=Re.D){return Ht=>{lt(mt,()=>{const{length:hn}=ht,dn=new Array(hn);let Kt=hn,Ut=hn;for(let Wt=0;Wt<hn;Wt++)lt(mt,()=>{const We=(0,ee.H)(ht[Wt],mt);let St=!1;We.subscribe((0,De._)(Ht,pt=>{dn[Wt]=pt,St||(St=!0,Ut--),Ut||Ht.next(Jt(dn.slice()))},()=>{--Kt||Ht.complete()}))},Ht)},Ht)}}(Ht,mt,hn?Kt=>(0,Fe.e)(hn,Kt):Re.D));return Jt?dn.pipe((0,re.I)(Jt)):dn}function lt(ht,mt,Jt){ht?(0,rt.N)(Jt,ht,mt):mt()}},262:(Xn,Tt,B)=>{"use strict";function w(){}B.d(Tt,{l:()=>w})},446:(Xn,Tt,B)=>{"use strict";B.d(Tt,{s:()=>Jr});var w=B(3308),ne=B(5804),ee=B(8629),Re=B(1489),re=B(5981),ye=B(2489),Fe=B(8621),De=B(9406),rt=B(3422),ve=B(5206),Ie=B(4418),lt=B(6219);const ht=["addListener","removeListener"],mt=["addEventListener","removeEventListener"],Jt=["on","off"];function Ht(Mn,Ar,nn,Yt){if((0,Ie.T)(nn)&&(Yt=nn,nn=void 0),Yt)return Ht(Mn,Ar,nn).pipe((0,lt.I)(Yt));const[ft,en]=function Ut(Mn){return(0,Ie.T)(Mn.addEventListener)&&(0,Ie.T)(Mn.removeEventListener)}(Mn)?mt.map(Sn=>or=>Mn[Sn](Ar,or,nn)):function dn(Mn){return(0,Ie.T)(Mn.addListener)&&(0,Ie.T)(Mn.removeListener)}(Mn)?ht.map(hn(Mn,Ar)):function Kt(Mn){return(0,Ie.T)(Mn.on)&&(0,Ie.T)(Mn.off)}(Mn)?Jt.map(hn(Mn,Ar)):[];if(!ft&&(0,ve.X)(Mn))return(0,rt.Z)(Sn=>Ht(Sn,Ar,nn))((0,Fe.Tg)(Mn));if(!ft)throw new TypeError("Invalid event target");return new De.c(Sn=>{const or=(...gr)=>Sn.next(1<gr.length?gr:gr[0]);return ft(or),()=>en(or)})}function hn(Mn,Ar){return nn=>Yt=>Mn[nn](Ar,Yt)}var Wt=B(8887);let We=(()=>{class Mn{constructor(nn){this.ngZone=nn,this._status$=new re.t(navigator.onLine),this._checkUrl="https://www.gstatic.com/generate_204",this.monitorBrowserEvents(),this.checkOfflineFallback()}monitorBrowserEvents(){this.ngZone.runOutsideAngular(()=>{(0,ye.h)(Ht(window,"online"),Ht(window,"offline")).pipe((0,Wt.B)(300)).subscribe(()=>this.ngZone.run(()=>this.checkOfflineFallback()))})}autoPingEvery(nn){this.ngZone.runOutsideAngular(()=>{setInterval(()=>{this.ngZone.run(()=>this.checkOfflineFallback())},nn)})}checkOfflineFallback(){var nn=this;return(0,w.A)(function*(){if(!navigator.onLine)return void nn._status$.next(!1);const Yt=new AbortController,ft=Yt.signal,en=setTimeout(()=>Yt.abort(),3e3);try{const Sn=yield fetch(nn._checkUrl,{method:"GET",cache:"no-cache",mode:"no-cors",signal:ft});clearTimeout(en),nn._status$.next("opaque"===Sn.type||Sn.status>=200&&Sn.status<400)}catch{clearTimeout(en),nn._status$.next(!1)}})()}get onlineStatus$(){return this._status$.asObservable()}get isOnline(){return this._status$.value}static{this.\u0275fac=function(Yt){return new(Yt||Mn)(Re.KVO(Re.SKi))}}static{this.\u0275prov=Re.jDH({token:Mn,factory:Mn.\u0275fac,providedIn:"root"})}}return Mn})();var St=B(2308);const pt=Symbol.for("Dexie"),kt=globalThis[pt]||(globalThis[pt]=St);if(St.semVer!==kt.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${St.semVer} and ${kt.semVer}`);const Ti=kt,Ve={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let He;const Ge=new Uint8Array(16),Nt=[];for(let Mn=0;Mn<256;++Mn)Nt.push((Mn+256).toString(16).slice(1));function Bn(Mn,Ar,nn){const Yt=(Mn=Mn||{}).random??Mn.rng?.()??function qe(){if(!He){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");He=crypto.getRandomValues.bind(crypto)}return He(Ge)}();if(Yt.length<16)throw new Error("Random bytes length must be >= 16");if(Yt[6]=15&Yt[6]|64,Yt[8]=63&Yt[8]|128,Ar){if((nn=nn||0)<0||nn+16>Ar.length)throw new RangeError(`UUID byte range ${nn}:${nn+15} is out of buffer bounds`);for(let ft=0;ft<16;++ft)Ar[nn+ft]=Yt[ft];return Ar}return function Pn(Mn,Ar=0){return(Nt[Mn[Ar+0]]+Nt[Mn[Ar+1]]+Nt[Mn[Ar+2]]+Nt[Mn[Ar+3]]+"-"+Nt[Mn[Ar+4]]+Nt[Mn[Ar+5]]+"-"+Nt[Mn[Ar+6]]+Nt[Mn[Ar+7]]+"-"+Nt[Mn[Ar+8]]+Nt[Mn[Ar+9]]+"-"+Nt[Mn[Ar+10]]+Nt[Mn[Ar+11]]+Nt[Mn[Ar+12]]+Nt[Mn[Ar+13]]+Nt[Mn[Ar+14]]+Nt[Mn[Ar+15]]).toLowerCase()}(Yt)}const Cr=function Qr(Mn,Ar,nn){return!Ve.randomUUID||Ar||Mn?Bn(Mn,Ar,nn):Ve.randomUUID()};var Li=B(620);let si=(()=>{class Mn extends Ti{constructor(nn){super("AppDatabase"),this.userCtx=nn,this.initializedTables=new Set,this.tablesName=["columns","tasks","users"],this.fullTablesName=[...this.tablesName,"default_table"];const Yt={};for(const ft of this.fullTablesName)Yt[ft]="id",Yt[ft]="id,updatedAt,synced";this.version(1).stores(Yt),this.open().catch(ft=>console.error("DB open failed:",ft));for(const ft of this.tablesName)this.initializedTables.add(ft)}ensureTable(nn,Yt){var ft=this;return(0,w.A)(function*(){if(!ft.initializedTables.has(nn))try{const en=Object.keys(Yt).filter(or=>/^[a-zA-Z0-9_]+$/.test(or));en.includes("id")||en.unshift("id"),"synced"in en||en.push("synced");const Sn=en.join(",");ft.version(1).stores({[nn]:Sn}),ft.initializedTables.add(nn)}catch(en){throw console.error("Dexie table creation failed:",en),en}})()}tableRef(nn,Yt){var ft=this;return(0,w.A)(function*(){return ft.initializedTables.has(nn)||(Yt?yield ft.ensureTable(nn,Yt):yield ft.ensureTable(nn,{id:""})),ft.table(nn)})()}save(nn,Yt){var ft=this;return(0,w.A)(function*(){try{const en=Date.now(),Sn={...Yt,id:Yt.id||Yt.uid||Cr(),createdAt:Yt.createdAt||en,updatedAt:en,synced:Yt.synced??!1};return yield ft.ensureTable(nn,Sn),yield(yield ft.tableRef(nn)).put(Sn),!0}catch(en){return console.error("DBService.save error:",en),!1}})()}bulkSave(nn,Yt){var ft=this;return(0,w.A)(function*(){try{if(!Yt.length)return!0;const en=Date.now(),Sn=Yt.map(gr=>({...gr,id:gr.id||gr.uid||Cr(),createdAt:gr.createdAt||en,updatedAt:en,synced:gr.synced??!1}));return yield ft.ensureTable(nn,Sn[0]),yield(yield ft.tableRef(nn)).bulkPut(Sn),!0}catch(en){return console.error("DBService.bulkSave error:",en),!1}})()}update(nn,Yt){var ft=this;return(0,w.A)(function*(){try{const en=Date.now(),Sn={...Yt,updatedAt:en,synced:Yt.synced??!1};return yield ft.ensureTable(nn,Sn),yield(yield ft.tableRef(nn)).put(Sn),!0}catch(en){return console.error("DBService.update error:",en),!1}})()}bulkUpdate(nn,Yt){var ft=this;return(0,w.A)(function*(){try{if(!Yt.length)return!0;const en=Date.now(),Sn=Yt.map(gr=>({...gr,updatedAt:en,synced:gr.synced??!1}));return yield ft.ensureTable(nn,Sn[0]),yield(yield ft.tableRef(nn)).bulkPut(Sn),!0}catch(en){return console.error("DBService.bulkSave error:",en),!1}})()}list(nn){var Yt=this;return(0,w.A)(function*(){try{return yield(yield Yt.tableRef(nn)).toArray()}catch(ft){return console.error("DBService.all error:",ft),[]}})()}get(nn,Yt){var ft=this;return(0,w.A)(function*(){try{return yield(yield ft.tableRef(nn)).get(Yt)}catch(en){return void console.error("DBService.get error:",en)}})()}bulkGet(nn,Yt){var ft=this;return(0,w.A)(function*(){try{const en=yield ft.list(nn),{field:Sn,value:or}=Yt;if(!Sn||null==or)throw new Error("Champ ou valeur manquant");return en.filter(gr=>{const on=gr[Sn];return Array.isArray(or)?or.includes(on):on===or})}catch(en){return console.error("DBService.bulkGet error:",en),[]}})()}getItem(nn,Yt){var ft=this;return(0,w.A)(function*(){return yield(yield ft.tableRef(nn)).get(Yt)})()}getByField(nn,Yt,ft){var en=this;return(0,w.A)(function*(){try{return(yield en.list(nn)).filter(or=>or[Yt]===ft)}catch(Sn){return console.error("Erreur getByField",Sn),[]}})()}deleteItem(nn,Yt){var ft=this;return(0,w.A)(function*(){try{return!(!ft.userCtx.currentUser||!(yield ft.getItem(nn,Yt))||(yield(yield ft.tableRef(nn)).delete(Yt),0))}catch(en){return console.error("DBService.delete error:",en),!1}})()}bulkDelete(nn,Yt){var ft=this;return(0,w.A)(function*(){try{return!!ft.userCtx.currentUser&&(yield(yield ft.tableRef(nn)).bulkDelete(Yt),!0)}catch(en){return console.error("DBService.delete error:",en),!1}})()}getUnsynced(nn){var Yt=this;return(0,w.A)(function*(){try{return(yield(yield Yt.tableRef(nn)).toArray()).filter(Sn=>!1===Sn.synced)}catch(ft){return console.error("DBService.getUnsynced error:",ft),[]}})()}markAsSynced(nn,Yt){var ft=this;return(0,w.A)(function*(){try{yield(yield ft.tableRef(nn)).update(Yt,Sn=>{Sn&&(Sn.synced=!0,Sn.updatedAt=Date.now())})}catch(en){console.error("DBService.markAsSynced error:",en)}})()}static{this.\u0275fac=function(Yt){return new(Yt||Mn)(Re.KVO(Li.i))}}static{this.\u0275prov=Re.jDH({token:Mn,factory:Mn.\u0275fac,providedIn:"root"})}}return Mn})();var Xr=B(6246),ni=B(1334);let Jr=(()=>{class Mn{constructor(nn,Yt,ft,en,Sn){this.conn=nn,this.db=Yt,this.socket=ft,this.http=en,this.userCtx=Sn,this.online=navigator.onLine,this.base=ee.c.backendUrl,this.online=this.conn.isOnline}save(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){const{uid:gr}=ft.userCtx.requireUser();try{const nr={...Sn,owner:gr,createdAt:Sn.createdAt||Date.now(),synced:!1};let mr=!1;if(or){const ei={...Sn,synced:!0},Rn=yield ft.userCtx.authHeaders();mr=200===(yield(0,ne._)(ft.http.post(`${ft.base}/api/${en}`,ei,Rn)))?.status}else mr=yield ft.db.save(en,nr),mr&&ft.syncToServer(en);return mr&&ft.socket.isConnected()&&ft.socket.emit(`${en}:created`,nr),mr}catch{return!1}}).apply(this,arguments)}bulkSave(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1,gr=!0){try{const on=Date.now(),nr=Sn.map(ei=>({...ei,createdAt:ei.createdAt||on,synced:!1}));let mr=!1;if(or){const ei=Sn.map(ts=>({...ts,synced:!0})),Rn=yield ft.userCtx.authHeaders();mr=200===(yield(0,ne._)(ft.http.post(`${ft.base}/api/${en}/bulk-create`,ei,Rn)))?.status}else mr=yield ft.db.bulkSave(en,nr),mr&&gr&&ft.syncToServer(en);return mr&&ft.socket.isConnected()&&ft.socket.emit(`${en}:created`,nr),mr}catch{return!1}}).apply(this,arguments)}update(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){const{uid:gr,isAdmin:on}=ft.userCtx.requireUser();try{if(!on&&Sn.owner!==gr)throw new Error("Permission refus\xe9e");const nr={...Sn,updatedAt:Date.now(),synced:!1};let mr=!1;if(or){const ei={...Sn,synced:!0},Rn=yield ft.userCtx.authHeaders();mr=200===(yield(0,ne._)(ft.http.put(`${ft.base}/api/${en}/${Sn.id}`,ei,Rn)))?.status}else mr=yield ft.db.update(en,nr),mr&&ft.syncToServer(en);return mr&&ft.socket.isConnected()&&ft.socket.emit(`${en}:updated`,nr),mr}catch{return!1}}).apply(this,arguments)}bulkUpdate(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){try{const gr=Date.now(),on=Sn.map(mr=>({...mr,updatedAt:gr,synced:!1}));let nr=!1;if(or){const mr=Sn.map(Nn=>({...Nn,synced:!0})),ei=yield ft.userCtx.authHeaders();nr=200===(yield(0,ne._)(ft.http.put(`${ft.base}/api/${en}/bulk-update`,mr,ei)))?.status}else nr=yield ft.db.bulkUpdate(en,on),nr&&ft.syncToServer(en);return nr&&ft.socket.isConnected()&&ft.socket.emit(`${en}:updated`,on),nr}catch{return!1}}).apply(this,arguments)}saveOrUpdate(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){try{const gr=Sn.id??crypto.randomUUID(),on=Sn.id?yield ft.get(en,gr,or):void 0,nr={...Sn,id:gr,updatedAt:Date.now(),synced:!1};if(on){const mr={...on,...nr},ei=yield ft.update(en,mr,or);return console.info(`[saveOrUpdate] Updated data ${gr}`),ei}{const mr=yield ft.save(en,nr,or);return console.info(`[saveOrUpdate] Created data ${gr}`),mr}}catch{return!1}}).apply(this,arguments)}delete(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){ft.userCtx.requireUser();try{let nr=!1;const mr=yield ft.userCtx.authHeaders();return or?nr=200===(yield(0,ne._)(ft.http.delete(`${ft.base}/api/${en}/${Sn}`,mr))).status:(nr=yield ft.db.deleteItem(en,Sn),nr&&(yield ft.syncToServer(en))),nr&&ft.socket.isConnected()&&ft.socket.emit(`${en}:deleted`,Sn),nr}catch{return!1}}).apply(this,arguments)}bulkDelete(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){ft.userCtx.requireUser();try{let nr=!1;const mr=yield ft.userCtx.authHeaders();if(or)nr=200===(yield(0,ne._)(ft.http.post(`${ft.base}/api/${en}/bulk-delete`,Sn,mr))).status;else{for(const ei of Sn)nr=yield ft.db.deleteItem(en,ei);nr&&(yield ft.syncToServer(en))}return nr&&ft.socket.isConnected()&&ft.socket.emit(`${en}:deleted`,Sn),nr}catch{return!1}}).apply(this,arguments)}list(nn){var Yt=this;return(0,w.A)(function*(ft,en=!1){Yt.userCtx.requireUser();try{const gr=yield Yt.userCtx.authHeaders();let on=[];if(en){const nr=yield(0,ne._)(Yt.http.get(`${Yt.base}/api/${ft}`,gr));200===nr.status&&(on=nr.data)}else on=yield Yt.db.list(ft);return on.sort((nr,mr)=>(nr.position??0)-(mr.position??0))}catch{return[]}}).apply(this,arguments)}get(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){ft.userCtx.requireUser();try{let nr;const mr=yield ft.userCtx.authHeaders();if(or){const ei=yield(0,ne._)(ft.http.get(`${ft.base}/api/${en}/${Sn}`,mr));200===ei.status&&(nr=ei.data)}else nr=yield ft.db.getItem(en,Sn);return nr}catch{return}}).apply(this,arguments)}bulkGet(nn,Yt){var ft=this;return(0,w.A)(function*(en,Sn,or=!1){ft.userCtx.requireUser();try{let nr=[];const mr=yield ft.userCtx.authHeaders();if(or){const ei=yield(0,ne._)(ft.http.post(`${ft.base}/api/${en}/bulk-get`,Sn,mr));200===ei.status&&(nr=ei.data)}else nr=yield ft.db.bulkGet(en,Sn);return nr&&nr.length>0?nr:[]}catch{return[]}}).apply(this,arguments)}getByField(nn,Yt,ft){var en=this;return(0,w.A)(function*(Sn,or,gr,on=!1){en.userCtx.requireUser();try{const ei=yield en.userCtx.authHeaders();let Rn=[];if(on){const Nn=yield(0,ne._)(en.http.post(`${en.base}/api/${Sn}/by-field`,{field:or,value:gr},ei));200===Nn.status&&(Rn=Nn.data)}else Rn=yield en.db.getByField(Sn,or,gr);return Rn.sort((Nn,ts)=>(Nn.position??0)-(ts.position??0))}catch{return[]}}).apply(this,arguments)}syncToServer(nn){var Yt=this;return(0,w.A)(function*(){let ft=!1;if(Yt.online)try{const en=yield Yt.db.getUnsynced(nn);ft=!(en.length>0)||(yield Yt.bulkSave(nn,en,!0))}catch{ft=!1}return Yt.socket.isConnected()&&Yt.socket.emit(`${nn}:synced`,ft),yield Yt.afterSync(nn,ft,"toServer"),ft})()}syncFromServer(nn){var Yt=this;return(0,w.A)(function*(ft,en=!0,Sn=!1){let or=!1;if(Yt.online){const{uid:gr,isAdmin:on}=Yt.userCtx.requireUser();try{try{const mr=yield Yt.getByField(ft,"deleted",!0,!0);if(console.log(mr),mr.length>0)for(const ei of mr)try{(yield Yt.delete(ft,ei.id,!0))&&(yield Yt.delete(ft,ei.id,!1))}catch{}}catch{}let nr=[];nr=on||Sn?yield Yt.list(ft,!0):yield Yt.bulkGet(ft,{field:"owner",value:gr},!0),nr.length>0&&(or=yield Yt.bulkSave(ft,nr,!1,en))}catch{or=!1}}return Yt.socket.isConnected()&&Yt.socket.emit(`${ft}:synced`,or),yield Yt.afterSync(ft,or,"fromServer"),or}).apply(this,arguments)}afterSync(nn,Yt,ft){return(0,w.A)(function*(){Yt&&console.log(`[SYNC SUCCESS] ${nn} (${ft??"unknown"}) synced successfully`)})()}static{this.\u0275fac=function(Yt){return new(Yt||Mn)(Re.KVO(We),Re.KVO(si),Re.KVO(Xr.L),Re.KVO(ni.Qq),Re.KVO(Li.i))}}static{this.\u0275prov=Re.jDH({token:Mn,factory:Mn.\u0275fac,providedIn:"root"})}}return Mn})()},472:(Xn,Tt,B)=>{"use strict";B.d(Tt,{_:()=>re});var w=B(4690),ne=B(2831),ee=B(1489),Re=B(620);let re=(()=>{class ye{constructor(De){this.userCtx=De}intercept(De,rt){return(0,w.H)(this.userCtx.getIdToken(!1)).pipe((0,ne.n)(ve=>{const lt=De.clone({setHeaders:ve?{Authorization:`Bearer ${ve}`}:{}});return rt.handle(lt)}))}static{this.\u0275fac=function(rt){return new(rt||ye)(ee.KVO(Re.i))}}static{this.\u0275prov=ee.jDH({token:ye,factory:ye.\u0275fac})}}return ye})()},620:(Xn,Tt,B)=>{"use strict";B.d(Tt,{i:()=>ve});var w=B(3308),ne=B(1334),ee=B(1278),Re=B(4711),re=B(5981),ye=B(5804),Fe=B(946),De=B(3527),rt=B(1489);let ve=(()=>{class Ie{constructor(ht){this.auth=ht,this._user$=new re.t(null),this.user$=this._user$.asObservable().pipe((0,Fe.t)(1)),this.isAuthenticated$=this.user$.pipe((0,De.T)(mt=>!!mt),(0,Fe.t)(1)),this.ready=new Promise(mt=>this._readyResolve=mt),this.refreshTimer=null,(0,ee.oM)(this.auth,Re.F0).catch(mt=>{}),(0,ee.wh)(this.auth).subscribe(mt=>{mt&&mt.emailVerified?(this._user$.next(mt),this.updateTokenCache(mt).catch(()=>{}),this.scheduleTokenRefresh(mt)):(this._user$.next(null),this.clearTokenCache()),this._readyResolve()}),(0,ee.iZ)(this.auth,mt=>{mt&&mt.emailVerified?(this._user$.next(mt),this.updateTokenCache(mt).catch(()=>{})):(this._user$.next(null),this.clearTokenCache())})}get tokenCache(){try{const ht=localStorage.getItem("tokenCache");if(ht)return JSON.parse(ht)}catch{}return null}ensureInitialized(){var ht=this;return(0,w.A)(function*(){return ht.ready})()}get currentUser(){return this._user$.value}isAuthenticatedSync(){return null!==this._user$.value}requireUser(){const ht=this.currentUser;if(!ht)throw new Error("Utilisateur non authentifi\xe9");return{uid:ht.uid,user:ht,isAdmin:"admin"===ht.role}}getIdToken(){var ht=this;return(0,w.A)(function*(mt=!1){try{const Jt=yield(0,ye._)(ht.user$);if(!Jt)return null;const Ht=Date.now();if(!mt&&ht.tokenCache&&ht.tokenCache.expirationTime-Ht>12e4)return ht.tokenCache.token;const hn=yield Jt.getIdTokenResult(mt),dn={token:hn.token,expirationTime:new Date(hn.expirationTime).getTime()};localStorage.setItem("tokenCache",JSON.stringify(dn)),ht.scheduleTokenRefresh(Jt)}catch{}return ht.tokenCache?.token??null}).apply(this,arguments)}updateTokenCache(ht){return(0,w.A)(function*(){try{const mt=yield ht.getIdTokenResult(),Jt={token:mt.token,expirationTime:new Date(mt.expirationTime).getTime()};localStorage.setItem("tokenCache",JSON.stringify(Jt))}catch{}})()}clearTokenCache(){localStorage.removeItem("tokenCache"),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null)}scheduleTokenRefresh(ht){var mt=this;this.refreshTimer&&clearTimeout(this.refreshTimer),ht.getIdTokenResult().then(Jt=>{let dn=new Date(Jt.expirationTime).getTime()-Date.now()-12e4;dn<3e4&&(dn=3e4),this.refreshTimer=setTimeout((0,w.A)(function*(){try{yield ht.getIdToken(!0),yield mt.updateTokenCache(ht),mt.scheduleTokenRefresh(ht)}catch(Kt){console.warn("[UserCtx] token refresh failed",Kt),mt.refreshTimer=setTimeout(()=>mt.scheduleTokenRefresh(ht),3e4)}}),dn)}).catch(Jt=>{console.warn("[UserCtx] scheduleTokenRefresh failed",Jt)})}authHeaders(){var ht=this;return(0,w.A)(function*(){const mt=yield ht.getIdToken();return{headers:new ne.Lr({Authorization:mt?`Bearer ${mt}`:""})}})()}static{this.\u0275fac=function(mt){return new(mt||Ie)(rt.KVO(ee.Nj))}}static{this.\u0275prov=rt.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},756:(Xn,Tt,B)=>{"use strict";B.d(Tt,{of:()=>ee});var w=B(2363),ne=B(4690);function ee(...Re){const re=(0,w.lI)(Re);return(0,ne.H)(Re,re)}},943:(Xn,Tt,B)=>{"use strict";B.d(Tt,{G:()=>ne});const ne=(0,B(4520).L)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},946:(Xn,Tt,B)=>{"use strict";B.d(Tt,{t:()=>rt});var w=B(6104),ne=B(4808);class ee extends w.B{constructor(Ie=1/0,lt=1/0,ht=ne.U){super(),this._bufferSize=Ie,this._windowTime=lt,this._timestampProvider=ht,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,Ie),this._windowTime=Math.max(1,lt)}next(Ie){const{isStopped:lt,_buffer:ht,_infiniteTimeWindow:mt,_timestampProvider:Jt,_windowTime:Ht}=this;lt||(ht.push(Ie),!mt&&ht.push(Jt.now()+Ht)),this._trimBuffer(),super.next(Ie)}_subscribe(Ie){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(Ie),{_infiniteTimeWindow:ht,_buffer:mt}=this,Jt=mt.slice();for(let Ht=0;Ht<Jt.length&&!Ie.closed;Ht+=ht?1:2)Ie.next(Jt[Ht]);return this._checkFinalizedStatuses(Ie),lt}_trimBuffer(){const{_bufferSize:Ie,_timestampProvider:lt,_buffer:ht,_infiniteTimeWindow:mt}=this,Jt=(mt?1:2)*Ie;if(Ie<1/0&&Jt<ht.length&&ht.splice(0,ht.length-Jt),!mt){const Ht=lt.now();let hn=0;for(let dn=1;dn<ht.length&&ht[dn]<=Ht;dn+=2)hn=dn;hn&&ht.splice(0,hn+1)}}}var Re=B(8621),re=B(4500),ye=B(9867);function De(ve,Ie,...lt){if(!0===Ie)return void ve();if(!1===Ie)return;const ht=new re.Ms({next:()=>{ht.unsubscribe(),ve()}});return(0,Re.Tg)(Ie(...lt)).subscribe(ht)}function rt(ve,Ie,lt){let ht,mt=!1;return ve&&"object"==typeof ve?({bufferSize:ht=1/0,windowTime:Ie=1/0,refCount:mt=!1,scheduler:lt}=ve):ht=ve??1/0,function Fe(ve={}){const{connector:Ie=()=>new w.B,resetOnError:lt=!0,resetOnComplete:ht=!0,resetOnRefCountZero:mt=!0}=ve;return Jt=>{let Ht,hn,dn,Kt=0,Ut=!1,Wt=!1;const We=()=>{hn?.unsubscribe(),hn=void 0},St=()=>{We(),Ht=dn=void 0,Ut=Wt=!1},pt=()=>{const kt=Ht;St(),kt?.unsubscribe()};return(0,ye.N)((kt,Rt)=>{Kt++,!Wt&&!Ut&&We();const at=dn=dn??Ie();Rt.add(()=>{Kt--,0===Kt&&!Wt&&!Ut&&(hn=De(pt,mt))}),at.subscribe(Rt),!Ht&&Kt>0&&(Ht=new re.Ms({next:kn=>at.next(kn),error:kn=>{Wt=!0,We(),hn=De(St,lt,kn),at.error(kn)},complete:()=>{Ut=!0,We(),hn=De(St,ht),at.complete()}}),(0,Re.Tg)(kt).subscribe(Ht))})(Jt)}}({connector:()=>new ee(ht,Ie,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:mt})}},965:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Z:()=>Re});var w=B(7267),ne=B(2363),ee=B(9867);function Re(...re){const ye=(0,ne.lI)(re);return(0,ee.N)((Fe,De)=>{(ye?(0,w.x)(re,Fe,ye):(0,w.x)(re,Fe)).subscribe(De)})}},1053:(Xn,Tt,B)=>{"use strict";B.d(Tt,{kR:()=>it});var w=B(6719),re=(B(1489),B(4227),B(2598),B(3308)),ye=B(2470),Fe=B(6834),De=B(6383),rt=B(7129);const ve=new Map,Ie={activated:!1,tokenObservers:[]},lt={initialized:!1,enabled:!1};function ht(Pe){return ve.get(Pe)||Object.assign({},Ie)}function Jt(){return lt}class We{constructor(Qe,Pt,fn,In,En){if(this.operation=Qe,this.retryPolicy=Pt,this.getWaitDuration=fn,this.lowerBound=In,this.upperBound=En,this.pending=null,this.nextErrorWaitInterval=In,In>En)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Qe){var Pt=this;return(0,re.A)(function*(){Pt.stop();try{Pt.pending=new De.cY,Pt.pending.promise.catch(fn=>{}),yield function St(Pe){return new Promise(Qe=>{setTimeout(Qe,Pe)})}(Pt.getNextRun(Qe)),Pt.pending.resolve(),yield Pt.pending.promise,Pt.pending=new De.cY,Pt.pending.promise.catch(fn=>{}),yield Pt.operation(),Pt.pending.resolve(),yield Pt.pending.promise,Pt.process(!0).catch(()=>{})}catch(fn){Pt.retryPolicy(fn)?Pt.process(!1).catch(()=>{}):Pt.stop()}})()}getNextRun(Qe){if(Qe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Pt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Pt}}}const kt=new De.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function at(Pe){if(!ht(Pe).activated)throw kt.create("use-before-activation",{appName:Pe.name})}function Hr(Pe,Qe){return pr.apply(this,arguments)}function pr(){return(pr=(0,re.A)(function*({url:Pe,body:Qe},Pt){const fn={"Content-Type":"application/json"},In=Pt.getImmediate({optional:!0});if(In){const ls=yield In.getHeartbeatsHeader();ls&&(fn["X-Firebase-Client"]=ls)}const En={method:"POST",body:JSON.stringify(Qe),headers:fn};let Gr,Sr;try{Gr=yield fetch(Pe,En)}catch(ls){throw kt.create("fetch-network-error",{originalErrorMessage:ls?.message})}if(200!==Gr.status)throw kt.create("fetch-status-error",{httpStatus:Gr.status});try{Sr=yield Gr.json()}catch(ls){throw kt.create("fetch-parse-error",{originalErrorMessage:ls?.message})}const Tn=Sr.ttl.match(/^([\d.]+)(s)$/);if(!Tn||!Tn[2]||isNaN(Number(Tn[1])))throw kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Sr.ttl}`});const ji=1e3*Number(Tn[1]),mi=Date.now();return{token:Sr.token,expireTimeMillis:mi+ji,issuedAtTimeMillis:mi}})).apply(this,arguments)}function Ur(Pe,Qe){const{projectId:Pt,appId:fn,apiKey:In}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Pt}/apps/${fn}:exchangeDebugToken?key=${In}`,body:{debug_token:Qe}}}const Ti="firebase-app-check-store";let Ve=null;function ur(){return(ur=(0,re.A)(function*(Pe,Qe){const fn=(yield function He(){return Ve||(Ve=new Promise((Pe,Qe)=>{try{const Pt=indexedDB.open("firebase-app-check-database",1);Pt.onsuccess=fn=>{Pe(fn.target.result)},Pt.onerror=fn=>{var In;Qe(kt.create("storage-open",{originalErrorMessage:null===(In=fn.target.error)||void 0===In?void 0:In.message}))},Pt.onupgradeneeded=fn=>{0===fn.oldVersion&&fn.target.result.createObjectStore(Ti,{keyPath:"compositeKey"})}}catch(Pt){Qe(kt.create("storage-open",{originalErrorMessage:Pt?.message}))}}),Ve)}()).transaction(Ti,"readwrite"),En=fn.objectStore(Ti).put({compositeKey:Pe,value:Qe});return new Promise((Gr,Sr)=>{En.onsuccess=Tn=>{Gr()},fn.onerror=Tn=>{var ji;Sr(kt.create("storage-set",{originalErrorMessage:null===(ji=Tn.target.error)||void 0===ji?void 0:ji.message}))}})})).apply(this,arguments)}const Li=new rt.Vy("@firebase/app-check");function ni(Pe,Qe){return(0,De.zW)()?function qe(Pe,Qe){return function sn(Pe,Qe){return ur.apply(this,arguments)}(function Cr(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),Qe)}(Pe,Qe).catch(Pt=>{Li.warn(`Failed to write token to IndexedDB. Error: ${Pt}`)}):Promise.resolve()}function Ar(){return Jt().enabled}function nn(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,re.A)(function*(){const Pe=Jt();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const en={error:"UNKNOWN_ERROR"};function Sn(Pe){return De.K3.encodeString(JSON.stringify(Pe),!1)}function or(Pe){return gr.apply(this,arguments)}function gr(){return(gr=(0,re.A)(function*(Pe,Qe=!1,Pt=!1){const fn=Pe.app;at(fn);const In=ht(fn);let Gr,En=In.token;if(En&&!ti(En)&&(In.token=void 0,En=void 0),!En){const ji=yield In.cachedTokenPromise;ji&&(ti(ji)?En=ji:yield ni(fn,void 0))}if(!Qe&&En&&ti(En))return{token:En.token};let Tn,Sr=!1;if(Ar())try{In.exchangeTokenPromise||(In.exchangeTokenPromise=Hr(Ur(fn,yield nn()),Pe.heartbeatServiceProvider).finally(()=>{In.exchangeTokenPromise=void 0}),Sr=!0);const ji=yield In.exchangeTokenPromise;return yield ni(fn,ji),In.token=ji,{token:ji.token}}catch(ji){return"appCheck/throttled"===ji.code||"appCheck/initial-throttle"===ji.code?Li.warn(ji.message):Pt&&Li.error(ji),On(ji)}try{In.exchangeTokenPromise||(In.exchangeTokenPromise=In.provider.getToken().finally(()=>{In.exchangeTokenPromise=void 0}),Sr=!0),En=yield ht(fn).exchangeTokenPromise}catch(ji){"appCheck/throttled"===ji.code||"appCheck/initial-throttle"===ji.code?Li.warn(ji.message):Pt&&Li.error(ji),Gr=ji}return En?Gr?Tn=ti(En)?{token:En.token,internalError:Gr}:On(Gr):(Tn={token:En.token},In.token=En,yield ni(fn,En)):Tn=On(Gr),Sr&&function ts(Pe,Qe){const Pt=ht(Pe).tokenObservers;for(const fn of Pt)try{"EXTERNAL"===fn.type&&null!=Qe.error?fn.error(Qe.error):fn.next(Qe)}catch{}}(fn,Tn),Tn})).apply(this,arguments)}function nr(){return(nr=(0,re.A)(function*(Pe){const Qe=Pe.app;at(Qe);const{provider:Pt}=ht(Qe);if(Ar()){const fn=yield nn(),{token:In}=yield Hr(Ur(Qe,fn),Pe.heartbeatServiceProvider);return{token:In}}{const{token:fn}=yield Pt.getToken();return{token:fn}}})).apply(this,arguments)}function ei(Pe,Qe){const Pt=ht(Pe),fn=Pt.tokenObservers.filter(In=>In.next!==Qe);0===fn.length&&Pt.tokenRefresher&&Pt.tokenRefresher.isRunning()&&Pt.tokenRefresher.stop(),Pt.tokenObservers=fn}function Rn(Pe){const{app:Qe}=Pe,Pt=ht(Qe);let fn=Pt.tokenRefresher;fn||(fn=function Nn(Pe){const{app:Qe}=Pe;return new We((0,re.A)(function*(){let fn;if(fn=ht(Qe).token?yield or(Pe,!0):yield or(Pe),fn.error)throw fn.error;if(fn.internalError)throw fn.internalError}),()=>!0,()=>{const Pt=ht(Qe);if(Pt.token){let fn=Pt.token.issuedAtTimeMillis+.5*(Pt.token.expireTimeMillis-Pt.token.issuedAtTimeMillis)+3e5;return fn=Math.min(fn,Pt.token.expireTimeMillis-3e5),Math.max(0,fn-Date.now())}return 0},3e4,96e4)}(Pe),Pt.tokenRefresher=fn),!fn.isRunning()&&Pt.isTokenAutoRefreshEnabled&&fn.start()}function ti(Pe){return Pe.expireTimeMillis-Date.now()>0}function On(Pe){return{token:Sn(en),error:Pe}}class An{constructor(Qe,Pt){this.app=Qe,this.heartbeatServiceProvider=Pt}_delete(){const{tokenObservers:Qe}=ht(this.app);for(const Pt of Qe)ei(this.app,Pt.next);return Promise.resolve()}}const xr="app-check-internal";!function se(){(0,ye.om)(new Fe.uA("app-check",Pe=>function Ui(Pe,Qe){return new An(Pe,Qe)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,Qe,Pt)=>{Pe.getProvider(xr).initialize()})),(0,ye.om)(new Fe.uA(xr,Pe=>function ns(Pe){return{getToken:Qe=>or(Pe,Qe),getLimitedUseToken:()=>function on(Pe){return nr.apply(this,arguments)}(Pe),addTokenListener:Qe=>function mr(Pe,Qe,Pt,fn){const{app:In}=Pe,En=ht(In);if(En.tokenObservers=[...En.tokenObservers,{next:Pt,error:fn,type:Qe}],En.token&&ti(En.token)){const Sr=En.token;Promise.resolve().then(()=>{Pt({token:Sr.token}),Rn(Pe)}).catch(()=>{})}En.cachedTokenPromise.then(()=>Rn(Pe))}(Pe,"INTERNAL",Qe),removeTokenListener:Qe=>ei(Pe.app,Qe)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ye.KO)("@firebase/app-check","0.10.1")}();class it{constructor(){return(0,w.CA)("app-check")}}typeof window<"u"&&window},1064:(Xn,Tt,B)=>{"use strict";B.d(Tt,{FX:()=>dn,If:()=>w,K2:()=>ye,PZ:()=>hn,hZ:()=>ee,i0:()=>Re,iF:()=>Fe,kY:()=>ve,kp:()=>ne,sf:()=>Ht});var w=function(Kt){return Kt[Kt.State=0]="State",Kt[Kt.Transition=1]="Transition",Kt[Kt.Sequence=2]="Sequence",Kt[Kt.Group=3]="Group",Kt[Kt.Animate=4]="Animate",Kt[Kt.Keyframes=5]="Keyframes",Kt[Kt.Style=6]="Style",Kt[Kt.Trigger=7]="Trigger",Kt[Kt.Reference=8]="Reference",Kt[Kt.AnimateChild=9]="AnimateChild",Kt[Kt.AnimateRef=10]="AnimateRef",Kt[Kt.Query=11]="Query",Kt[Kt.Stagger=12]="Stagger",Kt}(w||{});const ne="*";function ee(Kt,Ut){return{type:w.Trigger,name:Kt,definitions:Ut,options:{}}}function Re(Kt,Ut=null){return{type:w.Animate,styles:Ut,timings:Kt}}function ye(Kt,Ut=null){return{type:w.Sequence,steps:Kt,options:Ut}}function Fe(Kt){return{type:w.Style,styles:Kt,offset:null}}function ve(Kt,Ut,Wt=null){return{type:w.Transition,expr:Kt,animation:Ut,options:Wt}}class Ht{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Ut=0,Wt=0){this.totalTime=Ut+Wt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ut=>Ut()),this._onDoneFns=[])}onStart(Ut){this._originalOnStartFns.push(Ut),this._onStartFns.push(Ut)}onDone(Ut){this._originalOnDoneFns.push(Ut),this._onDoneFns.push(Ut)}onDestroy(Ut){this._onDestroyFns.push(Ut)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ut=>Ut()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ut=>Ut()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ut){this._position=this.totalTime?Ut*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ut){const Wt="start"==Ut?this._onStartFns:this._onDoneFns;Wt.forEach(We=>We()),Wt.length=0}}class hn{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Ut){this.players=Ut;let Wt=0,We=0,St=0;const pt=this.players.length;0==pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(kt=>{kt.onDone(()=>{++Wt==pt&&this._onFinish()}),kt.onDestroy(()=>{++We==pt&&this._onDestroy()}),kt.onStart(()=>{++St==pt&&this._onStart()})}),this.totalTime=this.players.reduce((kt,Rt)=>Math.max(kt,Rt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ut=>Ut()),this._onDoneFns=[])}init(){this.players.forEach(Ut=>Ut.init())}onStart(Ut){this._onStartFns.push(Ut)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ut=>Ut()),this._onStartFns=[])}onDone(Ut){this._onDoneFns.push(Ut)}onDestroy(Ut){this._onDestroyFns.push(Ut)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ut=>Ut.play())}pause(){this.players.forEach(Ut=>Ut.pause())}restart(){this.players.forEach(Ut=>Ut.restart())}finish(){this._onFinish(),this.players.forEach(Ut=>Ut.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ut=>Ut.destroy()),this._onDestroyFns.forEach(Ut=>Ut()),this._onDestroyFns=[])}reset(){this.players.forEach(Ut=>Ut.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ut){const Wt=Ut*this.totalTime;this.players.forEach(We=>{const St=We.totalTime?Math.min(1,Wt/We.totalTime):1;We.setPosition(St)})}getPosition(){const Ut=this.players.reduce((Wt,We)=>null===Wt||We.totalTime>Wt.totalTime?We:Wt,null);return null!=Ut?Ut.getPosition():0}beforeDestroy(){this.players.forEach(Ut=>{Ut.beforeDestroy&&Ut.beforeDestroy()})}triggerCallback(Ut){const Wt="start"==Ut?this._onStartFns:this._onDoneFns;Wt.forEach(We=>We()),Wt.length=0}}const dn="!"},1227:(Xn,Tt,B)=>{"use strict";B.d(Tt,{R:()=>re});var w=B(2029);class ne extends w.yU{constructor(Fe,De){super()}schedule(Fe,De=0){return this}}const ee={setInterval(ye,Fe,...De){const{delegate:rt}=ee;return rt?.setInterval?rt.setInterval(ye,Fe,...De):setInterval(ye,Fe,...De)},clearInterval(ye){const{delegate:Fe}=ee;return(Fe?.clearInterval||clearInterval)(ye)},delegate:void 0};var Re=B(9583);class re extends ne{constructor(Fe,De){super(Fe,De),this.scheduler=Fe,this.work=De,this.pending=!1}schedule(Fe,De=0){var rt;if(this.closed)return this;this.state=Fe;const ve=this.id,Ie=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(Ie,ve,De)),this.pending=!0,this.delay=De,this.id=null!==(rt=this.id)&&void 0!==rt?rt:this.requestAsyncId(Ie,this.id,De),this}requestAsyncId(Fe,De,rt=0){return ee.setInterval(Fe.flush.bind(Fe,this),rt)}recycleAsyncId(Fe,De,rt=0){if(null!=rt&&this.delay===rt&&!1===this.pending)return De;null!=De&&ee.clearInterval(De)}execute(Fe,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const rt=this._execute(Fe,De);if(rt)return rt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,De){let ve,rt=!1;try{this.work(Fe)}catch(Ie){rt=!0,ve=Ie||new Error("Scheduled action threw falsy error")}if(rt)return this.unsubscribe(),ve}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:De}=this,{actions:rt}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Re.o)(rt,this),null!=Fe&&(this.id=this.recycleAsyncId(De,Fe,null)),this.delay=null,super.unsubscribe()}}}},1246:(Xn,Tt,B)=>{"use strict";B.d(Tt,{q:()=>ee});var w=B(4808);class ne{constructor(re,ye=ne.now){this.schedulerActionCtor=re,this.now=ye}schedule(re,ye=0,Fe){return new this.schedulerActionCtor(this,re).schedule(Fe,ye)}}ne.now=w.U.now;class ee extends ne{constructor(re,ye=ne.now){super(re,ye),this.actions=[],this._active=!1}flush(re){const{actions:ye}=this;if(this._active)return void ye.push(re);let Fe;this._active=!0;do{if(Fe=re.execute(re.state,re.delay))break}while(re=ye.shift());if(this._active=!1,Fe){for(;re=ye.shift();)re.unsubscribe();throw Fe}}}},1278:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Nj:()=>ch,DF:()=>Tl,wh:()=>Hy,eJ:()=>Wy,xI:()=>hh,hg:()=>zy,iZ:()=>Gy,_q:()=>oa,gA:()=>i_,J1:()=>xg,oM:()=>s_,x9:()=>gI,df:()=>mI,CI:()=>qy,f3:()=>u_});var w=B(6719),ne=B(1489),ee=B(4227),Re=B(1053),re=B(2598),ye=B(3308);const Ie=function(_){const l=[];let f=0;for(let b=0;b<_.length;b++){let L=_.charCodeAt(b);L<128?l[f++]=L:L<2048?(l[f++]=L>>6|192,l[f++]=63&L|128):55296==(64512&L)&&b+1<_.length&&56320==(64512&_.charCodeAt(b+1))?(L=65536+((1023&L)<<10)+(1023&_.charCodeAt(++b)),l[f++]=L>>18|240,l[f++]=L>>12&63|128,l[f++]=L>>6&63|128,l[f++]=63&L|128):(l[f++]=L>>12|224,l[f++]=L>>6&63|128,l[f++]=63&L|128)}return l},ht={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_,l){if(!Array.isArray(_))throw Error("encodeByteArray takes an array as a parameter");this.init_();const f=l?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let L=0;L<_.length;L+=3){const pe=_[L],$e=L+1<_.length,gt=$e?_[L+1]:0,_n=L+2<_.length,jn=_n?_[L+2]:0;let ar=(15&gt)<<2|jn>>6,Ps=63&jn;_n||(Ps=64,$e||(ar=64)),b.push(f[pe>>2],f[(3&pe)<<4|gt>>4],f[ar],f[Ps])}return b.join("")},encodeString(_,l){return this.HAS_NATIVE_SUPPORT&&!l?btoa(_):this.encodeByteArray(Ie(_),l)},decodeString(_,l){return this.HAS_NATIVE_SUPPORT&&!l?atob(_):function(_){const l=[];let f=0,b=0;for(;f<_.length;){const L=_[f++];if(L<128)l[b++]=String.fromCharCode(L);else if(L>191&&L<224){const pe=_[f++];l[b++]=String.fromCharCode((31&L)<<6|63&pe)}else if(L>239&&L<365){const _n=((7&L)<<18|(63&_[f++])<<12|(63&_[f++])<<6|63&_[f++])-65536;l[b++]=String.fromCharCode(55296+(_n>>10)),l[b++]=String.fromCharCode(56320+(1023&_n))}else{const pe=_[f++],$e=_[f++];l[b++]=String.fromCharCode((15&L)<<12|(63&pe)<<6|63&$e)}}return l.join("")}(this.decodeStringToByteArray(_,l))},decodeStringToByteArray(_,l){this.init_();const f=l?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let L=0;L<_.length;){const pe=f[_.charAt(L++)],gt=L<_.length?f[_.charAt(L)]:0;++L;const jn=L<_.length?f[_.charAt(L)]:64;++L;const Kn=L<_.length?f[_.charAt(L)]:64;if(++L,null==pe||null==gt||null==jn||null==Kn)throw new mt;b.push(pe<<2|gt>>4),64!==jn&&(b.push(gt<<4&240|jn>>2),64!==Kn&&b.push(jn<<6&192|Kn))}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _=0;_<this.ENCODED_VALS.length;_++)this.byteToCharMap_[_]=this.ENCODED_VALS.charAt(_),this.charToByteMap_[this.byteToCharMap_[_]]=_,this.byteToCharMapWebSafe_[_]=this.ENCODED_VALS_WEBSAFE.charAt(_),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_]]=_,_>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_)]=_,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_)]=_)}}};class mt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ht=function(_){return function(_){const l=Ie(_);return ht.encodeByteArray(l,!0)}(_).replace(/\./g,"")},hn=function(_){try{return ht.decodeString(_,!0)}catch(l){console.error("base64Decode failed: ",l)}return null};function pr(_){try{return(_.startsWith("http://")||_.startsWith("https://")?new URL(_).hostname:_).endsWith(".cloudworkstations.dev")}catch{return!1}}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Yt extends Error{constructor(l,f,b){super(f),this.code=l,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(l,f,b){this.service=l,this.serviceName=f,this.errors=b}create(l,...f){const b=f[0]||{},L=`${this.service}/${l}`,pe=this.errors[l],$e=pe?function en(_,l){return _.replace(Sn,(f,b)=>{const L=l[b];return null!=L?String(L):`<${b}?>`})}(pe,b):"Error";return new Yt(L,`${this.serviceName}: ${$e} (${L}).`,b)}}const Sn=/\{\$([^}]+)}/g;function ws(_){const l=[];for(const[f,b]of Object.entries(_))Array.isArray(b)?b.forEach(L=>{l.push(encodeURIComponent(f)+"="+encodeURIComponent(L))}):l.push(encodeURIComponent(f)+"="+encodeURIComponent(b));return l.length?"&"+l.join("&"):""}class Bi{constructor(l,f){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=f,this.task.then(()=>{l(this)}).catch(b=>{this.error(b)})}next(l){this.forEachObserver(f=>{f.next(l)})}error(l){this.forEachObserver(f=>{f.error(l)}),this.close(l)}complete(){this.forEachObserver(l=>{l.complete()}),this.close()}subscribe(l,f,b){let L;if(void 0===l&&void 0===f&&void 0===b)throw new Error("Missing Observer.");L=function Wi(_,l){if("object"!=typeof _||null===_)return!1;for(const f of l)if(f in _&&"function"==typeof _[f])return!0;return!1}(l,["next","error","complete"])?l:{next:l,error:f,complete:b},void 0===L.next&&(L.next=qr),void 0===L.error&&(L.error=qr),void 0===L.complete&&(L.complete=qr);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),pe}unsubscribeOne(l){void 0===this.observers||void 0===this.observers[l]||(delete this.observers[l],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(l){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,l)}sendOne(l,f){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[l])try{f(this.observers[l])}catch(b){typeof console<"u"&&console.error&&console.error(b)}})}close(l){this.finalized||(this.finalized=!0,void 0!==l&&(this.finalError=l),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}function Oe(_){return _&&_._delegate?_._delegate:_}class tr{constructor(l,f,b){this.name=l,this.instanceFactory=f,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(l){return this.instantiationMode=l,this}setMultipleInstances(l){return this.multipleInstances=l,this}setServiceProps(l){return this.serviceProps=l,this}setInstanceCreatedCallback(l){return this.onInstanceCreated=l,this}}const it=[];var At=function(_){return _[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT",_}(At||{});const $t={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},Vn=At.INFO,Yn={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},ce=(_,l,...f)=>{if(l<_.logLevel)return;const b=(new Date).toISOString(),L=Yn[l];if(!L)throw new Error(`Attempted to log a message with an invalid logType (value: ${l})`);console[L](`[${b}]  ${_.name}:`,...f)};class H{constructor(l){this.name=l,this._logLevel=Vn,this._logHandler=ce,this._userLogHandler=null,it.push(this)}get logLevel(){return this._logLevel}set logLevel(l){if(!(l in At))throw new TypeError(`Invalid value "${l}" assigned to \`logLevel\``);this._logLevel=l}setLogLevel(l){this._logLevel="string"==typeof l?$t[l]:l}get logHandler(){return this._logHandler}set logHandler(l){if("function"!=typeof l)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=l}get userLogHandler(){return this._userLogHandler}set userLogHandler(l){this._userLogHandler=l}debug(...l){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...l),this._logHandler(this,At.DEBUG,...l)}log(...l){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...l),this._logHandler(this,At.VERBOSE,...l)}info(...l){this._userLogHandler&&this._userLogHandler(this,At.INFO,...l),this._logHandler(this,At.INFO,...l)}warn(...l){this._userLogHandler&&this._userLogHandler(this,At.WARN,...l),this._logHandler(this,At.WARN,...l)}error(...l){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...l),this._logHandler(this,At.ERROR,...l)}}var Je=B(9257);class gn{constructor(l){this.container=l}getPlatformInfoString(){return this.container.getProviders().map(f=>{if(function Cn(_){return"VERSION"===_.getComponent()?.type}(f)){const b=f.getImmediate();return`${b.library}/${b.version}`}return null}).filter(f=>f).join(" ")}}const cr="@firebase/app",fi=new H("@firebase/app"),Gi="@firebase/app-compat",Pe="@firebase/analytics-compat",Qe="@firebase/analytics",Pt="@firebase/app-check-compat",fn="@firebase/app-check",In="@firebase/auth",En="@firebase/auth-compat",Gr="@firebase/database",Sr="@firebase/data-connect",Tn="@firebase/database-compat",ji="@firebase/functions",mi="@firebase/functions-compat",ls="@firebase/installations",ks="@firebase/installations-compat",Qs="@firebase/messaging",ms="@firebase/messaging-compat",jr="@firebase/performance",K="@firebase/performance-compat",Ee="@firebase/remote-config",ie="@firebase/remote-config-compat",ge="@firebase/storage",ke="@firebase/storage-compat",bt="@firebase/firestore",Bt="@firebase/ai",hr="@firebase/firestore-compat",_r="firebase",zr={[cr]:"fire-core",[Gi]:"fire-core-compat",[Qe]:"fire-analytics",[Pe]:"fire-analytics-compat",[fn]:"fire-app-check",[Pt]:"fire-app-check-compat",[In]:"fire-auth",[En]:"fire-auth-compat",[Gr]:"fire-rtdb",[Sr]:"fire-data-connect",[Tn]:"fire-rtdb-compat",[ji]:"fire-fn",[mi]:"fire-fn-compat",[ls]:"fire-iid",[ks]:"fire-iid-compat",[Qs]:"fire-fcm",[ms]:"fire-fcm-compat",[jr]:"fire-perf",[K]:"fire-perf-compat",[Ee]:"fire-rc",[ie]:"fire-rc-compat",[ge]:"fire-gcs",[ke]:"fire-gcs-compat",[bt]:"fire-fst",[hr]:"fire-fst-compat",[Bt]:"fire-vertex","fire-js":"fire-js",[_r]:"fire-js-all"},Jn=new Map,vi=new Map,wi=new Map;function Mi(_,l){try{_.container.addComponent(l)}catch(f){fi.debug(`Component ${l.name} failed to register with FirebaseApp ${_.name}`,f)}}function ds(_){const l=_.name;if(wi.has(l))return fi.debug(`There were multiple attempts to register component ${l}.`),!1;wi.set(l,_);for(const f of Jn.values())Mi(f,_);for(const f of vi.values())Mi(f,_);return!0}function Dn(_){return null!=_&&void 0!==_.settings}const Ni=new ft("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."}),fo="12.3.0";function eo(_,l,f){let b=zr[_]??_;f&&(b+=`-${f}`);const L=b.match(/\s|\//),pe=l.match(/\s|\//);if(L||pe){const $e=[`Unable to register library "${b}" with version "${l}":`];return L&&$e.push(`library name "${b}" contains illegal characters (whitespace or "/")`),L&&pe&&$e.push("and"),pe&&$e.push(`version name "${l}" contains illegal characters (whitespace or "/")`),void fi.warn($e.join(" "))}ds(new tr(`${b}-version`,()=>({library:b,version:l}),"VERSION"))}const Ai="firebase-heartbeat-store";let to=null;function no(){return to||(to=(0,Je.P2)("firebase-heartbeat-database",1,{upgrade:(_,l)=>{if(0===l)try{_.createObjectStore(Ai)}catch(f){console.warn(f)}}}).catch(_=>{throw Ni.create("idb-open",{originalErrorMessage:_.message})})),to}function hs(){return(hs=(0,ye.A)(function*(_){try{const f=(yield no()).transaction(Ai),b=yield f.objectStore(Ai).get(po(_));return yield f.done,b}catch(l){if(l instanceof Yt)fi.warn(l.message);else{const f=Ni.create("idb-get",{originalErrorMessage:l?.message});fi.warn(f.message)}}})).apply(this,arguments)}function Uo(_,l){return us.apply(this,arguments)}function us(){return(us=(0,ye.A)(function*(_,l){try{const b=(yield no()).transaction(Ai,"readwrite");yield b.objectStore(Ai).put(l,po(_)),yield b.done}catch(f){if(f instanceof Yt)fi.warn(f.message);else{const b=Ni.create("idb-set",{originalErrorMessage:f?.message});fi.warn(b.message)}}})).apply(this,arguments)}function po(_){return`${_.name}!${_.options.appId}`}class is{constructor(l){this.container=l,this._heartbeatsCache=null;const f=this.container.getProvider("app").getImmediate();this._storage=new wo(f),this._heartbeatsCachePromise=this._storage.read().then(b=>(this._heartbeatsCache=b,b))}triggerHeartbeat(){var l=this;return(0,ye.A)(function*(){try{const b=l.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),L=ea();if(null==l._heartbeatsCache?.heartbeats&&(l._heartbeatsCache=yield l._heartbeatsCachePromise,null==l._heartbeatsCache?.heartbeats)||l._heartbeatsCache.lastSentHeartbeatDate===L||l._heartbeatsCache.heartbeats.some(pe=>pe.date===L))return;if(l._heartbeatsCache.heartbeats.push({date:L,agent:b}),l._heartbeatsCache.heartbeats.length>30){const pe=function Di(_){if(0===_.length)return-1;let l=0,f=_[0].date;for(let b=1;b<_.length;b++)_[b].date<f&&(f=_[b].date,l=b);return l}(l._heartbeatsCache.heartbeats);l._heartbeatsCache.heartbeats.splice(pe,1)}return l._storage.overwrite(l._heartbeatsCache)}catch(f){fi.warn(f)}})()}getHeartbeatsHeader(){var l=this;return(0,ye.A)(function*(){try{if(null===l._heartbeatsCache&&(yield l._heartbeatsCachePromise),null==l._heartbeatsCache?.heartbeats||0===l._heartbeatsCache.heartbeats.length)return"";const f=ea(),{heartbeatsToSend:b,unsentEntries:L}=function Ns(_,l=1024){const f=[];let b=_.slice();for(const L of _){const pe=f.find($e=>$e.agent===L.agent);if(pe){if(pe.dates.push(L.date),As(f)>l){pe.dates.pop();break}}else if(f.push({agent:L.agent,dates:[L.date]}),As(f)>l){f.pop();break}b=b.slice(1)}return{heartbeatsToSend:f,unsentEntries:b}}(l._heartbeatsCache.heartbeats),pe=Ht(JSON.stringify({version:2,heartbeats:b}));return l._heartbeatsCache.lastSentHeartbeatDate=f,L.length>0?(l._heartbeatsCache.heartbeats=L,yield l._storage.overwrite(l._heartbeatsCache)):(l._heartbeatsCache.heartbeats=[],l._storage.overwrite(l._heartbeatsCache)),pe}catch(f){return fi.warn(f),""}})()}}function ea(){return(new Date).toISOString().substring(0,10)}class wo{constructor(l){this.app=l,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ye.A)(function*(){return!!function Jr(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Mn(){return new Promise((_,l)=>{try{let f=!0;const b="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(b);L.onsuccess=()=>{L.result.close(),f||self.indexedDB.deleteDatabase(b),_(!0)},L.onupgradeneeded=()=>{f=!1},L.onerror=()=>{l(L.error?.message||"")}}catch(f){l(f)}})}().then(()=>!0).catch(()=>!1)})()}read(){var l=this;return(0,ye.A)(function*(){if(yield l._canUseIndexedDBPromise){const b=yield function xi(_){return hs.apply(this,arguments)}(l.app);return b?.heartbeats?b:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(l){var f=this;return(0,ye.A)(function*(){if(yield f._canUseIndexedDBPromise){const L=yield f.read();return Uo(f.app,{lastSentHeartbeatDate:l.lastSentHeartbeatDate??L.lastSentHeartbeatDate,heartbeats:l.heartbeats})}})()}add(l){var f=this;return(0,ye.A)(function*(){if(yield f._canUseIndexedDBPromise){const L=yield f.read();return Uo(f.app,{lastSentHeartbeatDate:l.lastSentHeartbeatDate??L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...l.heartbeats]})}})()}}function As(_){return Ht(JSON.stringify({version:2,heartbeats:_})).length}!function Yi(_){ds(new tr("platform-logger",l=>new gn(l),"PRIVATE")),ds(new tr("heartbeat",l=>new is(l),"PRIVATE")),eo(cr,"0.14.3",_),eo(cr,"0.14.3","esm2020"),eo("fire-js","")}("");const zo=function js(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},na=new ft("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vo=new H("@firebase/auth");function Bo(_,...l){vo.logLevel<=At.ERROR&&vo.error(`Auth (${fo}): ${_}`,...l)}function Cs(_,...l){throw Qi(_,...l)}function io(_,...l){return Qi(_,...l)}function Ca(_,l,f){const b={...zo(),[l]:f};return new ft("auth","Firebase",b).create(l,{appName:_.name})}function fs(_){return Ca(_,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qi(_,...l){if("string"!=typeof _){const f=l[0],b=[...l.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(f,...b)}return na.create(_,...l)}function U(_,l,...f){if(!_)throw Qi(l,...f)}function z(_){const l="INTERNAL ASSERTION FAILED: "+_;throw Bo(l),new Error(l)}function N(_,l){_||z(l)}function rr(){return typeof self<"u"&&self.location?.protocol||null}function Fr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ue(){return"http:"===rr()||"https:"===rr()}()||function ur(){const _="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _&&void 0!==_.id}()||"connection"in navigator))||navigator.onLine}class Ji{constructor(l,f){this.shortDelay=l,this.longDelay=f,N(f>l,"Short delay should be less than long delay!"),this.isMobile=function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}()||function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Fr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class E{static initialize(l,f,b){this.fetchImpl=l,f&&(this.headersImpl=f),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},F=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W=new Ji(3e4,6e4);function q(_,l){return _.tenantId&&!l.tenantId?{...l,tenantId:_.tenantId}:l}function oe(_,l,f,b){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,ye.A)(function*(_,l,f,b,L={}){return Be(_,L,(0,ye.A)(function*(){let pe={},$e={};b&&("GET"===l?$e=b:pe={body:JSON.stringify(b)});const gt=ws({key:_.config.apiKey,...$e}).slice(1),_n=yield _._getAdditionalHeaders();_n["Content-Type"]="application/json",_.languageCode&&(_n["X-Firebase-Locale"]=_.languageCode);const jn={method:l,headers:_n,...pe};return function sn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(jn.referrerPolicy="no-referrer"),_.emulatorConfig&&pr(_.emulatorConfig.host)&&(jn.credentials="include"),E.fetch()(yield je(_,_.config.apiHost,f,gt),jn)}))})).apply(this,arguments)}function Be(_,l,f){return et.apply(this,arguments)}function et(){return(et=(0,ye.A)(function*(_,l,f){_._canInitEmulator=!1;const b={...C,...l};try{const L=new yt(_),pe=yield Promise.race([f(),L.promise]);L.clearNetworkTimeout();const $e=yield pe.json();if("needConfirmation"in $e)throw ut(_,"account-exists-with-different-credential",$e);if(pe.ok&&!("errorMessage"in $e))return $e;{const gt=pe.ok?$e.errorMessage:$e.error.message,[_n,jn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_n)throw ut(_,"credential-already-in-use",$e);if("EMAIL_EXISTS"===_n)throw ut(_,"email-already-in-use",$e);if("USER_DISABLED"===_n)throw ut(_,"user-disabled",$e);const yr=b[_n]||_n.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw Ca(_,yr,jn);Cs(_,yr)}}catch(L){if(L instanceof Yt)throw L;Cs(_,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function je(_,l,f,b){return Et.apply(this,arguments)}function Et(){return(Et=(0,ye.A)(function*(_,l,f,b){const L=`${l}${f}?${b}`,pe=_,$e=pe.config.emulator?function Xs(_,l){N(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}(_.config,L):`${_.config.apiScheme}://${L}`;return F.includes(f)&&(yield pe._persistenceManagerAvailable,"COOKIE"===pe._getPersistenceType())?pe._getPersistence()._getFinalTarget($e).toString():$e})).apply(this,arguments)}class yt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,b)=>{this.timer=setTimeout(()=>b(io(this.auth,"network-request-failed")),W.get())})}}function ut(_,l,f){const b={appName:_.name};f.email&&(b.email=f.email),f.phoneNumber&&(b.phoneNumber=f.phoneNumber);const L=io(_,l,b);return L.customData._tokenResponse=f,L}function Fn(){return(Fn=(0,ye.A)(function*(_,l){return oe(_,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function yn(_,l){return qt.apply(this,arguments)}function qt(){return(qt=(0,ye.A)(function*(_,l){return oe(_,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Ln(_){if(_)try{const l=new Date(Number(_));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Hn(){return(Hn=(0,ye.A)(function*(_,l=!1){const f=Oe(_),b=yield f.getIdToken(l),L=_i(b);U(L&&L.exp&&L.auth_time&&L.iat,f.auth,"internal-error");const pe="object"==typeof L.firebase?L.firebase:void 0,$e=pe?.sign_in_provider;return{claims:L,token:b,authTime:Ln(Fi(L.auth_time)),issuedAtTime:Ln(Fi(L.iat)),expirationTime:Ln(Fi(L.exp)),signInProvider:$e||null,signInSecondFactor:pe?.sign_in_second_factor||null}})).apply(this,arguments)}function Fi(_){return 1e3*Number(_)}function _i(_){const[l,f,b]=_.split(".");if(void 0===l||void 0===f||void 0===b)return Bo("JWT malformed, contained fewer than 3 sections"),null;try{const L=hn(f);return L?JSON.parse(L):(Bo("Failed to decode base64 JWT payload"),null)}catch(L){return Bo("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Lr(_){const l=_i(_);return U(l,"internal-error"),U(typeof l.exp<"u","internal-error"),U(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}function ri(_,l){return ps.apply(this,arguments)}function ps(){return(ps=(0,ye.A)(function*(_,l,f=!1){if(f)return l;try{return yield l}catch(b){throw b instanceof Yt&&function Dr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}class Iu{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){if(l){const f=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),f}{this.errorBackoff=3e4;const b=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,b)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const b=this.getInterval(l);this.timerId=setTimeout((0,ye.A)(function*(){yield f.iteration()}),b)}iteration(){var l=this;return(0,ye.A)(function*(){try{yield l.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&l.schedule(!0))}l.schedule()})()}}class Tu{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ss(_){return gs.apply(this,arguments)}function gs(){return(gs=(0,ye.A)(function*(_){const l=_.auth,f=yield _.getIdToken(),b=yield ri(_,yn(l,{idToken:f}));U(b?.users.length,l,"internal-error");const L=b.users[0];_._notifyReloadListener(L);const pe=L.providerUserInfo?.length?Gu(L.providerUserInfo):[],$e=function Ao(_,l){return[..._.filter(b=>!l.some(L=>L.providerId===b.providerId)),...l]}(_.providerData,pe),jn=!!_.isAnonymous&&!(_.email&&L.passwordHash||$e?.length),yr={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:$e,metadata:new Tu(L.createdAt,L.lastLoginAt),isAnonymous:jn};Object.assign(_,yr)})).apply(this,arguments)}function Xi(){return(Xi=(0,ye.A)(function*(_){const l=Oe(_);yield ss(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Gu(_){return _.map(({providerId:l,...f})=>({providerId:l,uid:f.rawId||"",displayName:f.displayName||null,email:f.email||null,phoneNumber:f.phoneNumber||null,photoURL:f.photoUrl||null}))}function Ko(){return(Ko=(0,ye.A)(function*(_,l){const f=yield Be(_,{},(0,ye.A)(function*(){const b=ws({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:L,apiKey:pe}=_.config,$e=yield je(_,L,"/v1/token",`key=${pe}`),gt=yield _._getAdditionalHeaders();gt["Content-Type"]="application/x-www-form-urlencoded";const _n={method:"POST",headers:gt,body:b};return _.emulatorConfig&&pr(_.emulatorConfig.host)&&(_n.credentials="include"),E.fetch()($e,_n)}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function Co(){return(Co=(0,ye.A)(function*(_,l){return oe(_,"POST","/v2/accounts:revokeToken",q(_,l))})).apply(this,arguments)}class xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){U(l.idToken,"internal-error"),U(typeof l.idToken<"u","internal-error"),U(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):Lr(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}updateFromIdToken(l){U(0!==l.length,"internal-error");const f=Lr(l);this.updateTokensAndExpiration(l,null,f)}getToken(l){var f=this;return(0,ye.A)(function*(b,L=!1){return L||!f.accessToken||f.isExpired?(U(f.refreshToken,b,"user-token-expired"),f.refreshToken?(yield f.refresh(b,f.refreshToken),f.accessToken):null):f.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var b=this;return(0,ye.A)(function*(){const{accessToken:L,refreshToken:pe,expiresIn:$e}=yield function Ec(_,l){return Ko.apply(this,arguments)}(l,f);b.updateTokensAndExpiration(L,pe,Number($e))})()}updateTokensAndExpiration(l,f,b){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(l,f){const{refreshToken:b,accessToken:L,expirationTime:pe}=f,$e=new xs;return b&&(U("string"==typeof b,"internal-error",{appName:l}),$e.refreshToken=b),L&&(U("string"==typeof L,"internal-error",{appName:l}),$e.accessToken=L),pe&&(U("number"==typeof pe,"internal-error",{appName:l}),$e.expirationTime=pe),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new xs,this.toJSON())}_performRefresh(){return z("not implemented")}}function Do(_,l){U("string"==typeof _||typeof _>"u","internal-error",{appName:l})}class fr{constructor({uid:l,auth:f,stsTokenManager:b,...L}){this.providerId="firebase",this.proactiveRefresh=new Iu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=l,this.auth=f,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Tu(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,ye.A)(function*(){const b=yield ri(f,f.stsTokenManager.getToken(f.auth,l));return U(b,f.auth,"internal-error"),f.accessToken!==b&&(f.accessToken=b,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),b})()}getIdTokenResult(l){return function Ri(_){return Hn.apply(this,arguments)}(this,l)}reload(){return function Go(_){return Xi.apply(this,arguments)}(this)}_assign(l){this!==l&&(U(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>({...f})),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const f=new fr({...this,auth:l,stsTokenManager:this.stsTokenManager._clone()});return f.metadata._copy(this.metadata),f}_onReload(l){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l){var f=this;return(0,ye.A)(function*(b,L=!1){let pe=!1;b.idToken&&b.idToken!==f.stsTokenManager.accessToken&&(f.stsTokenManager.updateFromServerResponse(b),pe=!0),L&&(yield ss(f)),yield f.auth._persistUserIfCurrent(f),pe&&f.auth._notifyListenersIfCurrent(f)}).apply(this,arguments)}delete(){var l=this;return(0,ye.A)(function*(){if(Dn(l.auth.app))return Promise.reject(fs(l.auth));const f=yield l.getIdToken();return yield ri(l,function Gn(_,l){return Fn.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>({...l})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){const b=f.displayName??void 0,L=f.email??void 0,pe=f.phoneNumber??void 0,$e=f.photoURL??void 0,gt=f.tenantId??void 0,_n=f._redirectEventId??void 0,jn=f.createdAt??void 0,yr=f.lastLoginAt??void 0,{uid:Kn,emailVerified:ar,isAnonymous:Ps,providerData:ko,stsTokenManager:Qc}=f;U(Kn&&Qc,l,"internal-error");const ud=xs.fromJSON(this.name,Qc);U("string"==typeof Kn,l,"internal-error"),Do(b,l.name),Do(L,l.name),U("boolean"==typeof ar,l,"internal-error"),U("boolean"==typeof Ps,l,"internal-error"),Do(pe,l.name),Do($e,l.name),Do(gt,l.name),Do(_n,l.name),Do(jn,l.name),Do(yr,l.name);const va=new fr({uid:Kn,auth:l,email:L,emailVerified:ar,displayName:b,isAnonymous:Ps,photoURL:$e,phoneNumber:pe,tenantId:gt,stsTokenManager:ud,createdAt:jn,lastLoginAt:yr});return ko&&Array.isArray(ko)&&(va.providerData=ko.map(Xc=>({...Xc}))),_n&&(va._redirectEventId=_n),va}static _fromIdTokenResponse(l,f){return(0,ye.A)(function*(b,L,pe=!1){const $e=new xs;$e.updateFromServerResponse(L);const gt=new fr({uid:L.localId,auth:b,stsTokenManager:$e,isAnonymous:pe});return yield ss(gt),gt}).apply(this,arguments)}static _fromGetAccountInfoResponse(l,f,b){return(0,ye.A)(function*(){const L=f.users[0];U(void 0!==L.localId,"internal-error");const pe=void 0!==L.providerUserInfo?Gu(L.providerUserInfo):[],$e=!(L.email&&L.passwordHash||pe?.length),gt=new xs;gt.updateFromIdToken(b);const _n=new fr({uid:L.localId,auth:l,stsTokenManager:gt,isAnonymous:$e}),jn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:pe,metadata:new Tu(L.createdAt,L.lastLoginAt),isAnonymous:!(L.email&&L.passwordHash||pe?.length)};return Object.assign(_n,jn),_n})()}}const su=new Map;function _s(_){N(_ instanceof Function,"Expected a class definition");let l=su.get(_);return l?(N(l instanceof _,"Instance stored in cache mismatched with class"),l):(l=new _,su.set(_,l),l)}const Ku=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ye.A)(function*(){return!0})()}_set(f,b){var L=this;return(0,ye.A)(function*(){L.storage[f]=b})()}_get(f){var b=this;return(0,ye.A)(function*(){const L=b.storage[f];return void 0===L?null:L})()}_remove(f){var b=this;return(0,ye.A)(function*(){delete b.storage[f]})()}_addListener(f,b){}_removeListener(f,b){}}return _.type="NONE",_})();function Eo(_,l,f){return`firebase:${_}:${l}:${f}`}class Zi{constructor(l,f,b){this.persistence=l,this.auth=f,this.userKey=b;const{config:L,name:pe}=this.auth;this.fullUserKey=Eo(this.userKey,L.apiKey,pe),this.fullPersistenceKey=Eo("persistence",L.apiKey,pe),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,ye.A)(function*(){const f=yield l.persistence._get(l.fullUserKey);if(!f)return null;if("string"==typeof f){const b=yield yn(l.auth,{idToken:f}).catch(()=>{});return b?fr._fromGetAccountInfoResponse(l.auth,b,f):null}return fr._fromJSON(l.auth,f)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,ye.A)(function*(){if(f.persistence===l)return;const b=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,b?f.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f){return(0,ye.A)(function*(b,L,pe="authUser"){if(!L.length)return new Zi(_s(Ku),b,pe);const $e=(yield Promise.all(L.map(function(){var Kn=(0,ye.A)(function*(ar){if(yield ar._isAvailable())return ar});return function(ar){return Kn.apply(this,arguments)}}()))).filter(Kn=>Kn);let gt=$e[0]||_s(Ku);const _n=Eo(pe,b.config.apiKey,b.name);let jn=null;for(const Kn of L)try{const ar=yield Kn._get(_n);if(ar){let Ps;if("string"==typeof ar){const ko=yield yn(b,{idToken:ar}).catch(()=>{});if(!ko)break;Ps=yield fr._fromGetAccountInfoResponse(b,ko,ar)}else Ps=fr._fromJSON(b,ar);Kn!==gt&&(jn=Ps),gt=Kn;break}}catch{}const yr=$e.filter(Kn=>Kn._shouldAllowMigration);return gt._shouldAllowMigration&&yr.length?(gt=yr[0],jn&&(yield gt._set(_n,jn.toJSON())),yield Promise.all(L.map(function(){var Kn=(0,ye.A)(function*(ar){if(ar!==gt)try{yield ar._remove(_n)}catch{}});return function(ar){return Kn.apply(this,arguments)}}())),new Zi(gt,b,pe)):new Zi(gt,b,pe)}).apply(this,arguments)}}function os(_){const l=_.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(function La(_=He()){return/iemobile/i.test(_)}(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(function Ds(_=He()){return/firefox\//i.test(_)}(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(function ca(_=He()){return/blackberry/i.test(_)}(l))return"Blackberry";if(function il(_=He()){return/webos/i.test(_)}(l))return"Webos";if(function Sa(_=He()){const l=_.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}(l))return"Safari";if((l.includes("chrome/")||function Hs(_=He()){return/crios\//i.test(_)}(l))&&!l.includes("edge/"))return"Chrome";if(function so(_=He()){return/android/i.test(_)}(l))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function qu(_,l=[]){let f;switch(_){case"Browser":f=os(He());break;case"Worker":f=`${os(He())}-${_}`;break;default:f=_}const b=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${fo}/${b}`}class Nh{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const b=pe=>new Promise(($e,gt)=>{try{$e(l(pe))}catch(_n){gt(_n)}});b.onAbort=f,this.queue.push(b);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,ye.A)(function*(){if(f.auth.currentUser===l)return;const b=[];try{for(const L of f.queue)yield L(l),L.onAbort&&b.push(L.onAbort)}catch(L){b.reverse();for(const pe of b)try{pe()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}function Qu(){return(Qu=(0,ye.A)(function*(_,l={}){return oe(_,"GET","/v2/passwordPolicy",q(_,l))})).apply(this,arguments)}class wu{constructor(l){const f=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=f.minPasswordLength??6,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),void 0!==f.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),void 0!==f.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),void 0!==f.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),void 0!==f.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=l.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=l.forceUpgradeOnSignin??!1,this.schemaVersion=l.schemaVersion}validatePassword(l){const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,f),this.validatePasswordCharacterOptions(l,f),f.isValid&&(f.isValid=f.meetsMinPasswordLength??!0),f.isValid&&(f.isValid=f.meetsMaxPasswordLength??!0),f.isValid&&(f.isValid=f.containsLowercaseLetter??!0),f.isValid&&(f.isValid=f.containsUppercaseLetter??!0),f.isValid&&(f.isValid=f.containsNumericCharacter??!0),f.isValid&&(f.isValid=f.containsNonAlphanumericCharacter??!0),f}validatePasswordLengthOptions(l,f){const b=this.customStrengthOptions.minPasswordLength,L=this.customStrengthOptions.maxPasswordLength;b&&(f.meetsMinPasswordLength=l.length>=b),L&&(f.meetsMaxPasswordLength=l.length<=L)}validatePasswordCharacterOptions(l,f){let b;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let L=0;L<l.length;L++)b=l.charAt(L),this.updatePasswordCharacterOptionsStatuses(f,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(l,f,b,L,pe){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=L)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=pe))}}class bc{constructor(l,f,b,L){this.app=l,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=b,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sl(this),this.idTokenSubscription=new sl(this),this.beforeStateQueue=new Nh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=na,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=L.sdkClientVersion,this._persistenceManagerAvailable=new Promise(pe=>this._resolvePersistenceManagerAvailable=pe)}_initializeWithPersistence(l,f){var b=this;return f&&(this._popupRedirectResolver=_s(f)),this._initializationPromise=this.queue((0,ye.A)(function*(){if(!b._deleted&&(b.persistenceManager=yield Zi.create(b,l),b._resolvePersistenceManagerAvailable?.(),!b._deleted)){if(b._popupRedirectResolver?._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(f),b.lastNotifiedUid=b.currentUser?.uid||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,ye.A)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(l){var f=this;return(0,ye.A)(function*(){try{const b=yield yn(f,{idToken:l}),L=yield fr._fromGetAccountInfoResponse(f,b,l);yield f.directlySetCurrentUser(L)}catch(b){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",b),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(l){var f=this;return(0,ye.A)(function*(){if(Dn(f.app)){const $e=f.app.settings.authIdToken;return $e?new Promise(gt=>{setTimeout(()=>f.initializeCurrentUserFromIdToken($e).then(gt,gt))}):f.directlySetCurrentUser(null)}const b=yield f.assertedPersistence.getCurrentUser();let L=b,pe=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const $e=f.redirectUser?._redirectEventId,gt=L?._redirectEventId,_n=yield f.tryRedirectSignIn(l);(!$e||$e===gt)&&_n?.user&&(L=_n.user,pe=!0)}if(!L)return f.directlySetCurrentUser(null);if(!L._redirectEventId){if(pe)try{yield f.beforeStateQueue.runMiddleware(L)}catch($e){L=b,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject($e))}return L?f.reloadAndSetCurrentUserOrClear(L):f.directlySetCurrentUser(null)}return U(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===L._redirectEventId?f.directlySetCurrentUser(L):f.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(l){var f=this;return(0,ye.A)(function*(){let b=null;try{b=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,ye.A)(function*(){try{yield ss(l)}catch(b){if("auth/network-request-failed"!==b?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function qi(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var l=this;return(0,ye.A)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,ye.A)(function*(){if(Dn(f.app))return Promise.reject(fs(f));const b=l?Oe(l):null;return b&&U(b.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(b&&b._clone(f))})()}_updateCurrentUser(l){var f=this;return(0,ye.A)(function*(b,L=!1){if(!f._deleted)return b&&U(f.tenantId===b.tenantId,f,"tenant-id-mismatch"),L||(yield f.beforeStateQueue.runMiddleware(b)),f.queue((0,ye.A)(function*(){yield f.directlySetCurrentUser(b),f.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var l=this;return(0,ye.A)(function*(){return Dn(l.app)?Promise.reject(fs(l)):(yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0))})()}setPersistence(l){var f=this;return Dn(this.app)?Promise.reject(fs(this)):this.queue((0,ye.A)(function*(){yield f.assertedPersistence.setPersistence(_s(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var f=this;return(0,ye.A)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const b=f._getPasswordPolicyInternal();return b.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,ye.A)(function*(){const f=yield function Uf(_){return Qu.apply(this,arguments)}(l),b=new wu(f);null===l.tenantId?l._projectPasswordPolicy=b:l._tenantPasswordPolicies[l.tenantId]=b})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(l){this._errorFactory=new ft("auth","Firebase",l())}onAuthStateChanged(l,f,b){return this.registerStateListener(this.authStateSubscription,l,f,b)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,b){return this.registerStateListener(this.idTokenSubscription,l,f,b)}authStateReady(){return new Promise((l,f)=>{if(this.currentUser)l();else{const b=this.onAuthStateChanged(()=>{b(),l()},f)}})}revokeAccessToken(l){var f=this;return(0,ye.A)(function*(){if(f.currentUser){const b=yield f.currentUser.getIdToken(),L={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:b};null!=f.tenantId&&(L.tenantId=f.tenantId),yield function Ic(_,l){return Co.apply(this,arguments)}(f,L)}})()}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(l,f){var b=this;return(0,ye.A)(function*(){const L=yield b.getOrInitRedirectPersistenceManager(f);return null===l?L.removeCurrentUser():L.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,ye.A)(function*(){if(!f.redirectPersistenceManager){const b=l&&_s(l)||f._popupRedirectResolver;U(b,f,"argument-error"),f.redirectPersistenceManager=yield Zi.create(f,[_s(b._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,ye.A)(function*(){return f._isInitialized&&(yield f.queue((0,ye.A)(function*(){}))),f._currentUser?._redirectEventId===l?f._currentUser:f.redirectUser?._redirectEventId===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,ye.A)(function*(){if(l===f.currentUser)return f.queue((0,ye.A)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=this.currentUser?.uid??null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,b,L){if(this._deleted)return()=>{};const pe="function"==typeof f?f:f.next.bind(f);let $e=!1;const gt=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(gt,this,"internal-error"),gt.then(()=>{$e||pe(this.currentUser)}),"function"==typeof f){const _n=l.addObserver(f,b,L);return()=>{$e=!0,_n()}}{const _n=l.addObserver(f);return()=>{$e=!0,_n()}}}directlySetCurrentUser(l){var f=this;return(0,ye.A)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=qu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,ye.A)(function*(){const f={"X-Client-Version":l.clientVersion};l.app.options.appId&&(f["X-Firebase-gmpid"]=l.app.options.appId);const b=yield l.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();b&&(f["X-Firebase-Client"]=b);const L=yield l._getAppCheckToken();return L&&(f["X-Firebase-AppCheck"]=L),f})()}_getAppCheckToken(){var l=this;return(0,ye.A)(function*(){if(Dn(l.app)&&l.app.settings.appCheckToken)return l.app.settings.appCheckToken;const f=yield l.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return f?.error&&function ro(_,...l){vo.logLevel<=At.WARN&&vo.warn(`Auth (${fo}): ${_}`,...l)}(`Error while retrieving App Check token: ${f.error}`),f?.token})()}}class sl{constructor(l){this.auth=l,this.observer=null,this.addObserver=function ho(_,l){const f=new Bi(_,l);return f.subscribe.bind(f)}(f=>this.observer=f)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wc={loadJS:()=>(0,ye.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function Q(_){return`__${_}${Math.floor(1e6*Math.random())}`})("rcb"),new Ji(3e4,6e4),new Ji(2e3,1e4),new Ji(3e4,6e4),new Ji(5e3,15e3),encodeURIComponent("fac");var id="@firebase/auth";class wg{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(l){var f=this;return(0,ye.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(b=>{l(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);f&&(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(()=>{try{return function Wt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _=process.env.__FIREBASE_DEFAULTS__;return _?JSON.parse(_):void 0})()||(()=>{if(typeof document>"u")return;let _;try{_=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const l=_&&hn(_[1]);return l&&JSON.parse(l)})()}catch(_){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_}`)}})(),function xh(_){wc=_}({loadJS:_=>new Promise((l,f)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=l,b.onerror=L=>{const pe=io("internal-error");pe.customData=L,f(pe)},b.type="text/javascript",b.charset="UTF-8",function ah(){return document.getElementsByTagName("head")?.[0]??document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Xm(_){ds(new tr("auth",(l,{options:f})=>{const b=l.getProvider("app").getImmediate(),L=l.getProvider("heartbeat"),pe=l.getProvider("app-check-internal"),{apiKey:$e,authDomain:gt}=b.options;U($e&&!$e.includes(":"),"invalid-api-key",{appName:b.name});const _n={apiKey:$e,authDomain:gt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qu(_)},jn=new bc(b,L,pe,_n);return function Ol(_,l){const f=l?.persistence||[],b=(Array.isArray(f)?f:[f]).map(_s);l?.errorMap&&_._updateErrorMap(l.errorMap),_._initializeWithPersistence(b,l?.popupRedirectResolver)}(jn,f),jn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,b)=>{l.getProvider("auth-internal").initialize()})),ds(new tr("auth-internal",l=>{const f=function oo(_){return Oe(_)}(l.getProvider("auth").getImmediate());return new wg(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(id,"1.11.0",function Ag(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),eo(id,"1.11.0","esm2020")}("Browser");var $u=B(9406);function hf(_){return new $u.c(function(l){var f=function R(_,l,f,b){return Oe(_).onAuthStateChanged(l,f,b)}(_,l.next.bind(l),l.error.bind(l),l.complete.bind(l));return{unsubscribe:f}})}var tu=B(4711);class ch{constructor(l){return l}}class Tl{constructor(){return(0,w.CA)("auth")}}const lh=new ne.nKC("angularfire2.auth-instances");function hp(_){return(l,f)=>{const b=l.runOutsideAngular(()=>_(f));return new ch(b)}}const Cg={provide:Tl,deps:[[new ne.Xx1,lh]]},Dg={provide:ch,useFactory:function pf(_,l){const f=(0,w.lR)("auth",_,l);return f&&new ch(f)},deps:[[new ne.Xx1,lh],ee.XU]};function oa(_,...l){return(0,re.KO)("angularfire",w.xv.full,"auth"),(0,ne.EmA)([Dg,Cg,{provide:lh,useFactory:hp(_),multi:!0,deps:[ne.SKi,ne.zZn,w.u0,ee.gL,[new ne.Xx1,Re.kR],...l]}])}const Hy=(0,w.S3)(hf,!0),Wy=(0,w.S3)(tu.eJ,!0,2),hh=(0,w.S3)(tu.xI,!0),zy=(0,w.S3)(tu.hg,!0),Gy=(0,w.S3)(tu.iZ,!0),i_=(0,w.S3)(tu.gA,!0,2),xg=(0,w.S3)(tu.J1,!0,2),s_=(0,w.S3)(tu.oM,!0),gI=(0,w.S3)(tu.x9,!0,2),mI=(0,w.S3)(tu.df,!0,2),qy=(0,w.S3)(tu.CI,!0,2),u_=(0,w.S3)(tu.f3,!0,2)},1334:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Lr:()=>Jt,Qq:()=>Bn,a7:()=>Yt,q1:()=>rn}),B(3308);var ne=B(1489),ee=B(4807),Re=B(8503),re=B(3527),ye=B(6347),Fe=B(2831),De=B(756),rt=B(9406),ve=B(4690),Ie=B(3038),lt=B(7728);class ht{}class mt{}class Jt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Z){Z?"string"==typeof Z?this.lazyInit=()=>{this.headers=new Map,Z.split("\n").forEach(fe=>{const it=fe.indexOf(":");if(it>0){const At=fe.slice(0,it),$t=fe.slice(it+1).trim();this.addHeaderEntry(At,$t)}})}:typeof Headers<"u"&&Z instanceof Headers?(this.headers=new Map,Z.forEach((fe,it)=>{this.addHeaderEntry(it,fe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Z).forEach(([fe,it])=>{this.setHeaderEntries(fe,it)})}:this.headers=new Map}has(Z){return this.init(),this.headers.has(Z.toLowerCase())}get(Z){this.init();const fe=this.headers.get(Z.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Z){return this.init(),this.headers.get(Z.toLowerCase())||null}append(Z,fe){return this.clone({name:Z,value:fe,op:"a"})}set(Z,fe){return this.clone({name:Z,value:fe,op:"s"})}delete(Z,fe){return this.clone({name:Z,value:fe,op:"d"})}maybeSetNormalizedName(Z,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,Z)}init(){this.lazyInit&&(this.lazyInit instanceof Jt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Z=>this.applyUpdate(Z)),this.lazyUpdate=null))}copyFrom(Z){Z.init(),Array.from(Z.headers.keys()).forEach(fe=>{this.headers.set(fe,Z.headers.get(fe)),this.normalizedNames.set(fe,Z.normalizedNames.get(fe))})}clone(Z){const fe=new Jt;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof Jt?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([Z]),fe}applyUpdate(Z){const fe=Z.name.toLowerCase();switch(Z.op){case"a":case"s":let it=Z.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(Z.name,fe);const At=("a"===Z.op?this.headers.get(fe):void 0)||[];At.push(...it),this.headers.set(fe,At);break;case"d":const $t=Z.value;if($t){let Vn=this.headers.get(fe);if(!Vn)return;Vn=Vn.filter(Yn=>-1===$t.indexOf(Yn)),0===Vn.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,Vn)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}addHeaderEntry(Z,fe){const it=Z.toLowerCase();this.maybeSetNormalizedName(Z,it),this.headers.has(it)?this.headers.get(it).push(fe):this.headers.set(it,[fe])}setHeaderEntries(Z,fe){const it=(Array.isArray(fe)?fe:[fe]).map($t=>$t.toString()),At=Z.toLowerCase();this.headers.set(At,it),this.maybeSetNormalizedName(Z,At)}forEach(Z){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>Z(this.normalizedNames.get(fe),this.headers.get(fe)))}}class hn{encodeKey(Z){return Wt(Z)}encodeValue(Z){return Wt(Z)}decodeKey(Z){return decodeURIComponent(Z)}decodeValue(Z){return decodeURIComponent(Z)}}const Kt=/%(\d[a-f0-9])/gi,Ut={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wt(se){return encodeURIComponent(se).replace(Kt,(Z,fe)=>Ut[fe]??Z)}function We(se){return`${se}`}class St{map;encoder;updates=null;cloneFrom=null;constructor(Z={}){if(this.encoder=Z.encoder||new hn,Z.fromString){if(Z.fromObject)throw new ne.wOt(2805,!1);this.map=function dn(se,Z){const fe=new Map;return se.length>0&&se.replace(/^\?/,"").split("&").forEach(At=>{const $t=At.indexOf("="),[Vn,Yn]=-1==$t?[Z.decodeKey(At),""]:[Z.decodeKey(At.slice(0,$t)),Z.decodeValue(At.slice($t+1))],ce=fe.get(Vn)||[];ce.push(Yn),fe.set(Vn,ce)}),fe}(Z.fromString,this.encoder)}else Z.fromObject?(this.map=new Map,Object.keys(Z.fromObject).forEach(fe=>{const it=Z.fromObject[fe],At=Array.isArray(it)?it.map(We):[We(it)];this.map.set(fe,At)})):this.map=null}has(Z){return this.init(),this.map.has(Z)}get(Z){this.init();const fe=this.map.get(Z);return fe?fe[0]:null}getAll(Z){return this.init(),this.map.get(Z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Z,fe){return this.clone({param:Z,value:fe,op:"a"})}appendAll(Z){const fe=[];return Object.keys(Z).forEach(it=>{const At=Z[it];Array.isArray(At)?At.forEach($t=>{fe.push({param:it,value:$t,op:"a"})}):fe.push({param:it,value:At,op:"a"})}),this.clone(fe)}set(Z,fe){return this.clone({param:Z,value:fe,op:"s"})}delete(Z,fe){return this.clone({param:Z,value:fe,op:"d"})}toString(){return this.init(),this.keys().map(Z=>{const fe=this.encoder.encodeKey(Z);return this.map.get(Z).map(it=>fe+"="+this.encoder.encodeValue(it)).join("&")}).filter(Z=>""!==Z).join("&")}clone(Z){const fe=new St({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat(Z),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Z=>this.map.set(Z,this.cloneFrom.map.get(Z))),this.updates.forEach(Z=>{switch(Z.op){case"a":case"s":const fe=("a"===Z.op?this.map.get(Z.param):void 0)||[];fe.push(We(Z.value)),this.map.set(Z.param,fe);break;case"d":if(void 0===Z.value){this.map.delete(Z.param);break}{let it=this.map.get(Z.param)||[];const At=it.indexOf(We(Z.value));-1!==At&&it.splice(At,1),it.length>0?this.map.set(Z.param,it):this.map.delete(Z.param)}}}),this.cloneFrom=this.updates=null)}}class kt{map=new Map;set(Z,fe){return this.map.set(Z,fe),this}get(Z){return this.map.has(Z)||this.map.set(Z,Z.defaultValue()),this.map.get(Z)}delete(Z){return this.map.delete(Z),this}has(Z){return this.map.has(Z)}keys(){return this.map.keys()}}function at(se){return typeof ArrayBuffer<"u"&&se instanceof ArrayBuffer}function kn(se){return typeof Blob<"u"&&se instanceof Blob}function Or(se){return typeof FormData<"u"&&se instanceof FormData}const pr="Content-Type",Nr="X-Request-URL",Ur="text/plain",Pr="application/json",yi=`${Pr}, ${Ur}, */*`;class Ti{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Z,fe,it,At){let $t;if(this.url=fe,this.method=Z.toUpperCase(),function Rt(se){switch(se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==it?it:null,$t=At):$t=it,$t&&(this.reportProgress=!!$t.reportProgress,this.withCredentials=!!$t.withCredentials,$t.responseType&&(this.responseType=$t.responseType),$t.headers&&(this.headers=$t.headers),$t.context&&(this.context=$t.context),$t.params&&(this.params=$t.params),this.transferCache=$t.transferCache),this.headers??=new Jt,this.context??=new kt,this.params){const Vn=this.params.toString();if(0===Vn.length)this.urlWithParams=fe;else{const Yn=fe.indexOf("?");this.urlWithParams=fe+(-1===Yn?"?":Yn<fe.length-1?"&":"")+Vn}}else this.params=new St,this.urlWithParams=fe}serializeBody(){return null===this.body?null:"string"==typeof this.body||at(this.body)||kn(this.body)||Or(this.body)||function Hr(se){return typeof URLSearchParams<"u"&&se instanceof URLSearchParams}(this.body)?this.body:this.body instanceof St?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Or(this.body)?null:kn(this.body)?this.body.type||null:at(this.body)?null:"string"==typeof this.body?Ur:this.body instanceof St?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Pr:null}clone(Z={}){const fe=Z.method||this.method,it=Z.url||this.url,At=Z.responseType||this.responseType,$t=Z.transferCache??this.transferCache,Vn=void 0!==Z.body?Z.body:this.body,Yn=Z.withCredentials??this.withCredentials,ce=Z.reportProgress??this.reportProgress;let H=Z.headers||this.headers,$=Z.params||this.params;const te=Z.context??this.context;return void 0!==Z.setHeaders&&(H=Object.keys(Z.setHeaders).reduce((Je,gn)=>Je.set(gn,Z.setHeaders[gn]),H)),Z.setParams&&($=Object.keys(Z.setParams).reduce((Je,gn)=>Je.set(gn,Z.setParams[gn]),$)),new Ti(fe,it,Vn,{params:$,headers:H,context:te,reportProgress:ce,responseType:At,withCredentials:Yn,transferCache:$t})}}var Le=function(se){return se[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se}(Le||{});class Ve{headers;status;statusText;url;ok;type;constructor(Z,fe=200,it="OK"){this.headers=Z.headers||new Jt,this.status=void 0!==Z.status?Z.status:fe,this.statusText=Z.statusText||it,this.url=Z.url||null,this.ok=this.status>=200&&this.status<300}}class He extends Ve{constructor(Z={}){super(Z)}type=Le.ResponseHeader;clone(Z={}){return new He({headers:Z.headers||this.headers,status:void 0!==Z.status?Z.status:this.status,statusText:Z.statusText||this.statusText,url:Z.url||this.url||void 0})}}class Ge extends Ve{body;constructor(Z={}){super(Z),this.body=void 0!==Z.body?Z.body:null}type=Le.Response;clone(Z={}){return new Ge({body:void 0!==Z.body?Z.body:this.body,headers:Z.headers||this.headers,status:void 0!==Z.status?Z.status:this.status,statusText:Z.statusText||this.statusText,url:Z.url||this.url||void 0})}}class qe extends Ve{name="HttpErrorResponse";message;error;ok=!1;constructor(Z){super(Z,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Z.url||"(unknown url)"}`:`Http failure response for ${Z.url||"(unknown url)"}: ${Z.status} ${Z.statusText}`,this.error=Z.error||null}}function ur(se,Z){return{body:Z,headers:se.headers,context:se.context,observe:se.observe,params:se.params,reportProgress:se.reportProgress,responseType:se.responseType,withCredentials:se.withCredentials,transferCache:se.transferCache}}let Bn=(()=>{class se{handler;constructor(fe){this.handler=fe}request(fe,it,At={}){let $t;if(fe instanceof Ti)$t=fe;else{let ce,H;ce=At.headers instanceof Jt?At.headers:new Jt(At.headers),At.params&&(H=At.params instanceof St?At.params:new St({fromObject:At.params})),$t=new Ti(fe,it,void 0!==At.body?At.body:null,{headers:ce,context:At.context,params:H,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials,transferCache:At.transferCache})}const Vn=(0,De.of)($t).pipe((0,ee.H)(ce=>this.handler.handle(ce)));if(fe instanceof Ti||"events"===At.observe)return Vn;const Yn=Vn.pipe((0,Re.p)(ce=>ce instanceof Ge));switch(At.observe||"body"){case"body":switch($t.responseType){case"arraybuffer":return Yn.pipe((0,re.T)(ce=>{if(null!==ce.body&&!(ce.body instanceof ArrayBuffer))throw new ne.wOt(2806,!1);return ce.body}));case"blob":return Yn.pipe((0,re.T)(ce=>{if(null!==ce.body&&!(ce.body instanceof Blob))throw new ne.wOt(2807,!1);return ce.body}));case"text":return Yn.pipe((0,re.T)(ce=>{if(null!==ce.body&&"string"!=typeof ce.body)throw new ne.wOt(2808,!1);return ce.body}));default:return Yn.pipe((0,re.T)(ce=>ce.body))}case"response":return Yn;default:throw new ne.wOt(2809,!1)}}delete(fe,it={}){return this.request("DELETE",fe,it)}get(fe,it={}){return this.request("GET",fe,it)}head(fe,it={}){return this.request("HEAD",fe,it)}jsonp(fe,it){return this.request("JSONP",fe,{params:(new St).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,it={}){return this.request("OPTIONS",fe,it)}patch(fe,it,At={}){return this.request("PATCH",fe,ur(At,it))}post(fe,it,At={}){return this.request("POST",fe,ur(At,it))}put(fe,it,At={}){return this.request("PUT",fe,ur(At,it))}static \u0275fac=function(it){return new(it||se)(ne.KVO(ht))};static \u0275prov=ne.jDH({token:se,factory:se.\u0275fac})}return se})();const Li=new ne.nKC("");function Mn(se,Z){return Z(se)}function Ar(se,Z){return(fe,it)=>Z.intercept(fe,{handle:At=>se(At,it)})}const Yt=new ne.nKC(""),ft=new ne.nKC(""),en=new ne.nKC(""),Sn=new ne.nKC("",{providedIn:"root",factory:()=>!0});function or(){let se=null;return(Z,fe)=>{null===se&&(se=((0,ne.WQX)(Yt,{optional:!0})??[]).reduceRight(Ar,Mn));const it=(0,ne.WQX)(ne.Ua0);if((0,ne.WQX)(Sn)){const $t=it.add();return se(Z,fe).pipe((0,ye.j)(()=>it.remove($t)))}return se(Z,fe)}}let on=(()=>{class se extends ht{backend;injector;chain=null;pendingTasks=(0,ne.WQX)(ne.Ua0);contributeToStability=(0,ne.WQX)(Sn);constructor(fe,it){super(),this.backend=fe,this.injector=it}handle(fe){if(null===this.chain){const it=Array.from(new Set([...this.injector.get(ft),...this.injector.get(en,[])]));this.chain=it.reduceRight((At,$t)=>function nn(se,Z,fe){return(it,At)=>(0,ne.N4e)(fe,()=>Z(it,$t=>se($t,At)))}(At,$t,this.injector),Mn)}if(this.contributeToStability){const it=this.pendingTasks.add();return this.chain(fe,At=>this.backend.handle(At)).pipe((0,ye.j)(()=>this.pendingTasks.remove(it)))}return this.chain(fe,it=>this.backend.handle(it))}static \u0275fac=function(it){return new(it||se)(ne.KVO(mt),ne.KVO(ne.uvJ))};static \u0275prov=ne.jDH({token:se,factory:se.\u0275fac})}return se})();const ws=/^\)\]\}',?\n/,cs=RegExp(`^${Nr}:`,"m");let bi=(()=>{class se{xhrFactory;constructor(fe){this.xhrFactory=fe}handle(fe){if("JSONP"===fe.method)throw new ne.wOt(-2800,!1);const it=this.xhrFactory;return(it.\u0275loadImpl?(0,ve.H)(it.\u0275loadImpl()):(0,De.of)(null)).pipe((0,Fe.n)(()=>new rt.c($t=>{const Vn=it.build();if(Vn.open(fe.method,fe.urlWithParams),fe.withCredentials&&(Vn.withCredentials=!0),fe.headers.forEach((cr,zt)=>Vn.setRequestHeader(cr,zt.join(","))),fe.headers.has("Accept")||Vn.setRequestHeader("Accept",yi),!fe.headers.has(pr)){const cr=fe.detectContentTypeHeader();null!==cr&&Vn.setRequestHeader(pr,cr)}if(fe.responseType){const cr=fe.responseType.toLowerCase();Vn.responseType="json"!==cr?cr:"text"}const Yn=fe.serializeBody();let ce=null;const H=()=>{if(null!==ce)return ce;const cr=Vn.statusText||"OK",zt=new Jt(Vn.getAllResponseHeaders()),fi=function Pi(se){return"responseURL"in se&&se.responseURL?se.responseURL:cs.test(se.getAllResponseHeaders())?se.getResponseHeader(Nr):null}(Vn)||fe.url;return ce=new He({headers:zt,status:Vn.status,statusText:cr,url:fi}),ce},$=()=>{let{headers:cr,status:zt,statusText:fi,url:Gi}=H(),Pe=null;204!==zt&&(Pe=typeof Vn.response>"u"?Vn.responseText:Vn.response),0===zt&&(zt=Pe?200:0);let Qe=zt>=200&&zt<300;if("json"===fe.responseType&&"string"==typeof Pe){const Pt=Pe;Pe=Pe.replace(ws,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(fn){Pe=Pt,Qe&&(Qe=!1,Pe={error:fn,text:Pe})}}Qe?($t.next(new Ge({body:Pe,headers:cr,status:zt,statusText:fi,url:Gi||void 0})),$t.complete()):$t.error(new qe({error:Pe,headers:cr,status:zt,statusText:fi,url:Gi||void 0}))},te=cr=>{const{url:zt}=H(),fi=new qe({error:cr,status:Vn.status||0,statusText:Vn.statusText||"Unknown Error",url:zt||void 0});$t.error(fi)};let Je=!1;const gn=cr=>{Je||($t.next(H()),Je=!0);let zt={type:Le.DownloadProgress,loaded:cr.loaded};cr.lengthComputable&&(zt.total=cr.total),"text"===fe.responseType&&Vn.responseText&&(zt.partialText=Vn.responseText),$t.next(zt)},Cn=cr=>{let zt={type:Le.UploadProgress,loaded:cr.loaded};cr.lengthComputable&&(zt.total=cr.total),$t.next(zt)};return Vn.addEventListener("load",$),Vn.addEventListener("error",te),Vn.addEventListener("timeout",te),Vn.addEventListener("abort",te),fe.reportProgress&&(Vn.addEventListener("progress",gn),null!==Yn&&Vn.upload&&Vn.upload.addEventListener("progress",Cn)),Vn.send(Yn),$t.next({type:Le.Sent}),()=>{Vn.removeEventListener("error",te),Vn.removeEventListener("abort",te),Vn.removeEventListener("load",$),Vn.removeEventListener("timeout",te),fe.reportProgress&&(Vn.removeEventListener("progress",gn),null!==Yn&&Vn.upload&&Vn.upload.removeEventListener("progress",Cn)),Vn.readyState!==Vn.DONE&&Vn.abort()}})))}static \u0275fac=function(it){return new(it||se)(ne.KVO(Ie.N0))};static \u0275prov=ne.jDH({token:se,factory:se.\u0275fac})}return se})();const ho=new ne.nKC(""),kr=new ne.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qr=new ne.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class an{}let Lt=(()=>{class se{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(fe,it){this.doc=fe,this.cookieName=it}getToken(){const fe=this.doc.cookie||"";return fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ie.bS)(fe,this.cookieName),this.lastCookieString=fe),this.lastToken}static \u0275fac=function(it){return new(it||se)(ne.KVO(lt.q),ne.KVO(kr))};static \u0275prov=ne.jDH({token:se,factory:se.\u0275fac})}return se})();function bn(se,Z){const fe=se.url.toLowerCase();if(!(0,ne.WQX)(ho)||"GET"===se.method||"HEAD"===se.method||fe.startsWith("http://")||fe.startsWith("https://"))return Z(se);const it=(0,ne.WQX)(an).getToken(),At=(0,ne.WQX)(qr);return null!=it&&!se.headers.has(At)&&(se=se.clone({headers:se.headers.set(At,it)})),Z(se)}var vn=function(se){return se[se.Interceptors=0]="Interceptors",se[se.LegacyInterceptors=1]="LegacyInterceptors",se[se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",se[se.NoXsrfProtection=3]="NoXsrfProtection",se[se.JsonpSupport=4]="JsonpSupport",se[se.RequestsMadeViaParent=5]="RequestsMadeViaParent",se[se.Fetch=6]="Fetch",se}(vn||{});function $n(...se){const Z=[Bn,bi,on,{provide:ht,useExisting:on},{provide:mt,useFactory:()=>(0,ne.WQX)(Li,{optional:!0})??(0,ne.WQX)(bi)},{provide:ft,useValue:bn,multi:!0},{provide:ho,useValue:!0},{provide:an,useClass:Lt}];for(const fe of se)Z.push(...fe.\u0275providers);return(0,ne.EmA)(Z)}const Vr=new ne.nKC("");function zi(){return function er(se,Z){return{\u0275kind:se,\u0275providers:Z}}(vn.LegacyInterceptors,[{provide:Vr,useFactory:or},{provide:ft,useExisting:Vr,multi:!0}])}let rn=(()=>{class se{static \u0275fac=function(it){return new(it||se)};static \u0275mod=ne.$C({type:se});static \u0275inj=ne.G2t({providers:[$n(zi())]})}return se})()},1479:(Xn,Tt,B)=>{"use strict";B.d(Tt,{s:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},1489:(Xn,Tt,B)=>{"use strict";B.d(Tt,{bc$:()=>Ig,iLQ:()=>tl,sZ2:()=>Ja,Hbi:()=>kN,o8S:()=>Na,BIS:()=>By,gRc:()=>bP,Ql9:()=>JO,Ocv:()=>sN,abz:()=>ja,Z63:()=>Yi,aKT:()=>lc,uvJ:()=>qi,zcH:()=>Fs,bkB:()=>Uu,$GK:()=>Jn,nKC:()=>Pe,zZn:()=>uo,_q3:()=>CC,MKu:()=>DC,xe9:()=>TC,Co$:()=>ub,Vns:()=>vd,SKi:()=>Ss,Xx1:()=>Vi,Agw:()=>Eg,PLl:()=>op,u5s:()=>ig,sFG:()=>FT,_9s:()=>md,czy:()=>Dv,kdw:()=>yo,C4Q:()=>R_,NYb:()=>Ob,giA:()=>LE,xvI:()=>XO,RxE:()=>hP,c1b:()=>G_,gXe:()=>cd,mal:()=>Kc,Tzd:()=>id,Af3:()=>je,L39:()=>e1,EWP:()=>oI,sbv:()=>aE,a0P:()=>T1,Ol2:()=>ty,w6W:()=>cb,oH4:()=>vP,QZP:()=>RC,SmG:()=>_N,Rfq:()=>Un,WQX:()=>qn,hFB:()=>Vm,naY:()=>mN,Hps:()=>dc,QuC:()=>ta,EmA:()=>zo,Udg:()=>t1,fpN:()=>MN,phd:()=>Fb,HJs:()=>b1,N4e:()=>tt,vPA:()=>Gl,O8t:()=>Rd,H3F:()=>ym,H8p:()=>N,KH2:()=>by,Ua0:()=>Hc,wOt:()=>on,WHO:()=>kb,e01:()=>FE,Lf2:()=>ih,H5H:()=>eC,Zy3:()=>mr,mq5:()=>wS,JZv:()=>bi,LfX:()=>te,plB:()=>wh,jNT:()=>BE,zjR:()=>xb,ngT:()=>eu,TL$:()=>El,Tbb:()=>qr,nM4:()=>X,Vt3:()=>a,OA$:()=>dt,Jv_:()=>NR,R7$:()=>Ww,BMQ:()=>Ey,HbH:()=>cS,AVh:()=>G0,vxM:()=>vS,wni:()=>sR,C6U:()=>cR,SS7:()=>lC,VBU:()=>hb,FsC:()=>gE,jDH:()=>Yn,G2t:()=>H,$C:()=>pE,EJ8:()=>mE,rXU:()=>_d,nrm:()=>Y0,eu8:()=>J0,bVm:()=>sw,qex:()=>iw,k0s:()=>rw,j41:()=>nw,RV6:()=>TS,xGo:()=>Wh,Mr5:()=>Z0,KVO:()=>rs,kS0:()=>A,QTQ:()=>BT,bIt:()=>rC,lsd:()=>uR,joV:()=>Mc,qSk:()=>rc,XpG:()=>qS,nI1:()=>WR,bMT:()=>zR,i5U:()=>GR,brH:()=>KR,SdG:()=>XS,NAR:()=>QS,Y8G:()=>H0,FCK:()=>oC,lJ4:()=>FR,l_i:()=>LR,sMw:()=>VR,NyB:()=>lR,mGM:()=>aR,sdS:()=>dR,Njj:()=>xl,tSv:()=>Kg,eBV:()=>ia,B4B:()=>__,n$t:()=>LI,xc7:()=>z0,DNE:()=>Pl,C5r:()=>qR,EFF:()=>IR,JRh:()=>aC,SpI:()=>lw,DH7:()=>MR,mxI:()=>cC,R50:()=>uC,GBs:()=>oR});var w=B(3308);function ne(e,n){return Object.is(e,n)}let ee=null,Re=!1,re=1;const ye=Symbol("SIGNAL");function Fe(e){const n=ee;return ee=e,n}const Ie={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lt(e){if(Re)throw new Error("");if(null===ee)return;ee.consumerOnSignalRead(e);const n=ee.nextProducerIndex++;Rt(ee),n<ee.producerNode.length&&ee.producerNode[n]!==e&&kt(ee)&&pt(ee.producerNode[n],ee.producerIndexOfThis[n]),ee.producerNode[n]!==e&&(ee.producerNode[n]=e,ee.producerIndexOfThis[n]=kt(ee)?St(e,ee,n):0),ee.producerLastReadVersion[n]=e.version}function mt(e){if((!kt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==re)){if(!e.producerMustRecompute(e)&&!Wt(e))return void dn(e);e.producerRecomputeValue(e),dn(e)}}function Jt(e){if(void 0===e.liveConsumerNode)return;const n=Re;Re=!0;try{for(const i of e.liveConsumerNode)i.dirty||hn(i)}finally{Re=n}}function Ht(){return!1!==ee?.consumerAllowSignalWrites}function hn(e){e.dirty=!0,Jt(e),e.consumerMarkedDirty?.(e)}function dn(e){e.dirty=!1,e.lastCleanEpoch=re}function Kt(e){return e&&(e.nextProducerIndex=0),Fe(e)}function Ut(e,n){if(Fe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(kt(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)pt(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Wt(e){Rt(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(mt(i),o!==i.version))return!0}return!1}function We(e){if(Rt(e),kt(e))for(let n=0;n<e.producerNode.length;n++)pt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function St(e,n,i){if(at(e),0===e.liveConsumerNode.length&&kn(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=St(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function pt(e,n){if(at(e),1===e.liveConsumerNode.length&&kn(e))for(let o=0;o<e.producerNode.length;o++)pt(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],c=e.liveConsumerNode[n];Rt(c),c.producerIndexOfThis[o]=n}}function kt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function at(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function kn(e){return void 0!==e.producerNode}function Or(e,n){const i=Object.create(Nr);i.computation=e,void 0!==n&&(i.equal=n);const o=()=>{if(mt(i),lt(i),i.value===Wr)throw i.error;return i.value};return o[ye]=i,o}const Hr=Symbol("UNSET"),pr=Symbol("COMPUTING"),Wr=Symbol("ERRORED"),Nr={...Ie,value:Hr,dirty:!0,error:null,equal:ne,kind:"computed",producerMustRecompute:e=>e.value===Hr||e.value===pr,producerRecomputeValue(e){if(e.value===pr)throw new Error("Detected cycle in computations.");const n=e.value;e.value=pr;const i=Kt(e);let o,c=!1;try{o=e.computation(),Fe(null),c=n!==Hr&&n!==Wr&&o!==Wr&&e.equal(n,o)}catch(h){o=Wr,e.error=h}finally{Ut(e,i)}c?e.value=n:(e.value=o,e.version++)}};let Pr=function Ur(){throw new Error};function yi(e){Pr(e)}let Le=null;function Ge(e,n){Ht()||yi(e),e.equal(e.value,n)||(e.value=n,function sn(e){e.version++,function ht(){re++}(),Jt(e),Le?.()}(e))}const Pn={...Ie,equal:ne,value:void 0,kind:"signal"};let Xr;function ni(){return Xr}function Jr(e){const n=Xr;return Xr=e,n}const Mn=Symbol("NotFound");Error;var Yt=B(5981),ft=B(6104),en=B(2029),Sn=B(3527);const gr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class on extends Error{code;constructor(n,i){super(mr(n,i)),this.code=n}}function mr(e,n){return`${function nr(e){return`NG0${Math.abs(e)}`}(e)}${n?": "+n:""}`}const ei=Symbol("InputSignalNode#UNSET"),Rn={...Pn,transformFn:void 0,applyValueToInputSignal(e,n){Ge(e,n)}};function ts(e,n){const i=Object.create(Rn);function o(){if(lt(i),i.value===ei)throw new on(-950,null);return i.value}return i.value=e,i.transformFn=n?.transform,o[ye]=i,o}function ti(e){return{toString:e}.toString()}const An="__parameters__";function cs(e,n,i){return ti(()=>{const o=function ws(e){return function(...i){if(e){const o=e(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...h){if(this instanceof c)return o.apply(this,h),this;const m=new c(...h);return T.annotation=m,T;function T(D,j,Y){const le=D.hasOwnProperty(An)?D[An]:Object.defineProperty(D,An,{value:[]})[An];for(;le.length<=Y;)le.push(null);return(le[Y]=le[Y]||[]).push(m),D}}return c.prototype.ngMetadataName=e,c.annotationCls=c,c})}const bi=globalThis;function kr(e){for(let n in e)if(e[n]===kr)return n;throw Error("Could not find renamed property on target object.")}function Wi(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function qr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(qr).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const i=e.toString();if(null==i)return""+i;const o=i.indexOf("\n");return o>=0?i.slice(0,o):i}function an(e,n){return e?n?`${e} ${n}`:e:n||""}const bn=kr({__forward_ref__:kr});function Un(e){return e.__forward_ref__=Un,e.toString=function(){return qr(this())},e}function vn(e){return er(e)?e():e}function er(e){return"function"==typeof e&&e.hasOwnProperty(bn)&&e.__forward_ref__===Un}function Yn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function H(e){return{providers:e.providers||[],imports:e.imports||[]}}function $(e){return Je(e,cr)||Je(e,fi)}function te(e){return null!==$(e)}function Je(e,n){return e.hasOwnProperty(n)?e[n]:null}function Cn(e){return e&&(e.hasOwnProperty(zt)||e.hasOwnProperty(Gi))?e[zt]:null}const cr=kr({\u0275prov:kr}),zt=kr({\u0275inj:kr}),fi=kr({ngInjectableDef:kr}),Gi=kr({ngInjectorDef:kr});class Pe{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,i){this._desc=n,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Yn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ks(e){return e&&!!e.\u0275providers}const Qs=kr({\u0275cmp:kr}),ms=kr({\u0275dir:kr}),jr=kr({\u0275pipe:kr}),K=kr({\u0275mod:kr}),Ee=kr({\u0275fac:kr}),ie=kr({__NG_ELEMENT_ID__:kr}),ge=kr({__NG_ENV_ID__:kr});function ke(e){return"string"==typeof e?e:null==e?"":String(e)}function _r(e,n){throw new on(-200,e)}function zr(e,n){throw new on(-201,!1)}var Jn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Jn||{});let vi;function wi(){return vi}function Mi(e){const n=vi;return vi=e,n}function Os(e,n,i){const o=$(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Jn.Optional?null:void 0!==n?n:void zr()}const Ct={},Ke="__NG_DI_FLAG__";class Mt{injector;constructor(n){this.injector=n}retrieve(n,i){return this.injector.get(n,i.optional?Mn:Ct,i)}}const Dn="ngTempTokenPath",Ir=/\n/gm,Ki="__source";function Fa(e,n=Jn.Default){if(void 0===ni())throw new on(-203,!1);if(null===ni())return Os(e,void 0,n);{const i=ni();let o;return o=i instanceof Mt?i.injector:i,o.get(e,n&Jn.Optional?null:void 0,n)}}function rs(e,n=Jn.Default){return(wi()||Fa)(vn(e),n)}function qn(e,n=Jn.Default){return rs(e,To(n))}function To(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ls(e){const n=[];for(let i=0;i<e.length;i++){const o=vn(e[i]);if(Array.isArray(o)){if(0===o.length)throw new on(900,!1);let c,h=Jn.Default;for(let m=0;m<o.length;m++){const T=o[m],D=wa(T);"number"==typeof D?-1===D?c=T.token:h|=D:c=T}n.push(rs(c,h))}else n.push(rs(o))}return n}function bo(e,n){return e[Ke]=n,e.prototype[Ke]=n,e}function wa(e){return e[Ke]}const Vi=bo(cs("Optional"),8),yo=bo(cs("SkipSelf"),4);function to(e,n){return e.hasOwnProperty(Ee)?e[Ee]:null}function hs(e,n){e.forEach(i=>Array.isArray(i)?hs(i,n):n(i))}function Uo(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function us(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function is(e,n,i){let o=Ns(e,n);return o>=0?e[1|o]=i:(o=~o,function Us(e,n,i,o){let c=e.length;if(c==n)e.push(i,o);else if(1===c)e.push(o,e[0]),e[0]=i;else{for(c--,e.push(e[c-1],e[c]);c>n;)e[c]=e[c-2],c--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function ea(e,n){const i=Ns(e,n);if(i>=0)return e[1|i]}function Ns(e,n){return function wo(e,n,i){let o=0,c=e.length>>i;for(;c!==o;){const h=o+(c-o>>1),m=e[h<<i];if(n===m)return h<<i;m>n?c=h:o=h+1}return~(c<<i)}(e,n,1)}const As={},Di=[],Yi=new Pe(""),ua=new Pe("",-1),Aa=new Pe("");class Wo{get(n,i=Ct){if(i===Ct){const o=new Error(`NullInjectorError: No provider for ${qr(n)}!`);throw o.name="NullInjectorError",o}return i}}function Bs(e,n){const i=e[K]||null;if(!i&&!0===n)throw new Error(`Type ${qr(e)} does not have '\u0275mod' property.`);return i}function Ei(e){return e[Qs]||null}function bs(e){return e[ms]||null}function js(e){return e[jr]||null}function ta(e){const n=Ei(e)||bs(e)||js(e);return null!==n&&n.standalone}function zo(e){return{\u0275providers:e}}function Wa(...e){return{\u0275providers:vo(0,e),\u0275fromNgModule:!0}}function vo(e,...n){const i=[],o=new Set;let c;const h=m=>{i.push(m)};return hs(n,m=>{const T=m;Bo(T,h,[],o)&&(c||=[],c.push(T))}),void 0!==c&&ro(c,h),i}function ro(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:c}=e[i];io(c,h=>{n(h,o)})}}function Bo(e,n,i,o){if(!(e=vn(e)))return!1;let c=null,h=Cn(e);const m=!h&&Ei(e);if(h||m){if(m&&!m.standalone)return!1;c=e}else{const D=e.ngModule;if(h=Cn(D),!h)return!1;c=D}const T=o.has(c);if(m){if(T)return!1;if(o.add(c),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const j of D)Bo(j,n,i,o)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let j;o.add(c);try{hs(h.imports,Y=>{Bo(Y,n,i,o)&&(j||=[],j.push(Y))})}finally{}void 0!==j&&ro(j,n)}if(!T){const j=to(c)||(()=>new c);n({provide:c,useFactory:j,deps:Di},c),n({provide:Aa,useValue:c,multi:!0},c),n({provide:Yi,useValue:()=>rs(c),multi:!0},c)}const D=h.providers;if(null!=D&&!T){const j=e;io(D,Y=>{n(Y,j)})}}}return c!==e&&void 0!==e.providers}function io(e,n){for(let i of e)ks(i)&&(i=i.\u0275providers),Array.isArray(i)?io(i,n):n(i)}const Ca=kr({provide:String,useValue:kr});function fs(e){return null!==e&&"object"==typeof e&&Ca in e}function U(e){return"function"==typeof e}const N=new Pe(""),ue={},Ue={};let rr;function Fr(){return void 0===rr&&(rr=new Wo),rr}class qi{}class Ji extends qi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,et(n,m=>this.processProvider(m)),this.records.set(ua,q(void 0,this)),c.has("environment")&&this.records.set(qi,q(void 0,this));const h=this.records.get(N);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Aa,Di,Jn.Self))}retrieve(n,i){return this.get(n,i.optional?Mn:Ct,i)}destroy(){W(this),this._destroyed=!0;const n=Fe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Fe(n)}}onDestroy(n){return W(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){W(this);const i=Jr(this),o=Mi(void 0);try{return n()}finally{Jr(i),Mi(o)}}get(n,i=Ct,o=Jn.Default){if(W(this),n.hasOwnProperty(ge))return n[ge](this);o=To(o);const h=Jr(this),m=Mi(void 0);try{if(!(o&Jn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const j=function Be(e){return"function"==typeof e||"object"==typeof e&&e instanceof Pe}(n)&&$(n);D=j&&this.injectableDefInScope(j)?q(Xs(n),ue):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D,o)}return(o&Jn.Self?Fr():this.parent).get(n,i=o&Jn.Optional&&i===Ct?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[Dn]=T[Dn]||[]).unshift(qr(n)),h)throw T;return function Ho(e,n,i,o){const c=e[Dn];throw n[Ki]&&c.unshift(n[Ki]),e.message=function eo(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=qr(n);if(Array.isArray(n))c=n.map(qr).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let T=n[m];h.push(m+":"+("string"==typeof T?JSON.stringify(T):qr(T)))}c=`{${h.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${e.replace(Ir,"\n  ")}`}("\n"+e.message,c,i,o),e.ngTokenPath=c,e[Dn]=null,e}(T,n,"R3InjectorError",this.source)}throw T}finally{Mi(m),Jr(h)}}resolveInjectorInitializers(){const n=Fe(null),i=Jr(this),o=Mi(void 0);try{const h=this.get(Yi,Di,Jn.Self);for(const m of h)m()}finally{Jr(i),Mi(o),Fe(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(qr(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){let i=U(n=vn(n))?n:vn(n&&n.provide);const o=function C(e){return fs(e)?q(void 0,e.useValue):q(F(e),ue)}(n);if(!U(n)&&!0===n.multi){let c=this.records.get(i);c||(c=q(void 0,ue,!0),c.factory=()=>Ls(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i,o){const c=Fe(null);try{return i.value===Ue?_r(qr(n)):i.value===ue&&(i.value=Ue,i.value=i.factory(void 0,o)),"object"==typeof i.value&&i.value&&function Ce(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Fe(c)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=vn(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Xs(e){const n=$(e),i=null!==n?n.factory:to(e);if(null!==i)return i;if(e instanceof Pe)throw new on(204,!1);if(e instanceof Function)return function E(e){if(e.length>0)throw new on(204,!1);const i=function gn(e){return e&&(e[cr]||e[fi])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new on(204,!1)}function F(e,n,i){let o;if(U(e)){const c=vn(e);return to(c)||Xs(c)}if(fs(e))o=()=>vn(e.useValue);else if(function Qi(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Ls(e.deps||[]));else if(function $s(e){return!(!e||!e.useExisting)}(e))o=(c,h)=>rs(vn(e.useExisting),void 0!==h&&h&Jn.Optional?Jn.Optional:void 0);else{const c=vn(e&&(e.useClass||e.provide));if(!function oe(e){return!!e.deps}(e))return to(c)||Xs(c);o=()=>new c(...Ls(e.deps))}return o}function W(e){if(e.destroyed)throw new on(205,!1)}function q(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function et(e,n){for(const i of e)Array.isArray(i)?et(i,n):i&&ks(i)?et(i.\u0275providers,n):n(i)}function tt(e,n){let i;e instanceof Ji?(W(e),i=e):i=new Mt(e);const c=Jr(i),h=Mi(void 0);try{return n()}finally{Jr(c),Mi(h)}}function _t(){return void 0!==wi()||null!=ni()}function je(e){if(!_t())throw new on(-203,!1)}const yn=0,qt=1,Ln=2,Rr=3,Ri=4,Hn=5,Fi=6,_i=7,Lr=8,ri=9,ps=10,Dr=11,Iu=12,Tu=13,ss=14,gs=15,Go=16,Xi=17,Ao=18,Gu=19,Ec=20,Ko=21,Co=23,xs=24,fr=26,su=1,Da=7,Eo=9,Zi=10;function os(e){return Array.isArray(e)&&"object"==typeof e[su]}function Ds(e){return Array.isArray(e)&&!0===e[su]}function Sa(e){return!!(4&e.flags)}function Hs(e){return e.componentOffset>-1}function La(e){return!(1&~e.flags)}function so(e){return!!e.template}function ca(e){return!!(512&e[Ln])}function la(e){return!(256&~e[Ln])}class Te{previousValue;currentValue;firstChange;constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function me(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}const dt=(()=>{const e=()=>Xt;return e.ngInherit=!0,e})();function Xt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tr),Wn}function Wn(){const e=Ws(this),n=e?.current;if(n){const i=e.previous;if(i===As)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Tr(e,n,i,o,c){const h=this.declaredInputs[o],m=Ws(e)||function ha(e,n){return e[ui]=n}(e,{previous:As,current:null}),T=m.current||(m.current={}),D=m.previous,j=D[h];T[h]=new Te(j&&j.currentValue,i,D===As),me(e,n,c,i)}const ui="__ngSimpleChanges__";function Ws(e){return e[ui]||null}const di=function(e,n=null,i){},Au="svg";function Si(e){for(;Array.isArray(e);)e=e[yn];return e}function Cu(e,n){return Si(n[e])}function ra(e,n){return Si(n[e.index])}function Xu(e,n){return e.data[n]}function Ra(e,n){return e[n]}function ol(e,n,i,o){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),n[i]=o}function qo(e,n){const i=n[e];return os(i)?i:i[yn]}function ou(e){return!(128&~e[Ln])}function Ro(e,n){return null==n?null:e[n]}function Ac(e){e[Xi]=0}function Du(e){1024&e[Ln]||(e[Ln]|=1024,ou(e)&&Su(e))}function Yu(e){return!!(9216&e[Ln]||e[xs]?.dirty)}function uu(e){e[ps].changeDetectionScheduler?.notify(8),64&e[Ln]&&(e[Ln]|=1024),Yu(e)&&Su(e)}function Su(e){e[ps].changeDetectionScheduler?.notify(0);let n=pa(e);for(;null!==n&&!(8192&n[Ln])&&(n[Ln]|=8192,ou(n));)n=pa(n)}function cu(e,n){if(la(e))throw new on(911,!1);null===e[Ko]&&(e[Ko]=[]),e[Ko].push(n)}function pa(e){const n=e[Rr];return Ds(n)?n[Rr]:n}function Ua(e){return e[_i]??=[]}function Po(e){return e.cleanup??=[]}const hi={lFrame:Pu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ru=!1;function Nl(){return hi.bindingsEnabled}function du(){return null!==hi.skipHydrationRootTNode}function jt(){return hi.lFrame.lView}function ci(){return hi.lFrame.tView}function ia(e){return hi.lFrame.contextLView=e,e[Lr]}function xl(e){return hi.lFrame.contextLView=null,e}function pi(){let e=qp();for(;null!==e&&64===e.type;)e=e.parent;return e}function qp(){return hi.lFrame.currentTNode}function Zr(e,n){const i=hi.lFrame;i.currentTNode=e,i.isParent=n}function Vh(){return hi.lFrame.isParent}function Dc(){hi.lFrame.isParent=!1}function Qp(){return Ru}function Sc(e){const n=Ru;return Ru=e,n}function Ys(){const e=hi.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ga(){return hi.lFrame.bindingIndex++}function Xo(e){const n=hi.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function ul(e,n){const i=hi.lFrame;i.bindingIndex=i.bindingRootIndex=e,Ka(n)}function Ka(e){hi.lFrame.currentDirectiveIndex=e}function cl(){return hi.lFrame.currentQueryIndex}function Ts(e){hi.lFrame.currentQueryIndex=e}function sa(e){const n=e[qt];return 2===n.type?n.declTNode:1===n.type?e[Hn]:null}function Rc(e,n,i){if(i&Jn.SkipSelf){let c=n,h=e;for(;!(c=c.parent,null!==c||i&Jn.Host||(c=sa(h),null===c||(h=h[ss],10&c.type))););if(null===c)return!1;n=c,e=h}const o=hi.lFrame=Bh();return o.currentTNode=n,o.lView=e,!0}function Nd(e){const n=Bh(),i=e[qt];hi.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Bh(){const e=hi.lFrame,n=null===e?null:e.child;return null===n?Pu(e):n}function Pu(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Fl(){const e=hi.lFrame;return hi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const jh=Fl;function Pc(){const e=Fl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function So(){return hi.lFrame.selectedIndex}function fu(e){hi.lFrame.selectedIndex=e}function es(){const e=hi.lFrame;return Xu(e.tView,e.selectedIndex)}function rc(){hi.lFrame.currentNamespace=Au}function Mc(){!function dl(){hi.lFrame.currentNamespace=null}()}let Oc=!0;function Nc(){return Oc}function ys(e){Oc=e}function Ll(e,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const h=e.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:T,ngAfterViewInit:D,ngAfterViewChecked:j,ngOnDestroy:Y}=h;m&&(e.contentHooks??=[]).push(-i,m),T&&((e.contentHooks??=[]).push(i,T),(e.contentCheckHooks??=[]).push(i,T)),D&&(e.viewHooks??=[]).push(-i,D),j&&((e.viewHooks??=[]).push(i,j),(e.viewCheckHooks??=[]).push(i,j)),null!=Y&&(e.destroyHooks??=[]).push(i,Y)}}function xc(e,n,i){Hf(e,n,3,i)}function Fc(e,n,i,o){(3&e[Ln])===i&&Hf(e,n,i,o)}function Lc(e,n){let i=e[Ln];(3&i)===n&&(i&=16383,i+=1,e[Ln]=i)}function Hf(e,n,i,o){const h=o??-1,m=n.length-1;let T=0;for(let D=void 0!==o?65535&e[Xi]:0;D<m;D++)if("number"==typeof n[D+1]){if(T=n[D],null!=o&&T>=o)break}else n[D]<0&&(e[Xi]+=65536),(T<h||-1==h)&&(Vc(e,i,n,D),e[Xi]=(4294901760&e[Xi])+D+2),D++}function Vl(e,n){di(4,e,n);const i=Fe(null);try{n.call(e)}finally{Fe(i),di(5,e,n)}}function Vc(e,n,i,o){const c=i[o]<0,h=i[o+1],T=e[c?-i[o]:i[o]];c?e[Ln]>>14<e[Xi]>>16&&(3&e[Ln])===n&&(e[Ln]+=16384,Vl(T,h)):Vl(T,h)}const ma=-1;class qa{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,o){this.factory=n,this.canSeeViewProviders=i,this.injectImpl=o}}function Vd(e){return 3===e||4===e||6===e}function Wf(e){return 64===e.charCodeAt(0)}function ic(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||Jp(e,i,c,0,-1===i||2===i?n[++o]:null)}}return e}function Jp(e,n,i,o,c){let h=0,m=e.length;if(-1===n)m=-1;else for(;h<e.length;){const T=e[h++];if("number"==typeof T){if(T===n){m=-1;break}if(T>n){m=h-1;break}}}for(;h<e.length;){const T=e[h];if("number"==typeof T)break;if(T===i)return void(null!==c&&(e[h+1]=c));h++,null!==c&&h++}-1!==m&&(e.splice(m,0,n),h=m+1),e.splice(h++,0,i),null!==c&&e.splice(h++,0,c)}function ku(e){return e!==ma}function Ou(e){return 32767&e}function Bd(e,n){let i=function Ud(e){return e>>16}(e),o=n;for(;i>0;)o=o[ss],i--;return o}let ao=!0;function sc(e){const n=ao;return ao=e,n}const Gf=255,oc=5;let gu=0;const Oa={};function Nu(e,n){const i=jl(e,n);if(-1!==i)return i;const o=n[qt];o.firstCreatePass&&(e.injectorIndex=n.length,Bl(o.data,e),Bl(n,null),Bl(o.blueprint,null));const c=ac(e,n),h=e.injectorIndex;if(ku(c)){const m=Ou(c),T=Bd(c,n),D=T[qt].data;for(let j=0;j<8;j++)n[h+j]=T[m+j]|D[m+j]}return n[h+8]=c,h}function Bl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function jl(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function ac(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=Lu(c),null===o)return ma;if(i++,c=c[ss],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return ma}function $l(e,n,i){!function Zp(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(ie)&&(o=i[ie]),null==o&&(o=i[ie]=gu++);const c=o&Gf;n.data[e+(c>>oc)]|=1<<c}(e,n,i)}function xu(e,n,i){if(i&Jn.Optional||void 0!==e)return e;zr()}function jd(e,n,i,o){if(i&Jn.Optional&&void 0===o&&(o=null),!(i&(Jn.Self|Jn.Host))){const c=e[ri],h=Mi(void 0);try{return c?c.get(n,o,i&Jn.Optional):Os(n,o,i&Jn.Optional)}finally{Mi(h)}}return xu(o,0,i)}function $h(e,n,i,o=Jn.Default,c){if(null!==e){if(2048&n[Ln]&&!(o&Jn.Self)){const m=function ng(e,n,i,o,c){let h=e,m=n;for(;null!==h&&null!==m&&2048&m[Ln]&&!ca(m);){const T=tg(h,m,i,o|Jn.Self,Oa);if(T!==Oa)return T;let D=h.parent;if(!D){const j=m[Ec];if(j){const Y=j.get(i,Oa,o);if(Y!==Oa)return Y}D=Lu(m),m=m[ss]}h=D}return c}(e,n,i,o,Oa);if(m!==Oa)return m}const h=tg(e,n,i,o,Oa);if(h!==Oa)return h}return jd(n,i,o,c)}function tg(e,n,i,o,c){const h=function Kf(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(ie)?e[ie]:void 0;return"number"==typeof n?n>=0?n&Gf:hl:n}(i);if("function"==typeof h){if(!Rc(n,e,o))return o&Jn.Host?xu(c,0,o):jd(n,i,o,c);try{let m;if(m=h(o),null!=m||o&Jn.Optional)return m;zr()}finally{jh()}}else if("number"==typeof h){let m=null,T=jl(e,n),D=ma,j=o&Jn.Host?n[gs][Hn]:null;for((-1===T||o&Jn.SkipSelf)&&(D=-1===T?ac(e,n):n[T+8],D!==ma&&Hh(o,!1)?(m=n[qt],T=Ou(D),n=Bd(D,n)):T=-1);-1!==T;){const Y=n[qt];if(Fu(h,T,Y.data)){const le=Hl(T,n,i,m,o,j);if(le!==Oa)return le}D=n[T+8],D!==ma&&Hh(o,n[qt].data[T+8]===j)&&Fu(h,T,n)?(m=Y,T=Ou(D),n=Bd(D,n)):T=-1}}return c}function Hl(e,n,i,o,c,h){const m=n[qt],T=m.data[e+8],Y=Uc(T,m,i,null==o?Hs(T)&&ao:o!=m&&!!(3&T.type),c&Jn.Host&&h===T);return null!==Y?Qa(n,m,Y,T,c):Oa}function Uc(e,n,i,o,c){const h=e.providerIndexes,m=n.data,T=1048575&h,D=e.directiveStart,Y=h>>20,Me=c?T+Y:e.directiveEnd;for(let Ae=o?T:T+Y;Ae<Me;Ae++){const ct=m[Ae];if(Ae<D&&i===ct||Ae>=D&&ct.type===i)return Ae}if(c){const Ae=m[D];if(Ae&&so(Ae)&&Ae.type===i)return D}return null}function Qa(e,n,i,o,c){let h=e[i];const m=n.data;if(h instanceof qa){const T=h;T.resolving&&_r(function bt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ke(e)}(m[i]));const D=sc(T.canSeeViewProviders);T.resolving=!0;const Y=T.injectImpl?Mi(T.injectImpl):null;Rc(e,o,Jn.Default);try{h=e[i]=T.factory(void 0,c,m,e,o),n.firstCreatePass&&i>=o.directiveStart&&function $i(e,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(o){const m=Xt(n);(i.preOrderHooks??=[]).push(e,m),(i.preOrderCheckHooks??=[]).push(e,m)}c&&(i.preOrderHooks??=[]).push(0-e,c),h&&((i.preOrderHooks??=[]).push(e,h),(i.preOrderCheckHooks??=[]).push(e,h))}(i,m[i],n)}finally{null!==Y&&Mi(Y),sc(D),T.resolving=!1,jh()}}return h}function Fu(e,n,i){return!!(i[n+(e>>oc)]&1<<e)}function Hh(e,n){return!(e&Jn.Self||e&Jn.Host&&n)}class vs{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return $h(this._tNode,this._lView,n,To(o),i)}}function hl(){return new vs(pi(),jt())}function Wh(e){return ti(()=>{const n=e.prototype.constructor,i=n[Ee]||qf(n),o=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==o;){const h=c[Ee]||qf(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function qf(e){return er(e)?()=>{const n=qf(vn(e));return n&&n()}:to(e)}function Lu(e){const n=e[qt],i=n.type;return 2===i?n.declTNode:1===i?e[Hn]:null}function A(e){return function eg(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const h=i[c];if(Vd(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(pi(),e)}function jc(e,n=null,i=null,o){const c=$c(e,n,i,o);return c.resolveInjectorInitializers(),c}function $c(e,n=null,i=null,o,c=new Set){const h=[i||Di,Wa(e)];return o=o||("object"==typeof e?void 0:qr(e)),new Ji(h,n||Fr(),o||null,c)}class uo{static THROW_IF_NOT_FOUND=Ct;static NULL=new Wo;static create(n,i){if(Array.isArray(n))return jc({name:""},i,n,"");{const o=n.name??"";return jc({name:o},n.parent,n.providers,o)}}static \u0275prov=Yn({token:uo,providedIn:"any",factory:()=>rs(ua)});static __NG_ELEMENT_ID__=-1}new Pe("").__NG_ELEMENT_ID__=e=>{const n=pi();if(null===n)throw new on(204,!1);if(2&n.type)return n.value;if(e&Jn.Optional)return null;throw new on(204,!1)};const $d=!1;let ja=(()=>class e{static __NG_ELEMENT_ID__=xm;static __NG_ENV_ID__=i=>i})();class Qf extends ja{_lView;constructor(n){super(),this._lView=n}onDestroy(n){const i=this._lView;return la(i)?(n(),()=>{}):(cu(i,n),()=>function al(e,n){if(null===e[Ko])return;const i=e[Ko].indexOf(n);-1!==i&&e[Ko].splice(i,1)}(i,n))}}function xm(){return new Qf(jt())}class mu{}const Vu=new Pe("",{providedIn:"root",factory:()=>!1}),fl=new Pe(""),rg=new Pe("");let Hc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Yt.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Yn({token:e,providedIn:"root",factory:()=>new e})}return e})(),ig=(()=>{class e{internalPendingTasks=qn(Hc);scheduler=qn(mu);add(){const i=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(i)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(i))}}run(i){var o=this;return(0,w.A)(function*(){const c=o.add();try{return yield i()}finally{c()}})()}static \u0275prov=Yn({token:e,providedIn:"root",factory:()=>new e})}return e})();const Uu=class Dy extends ft.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,_t()&&(this.destroyRef=qn(ja,{optional:!0})??void 0,this.pendingTasks=qn(Hc,{optional:!0})??void 0)}emit(n){const i=Fe(null);try{super.next(n)}finally{Fe(i)}}subscribe(n,i,o){let c=n,h=i||(()=>null),m=o;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),h=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(h=this.wrapInTimeout(h),c&&(c=this.wrapInTimeout(c)),m&&(m=this.wrapInTimeout(m)));const T=super.subscribe({next:c,error:h,complete:m});return n instanceof en.yU&&n.add(T),T}wrapInTimeout(n){return i=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{n(i)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function Xf(...e){}function sg(e){let n,i;function o(){e=Xf;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Hd(e){return queueMicrotask(()=>e()),()=>{e=Xf}}const co="isAngularZone",Wd=co+"_ID";let og=0;class Ss{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Uu(!1);onMicrotaskEmpty=new Uu(!1);onStable=new Uu(!1);onError=new Uu(!1);constructor(n){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:h=$d}=n;if(typeof Zone>"u")throw new on(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!c&&o,m.shouldCoalesceRunChangeDetection=c,m.callbackScheduled=!1,m.scheduleInRootZone=h,function Kh(e){const n=()=>{!function Sy(e){function n(){sg(()=>{e.callbackScheduled=!1,ug(e),e.isCheckStableRunning=!0,Yf(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),ug(e))}(e)},i=og++;e._inner=e._inner.fork({name:"angular",properties:{[co]:!0,[Wd]:i,[Wd+i]:!0},onInvokeTask:(o,c,h,m,T,D)=>{if(function gl(e){return cg(e,"__ignore_ng_zone__")}(D))return o.invokeTask(h,m,T,D);try{return zd(e),o.invokeTask(h,m,T,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&n(),pl(e)}},onInvoke:(o,c,h,m,T,D,j)=>{try{return zd(e),o.invoke(h,m,T,D,j)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Fm(e){return cg(e,"__scheduler_tick__")}(D)&&n(),pl(e)}},onHasTask:(o,c,h,m)=>{o.hasTask(h,m),c===h&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,ug(e),Yf(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,c,h,m)=>(o.handleError(h,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(co)}static assertInAngularZone(){if(!Ss.isInAngularZone())throw new on(909,!1)}static assertNotInAngularZone(){if(Ss.isInAngularZone())throw new on(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,ag,Xf,Xf);try{return h.runTask(m,i,o)}finally{h.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const ag={};function Yf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ug(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function zd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pl(e){e._nesting--,Yf(e)}class cc{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Uu;onMicrotaskEmpty=new Uu;onStable=new Uu;onError=new Uu;run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}function cg(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Fs{_console=console;handleError(n){this._console.error("ERROR",n)}}const Py=new Pe("",{providedIn:"root",factory:()=>{const e=qn(Ss),n=qn(Fs);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function ml(e,n){return ts(e,n)}const Vm=(ml.required=function qh(e){return ts(ei,e)},ml);function _l(){return Gd(pi(),jt())}function Gd(e,n){return new lc(ra(e,n))}let lc=(()=>class e{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=_l})();function Qh(e){return e instanceof lc?e.nativeElement:e}function dc(e){return"function"==typeof e&&void 0!==e[ye]}function Gl(e,n){const i=function Ve(e,n){const i=Object.create(Pn);i.value=e,void 0!==n&&(i.equal=n);const o=()=>(lt(i),i.value);return o[ye]=i,o}(e,n?.equal),o=i[ye];return i.set=c=>Ge(o,c),i.update=c=>function qe(e,n){Ht()||yi(e),Ge(e,n(e.value))}(o,c),i.asReadonly=Xh.bind(i),i}function Xh(){const e=this[ye];if(void 0===e.readonlyFn){const n=()=>this();n[ye]=e,e.readonlyFn=n}return e.readonlyFn}function Kd(e){return dc(e)&&"function"==typeof e.set}function Um(){return this._results[Symbol.iterator]()}class cI{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function xi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function no(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let c=e[o],h=n[o];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Um}function Jf(e){return!(128&~e.flags)}var Kl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kl||{});const _u=new Map;let ql=0;function Qd(e){_u.delete(e[Gu])}const dg="__ngContext__";function ya(e,n){os(n)?(e[dg]=n[Gu],function Zf(e){_u.set(e[Gu],e)}(n)):e[dg]=n}function Yd(e){return Yl(e[Iu])}function vl(e){return Yl(e[Ri])}function Yl(e){for(;null!==e&&!Ds(e);)e=e[Ri];return e}let Wc;function El(e){Wc=e}const Ja=new Pe("",{providedIn:"root",factory:()=>Wm}),Wm="ng",op=new Pe(""),Eg=new Pe("",{providedIn:"platform",factory:()=>"unknown"}),Ig=new Pe(""),By=new Pe("",{providedIn:"root",factory:()=>function Ya(){if(void 0!==Wc)return Wc;if(typeof document<"u")return document;throw new on(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),$y=new Pe("",{providedIn:"root",factory:()=>!1});var rh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(rh||{});const ih=new Pe(""),cp=new Set;function eu(e){cp.has(e)||(cp.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let df=(()=>class e{view;node;constructor(i,o){this.view=i,this.node=o}static __NG_ELEMENT_ID__=td})();function td(){return new df(jt(),pi())}var lp=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(lp||{});let sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Yn({token:e,providedIn:"root",factory:()=>new e})}return e})();const oh=[lp.EarlyRead,lp.Write,lp.MixedReadWrite,lp.Read];let nd=(()=>{class e{ngZone=qn(Ss);scheduler=qn(mu);errorHandler=qn(Fs,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){qn(ih,{optional:!0})}execute(){const i=this.sequences.size>0;i&&di(16),this.executing=!0;for(const o of oh)for(const c of this.sequences)if(!c.erroredOrDestroyed&&c.hooks[o])try{c.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,c.hooks[o])(c.pipelinedValue),c.snapshot))}catch(h){c.erroredOrDestroyed=!0,this.errorHandler?.handleError(h)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&di(17)}register(i){const{view:o}=i;void 0!==o?((o[25]??=[]).push(i),Su(o),o[Ln]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,o){return o?o.run(rh.AFTER_NEXT_RENDER,i):i()}static \u0275prov=Yn({token:e,providedIn:"root",factory:()=>new e})}return e})();class rd{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,i,o,c,h,m=null){this.impl=n,this.hooks=i,this.view=o,this.once=c,this.snapshot=m,this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(i=>i!==this))}}function id(e,n){!n?.injector&&je();const i=n?.injector??qn(uo);return eu("NgAfterRender"),Ag(e,i,n,!1)}function Kc(e,n){!n?.injector&&je();const i=n?.injector??qn(uo);return eu("NgAfterNextRender"),Ag(e,i,n,!0)}function Ag(e,n,i,o){const c=n.get(sh);c.impl??=n.get(nd);const h=n.get(ih,null,{optional:!0}),m=i?.phase??lp.MixedReadWrite,T=!0!==i?.manualCleanup?n.get(ja):null,D=n.get(df,null,{optional:!0}),j=new rd(c.impl,function wg(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,m),D?.view,o,T,h?.snapshot(null));return c.impl.register(j),j}let Ky=(e,n,i,o)=>{},u_=()=>null;function Lg(e,n,i=!1){return u_(e,n,i)}function f_(e,n){const i=e.contentQueries;if(null!==i){const o=Fe(null);try{for(let c=0;c<i.length;c+=2){const m=i[c+1];if(-1!==m){const T=e.data[m];Ts(i[c]),T.contentQueries(2,n[m],m)}}}finally{Fe(o)}}}function vp(e,n,i){Ts(0);const o=Fe(null);try{n(e,i)}finally{Fe(o)}}function Ug(e,n,i){if(Sa(n)){const o=Fe(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const T=e.data[m];T.contentQueries&&T.contentQueries(1,i[m],m)}}finally{Fe(o)}}}var cd=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(cd||{});let ld;function TI(e){return function g_(){if(void 0===ld&&(ld=null,bi.trustedTypes))try{ld=bi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ld}()?.createScriptURL(e)||e}class bI{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gr})`}}function dd(e){return e instanceof bI?e.changingThisBreaksApplicationSecurity:e}function yf(e,n){const i=function rv(e){return e instanceof bI&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${gr})`)}return i===n}const av=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var vf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vf||{});function __(e){const n=y_();return n?n.sanitize(vf.URL,e)||"":yf(e,"URL")?dd(e):function uv(e){return(e=String(e)).match(av)?e:"unsafe:"+e}(ke(e))}function Ef(e){const n=y_();if(n)return TI(n.sanitize(vf.RESOURCE_URL,e)||"");if(yf(e,"ResourceURL"))return TI(dd(e));throw new on(904,!1)}function LI(e,n,i){return function BC(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Ef:__}(n,i)(e)}function y_(){const e=jt();return e&&e[ps].sanitizer}const jC=/^>|^->|<!--|-->|--!>|<!-$/g,pv=/(<|>)/g;function Kg(e){return e.ownerDocument.defaultView}function gc(e){return e instanceof Function?e():e}function yv(e,n,i){let o=e.length;for(;;){const c=e.indexOf(n,i);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const h=n.length;if(c+h===o||e.charCodeAt(c+h)<=32)return c}i=c+1}}const Tp="ng-template";function Bw(e,n,i,o){let c=0;if(o){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==yv(n[c+1].toLowerCase(),i,0))return!0}else if(bp(e))return!1;if(c=n.indexOf(1,c),c>-1){let h;for(;++c<n.length&&"string"==typeof(h=n[c]);)if(h.toLowerCase()===i)return!0}return!1}function bp(e){return 4===e.type&&e.value!==Tp}function E_(e,n,i){return n===(4!==e.type||i?e.value:Tp)}function HI(e,n,i){let o=4;const c=e.attrs,h=null!==c?function vv(e){for(let n=0;n<e.length;n++)if(Vd(e[n]))return n;return e.length}(c):0;let m=!1;for(let T=0;T<n.length;T++){const D=n[T];if("number"!=typeof D){if(!m)if(4&o){if(o=2|1&o,""!==D&&!E_(e,D,i)||""===D&&1===n.length){if(nu(o))return!1;m=!0}}else if(8&o){if(null===c||!Bw(e,c,D,i)){if(nu(o))return!1;m=!0}}else{const j=n[++T],Y=jw(D,c,bp(e),i);if(-1===Y){if(nu(o))return!1;m=!0;continue}if(""!==j){let le;if(le=Y>h?"":c[Y+1].toLowerCase(),2&o&&j!==le){if(nu(o))return!1;m=!0}}}}else{if(!m&&!nu(o)&&!nu(D))return!1;if(m&&nu(D))continue;m=!1,o=D|1&o}}return nu(o)||m}function nu(e){return!(1&e)}function jw(e,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let h=!1;for(;c<n.length;){const m=n[c];if(m===e)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let T=n[++c];for(;"string"==typeof T;)T=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Xg(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function Qg(e,n,i=!1){for(let o=0;o<n.length;o++)if(HI(e,n[o],i))return!0;return!1}function qC(e,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(e.length===o.length){for(let c=0;c<e.length;c++)if(e[c]!==o[c])continue e;return!0}}return!1}function wp(e,n){return e?":not("+n.trim()+")":n}function QC(e){let n=e[0],i=1,o=2,c="",h=!1;for(;i<e.length;){let m=e[i];if("string"==typeof m)if(2&o){const T=e[++i];c+="["+m+(T.length>0?'="'+T+'"':"")+"]"}else 8&o?c+="."+m:4&o&&(c+=" "+m);else""!==c&&!nu(m)&&(n+=wp(h,c),c=""),o=m,h=h||!nu(o);i++}return""!==c&&(n+=wp(h,c)),n}const ki={};function Cp(e,n){return e.createComment(function xw(e){return e.replace(jC,n=>n.replace(pv,"\u200b$1\u200b"))}(n))}function Ev(e,n,i){return e.createElement(n,i)}function Dp(e,n,i,o,c){e.insertBefore(n,i,o,c)}function Jg(e,n,i){e.appendChild(n,i)}function Hw(e,n,i,o,c){null!==o?Dp(e,n,i,o,c):Jg(e,n,i)}function Iv(e,n,i){const{mergedAttrs:o,classes:c,styles:h}=i;null!==o&&function Yp(e,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const h=i[o++],m=i[o++],T=i[o++];e.setAttribute(n,m,T,h)}else{const h=c,m=i[++o];Wf(h)?e.setProperty(n,h,m):e.setAttribute(n,h,m),o++}}}(e,n,o),null!==c&&function JC(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}(e,n,c),null!==h&&function YC(e,n,i){e.setAttribute(n,"style",i)}(e,n,h)}function T_(e,n,i,o,c,h,m,T,D,j,Y){const le=fr+o,Me=le+c,Ae=function zI(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:ki);return i}(le,Me),ct="function"==typeof j?j():j;return Ae[qt]={type:e,blueprint:Ae,template:i,queries:null,viewQuery:T,declTNode:n,data:Ae.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:ct,incompleteFirstPass:!1,ssrId:Y}}function em(e,n,i,o,c,h,m,T,D,j,Y){const le=n.blueprint.slice();return le[yn]=c,le[Ln]=1228|o,(null!==j||e&&2048&e[Ln])&&(le[Ln]|=2048),Ac(le),le[Rr]=le[ss]=e,le[Lr]=i,le[ps]=m||e&&e[ps],le[Dr]=T||e&&e[Dr],le[ri]=D||e&&e[ri]||null,le[Hn]=h,le[Gu]=function Oy(){return ql++}(),le[Fi]=Y,le[Ec]=j,le[gs]=2==n.type?e[gs]:le,le}function Sp(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Tf(e,n,i,o){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(o),e.blueprint.push(o),e.data.push(null);return c}function KI(e,n){return e[Iu]?e[Tu][Ri]=n:e[Iu]=n,e[Tu]=n,n}function Ww(e=1){qI(ci(),jt(),So()+e,!1)}function qI(e,n,i,o){if(!o)if(3&~n[Ln]){const h=e.preOrderHooks;null!==h&&Fc(n,h,0,i)}else{const h=e.preOrderCheckHooks;null!==h&&xc(n,h,i)}fu(i)}var bv=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(bv||{});function QI(e,n,i,o){const c=Fe(null);try{const[h,m,T]=e.inputs[i];let D=null;!!(m&bv.SignalBased)&&(D=n[h][ye]),null!==D&&void 0!==D.transformFn?o=D.transformFn(o):null!==T&&(o=T.call(n,o)),null!==e.setInput?e.setInput(n,D,o,i,h):me(n,D,h,o)}finally{Fe(c)}}function wv(e,n,i,o,c){const h=So(),m=2&o;try{fu(-1),m&&n.length>fr&&qI(e,n,fr,!1),di(m?2:0,c),i(o,c)}finally{fu(h),di(m?3:1,c)}}function Jc(e,n,i){(function nD(e,n,i){const o=i.directiveStart,c=i.directiveEnd;Hs(i)&&function GI(e,n,i){const o=ra(n,e),c=function Tv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=T_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(i),h=e[ps].rendererFactory,m=KI(e,em(e,c,null,Sp(i),o,n,null,h.createRenderer(o,i),null,null,null));e[n.index]=m}(n,i,e.data[o+i.componentOffset]),e.firstCreatePass||Nu(i,n);const h=i.initialInputs;for(let m=o;m<c;m++){const T=e.data[m],D=Qa(n,e,m,i);ya(D,n),null!==h&&sD(0,m-o,D,T,0,h),so(T)&&(qo(i.index,n)[Lr]=Qa(n,e,m,i))}})(e,n,i),!(64&~i.flags)&&function rD(e,n,i){const o=i.directiveStart,c=i.directiveEnd,h=i.index,m=function $f(){return hi.lFrame.currentDirectiveIndex}();try{fu(h);for(let T=o;T<c;T++){const D=e.data[T],j=n[T];Ka(T),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&iD(D,j)}}finally{fu(-1),Ka(m)}}(e,n,i)}function ru(e,n,i=ra){const o=n.localNames;if(null!==o){let c=n.index+1;for(let h=0;h<o.length;h+=2){const m=o[h+1],T=-1===m?i(n,e):e[m];e[c++]=T}}}let Cv,yu=()=>null;function Hu(e,n,i,o,c,h,m,T){if(T||!bf(n,e,i,o,c)){if(3&n.type){const D=ra(n,i);o=function tD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),c=null!=m?m(c,n.value||"",o):c,h.setProperty(D,o,c)}}else Hs(n)&&function Ih(e,n){const i=qo(n,e);16&i[Ln]||(i[Ln]|=64)}(i,n.index)}function iD(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function XI(e,n){const i=e.directiveRegistry;let o=null;if(i)for(let c=0;c<i.length;c++){const h=i[c];Qg(n,h.selectors,!1)&&(o??=[],so(h)?o.unshift(h):o.push(h))}return o}function gd(e,n,i,o,c,h){const m=ra(e,n);!function YI(e,n,i,o,c,h,m){if(null==h)e.removeAttribute(n,c,i);else{const T=null==m?ke(h):m(h,o||"",c);e.setAttribute(n,c,T,i)}}(n[Dr],m,h,e.value,i,o,c)}function sD(e,n,i,o,c,h){const m=h[n];if(null!==m)for(let T=0;T<m.length;T+=2)QI(o,i,m[T],m[T+1])}function bf(e,n,i,o,c){const h=e.inputs?.[o],m=e.hostDirectiveInputs?.[o];let T=!1;if(m)for(let D=0;D<m.length;D+=2){const j=m[D];QI(n.data[j],i[j],m[D+1],c),T=!0}if(h)for(const D of h)QI(n.data[D],i[D],o,c),T=!0;return T}function Av(e,n){const i=qo(n,e),o=i[qt];!function oD(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const c=i[yn];null!==c&&null===i[Fi]&&(i[Fi]=Lg(c,i[ri])),di(18),w_(o,i,i[Lr]),di(19,i[Lr])}function w_(e,n,i){Nd(n);try{const o=e.viewQuery;null!==o&&vp(1,o,i);const c=e.template;null!==c&&wv(e,n,c,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ao]?.finishViewCreation(e),e.staticContentQueries&&f_(e,n),e.staticViewQueries&&vp(2,e.viewQuery,i);const h=e.components;null!==h&&function Qw(e,n){for(let i=0;i<n.length;i++)Av(e,n[i])}(n,h)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Ln]&=-5,Pc()}}function Rp(e,n,i,o){const c=Fe(null);try{const h=n.tView,D=em(e,h,i,4096&e[Ln]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[Go]=e[n.index];const Y=e[Ao];return null!==Y&&(D[Ao]=Y.createEmbeddedView(h)),w_(h,D,i),D}finally{Fe(c)}}function wf(e,n){return!n||null===n.firstChild||Jf(e)}function ZI(e,n){return Cv(e,n)}var Dv=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Dv||{});function Af(e){return!(32&~e.flags)}function Pp(e,n,i,o,c){if(null!=o){let h,m=!1;Ds(o)?h=o:os(o)&&(m=!0,o=o[yn]);const T=Si(o);0===e&&null!==i?null==c?Jg(n,i,T):Dp(n,i,T,c||null,!0):1===e&&null!==i?Dp(n,i,T,c||null,!0):2===e?function I_(e,n,i){e.removeChild(null,n,i)}(n,T,m):3===e&&n.destroyNode(T),null!=h&&function oT(e,n,i,o,c){const h=i[Da];h!==Si(i)&&Pp(n,e,o,h,c);for(let T=Zi;T<i.length;T++){const D=i[T];Mv(D[qt],D,e,n,o,h)}}(n,e,h,i,c)}}function Yw(e,n){n[ps].changeDetectionScheduler?.notify(9),Mv(e,n,n[Dr],2,null,null)}function Sv(e,n){const i=e[Eo],o=i.indexOf(n);i.splice(o,1)}function mc(e,n){if(la(n))return;const i=n[Dr];i.destroyNode&&Mv(e,n,i,3,null,null),function Jw(e){let n=e[Iu];if(!n)return Rv(e[qt],e);for(;n;){let i=null;if(os(n))i=n[Iu];else{const o=n[Zi];o&&(i=o)}if(!i){for(;n&&!n[Ri]&&n!==e;)os(n)&&Rv(n[qt],n),n=n[Rr];null===n&&(n=e),os(n)&&Rv(n[qt],n),i=n&&n[Ri]}n=i}}(n)}function Rv(e,n){if(la(n))return;const i=Fe(null);try{n[Ln]&=-129,n[Ln]|=256,n[xs]&&We(n[xs]),function uD(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof qa)){const h=i[o+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const T=c[h[m]],D=h[m+1];di(4,T,D);try{D.call(T)}finally{di(5,T,D)}}else{di(4,c,h);try{h.call(c)}finally{di(5,c,h)}}}}}(e,n),function Zw(e,n){const i=e.cleanup,o=n[_i];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const T=i[m+3];T>=0?o[T]():o[-T].unsubscribe(),m+=2}else i[m].call(o[i[m+1]]);null!==o&&(n[_i]=null);const c=n[Ko];if(null!==c){n[Ko]=null;for(let m=0;m<c.length;m++)(0,c[m])()}const h=n[Co];if(null!==h){n[Co]=null;for(const m of h)m.destroy()}}(e,n),1===n[qt].type&&n[Dr].destroy();const o=n[Go];if(null!==o&&Ds(n[Rr])){o!==n[Rr]&&Sv(o,n);const c=n[Ao];null!==c&&c.detachView(e)}Qd(n)}finally{Fe(i)}}function tT(e,n,i){return function eA(e,n,i){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return i[yn];if(Hs(o)){const{encapsulation:c}=e.data[o.directiveStart+o.componentOffset];if(c===cd.None||c===cd.Emulated)return null}return ra(o,i)}(e,n.parent,i)}function tA(e,n,i){return rA(e,n,i)}let nT,rA=function nA(e,n,i){return 40&e.type?ra(e,i):null};function Pv(e,n,i,o){const c=tT(e,o,n),h=n[Dr],T=tA(o.parent||n[Hn],o,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)Hw(h,c,i[D],T,!1);else Hw(h,c,i,T,!1);void 0!==nT&&nT(h,o,n,i,c)}function Th(e,n){if(null!==n){const i=n.type;if(3&i)return ra(n,e);if(4&i)return iT(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return Th(e,o);{const c=e[n.index];return Ds(c)?iT(-1,c):Si(c)}}if(128&i)return Th(e,n.next);if(32&i)return ZI(n,e)()||Si(e[n.index]);{const o=rT(e,n);return null!==o?Array.isArray(o)?o[0]:Th(pa(e[gs]),o):Th(e,n.next)}}return null}function rT(e,n){return null!==n?e[gs][Hn].projection[n.projection]:null}function iT(e,n){const i=Zi+e+1;if(i<n.length){const o=n[i],c=o[qt].firstChild;if(null!==c)return Th(o,c)}return n[Da]}function sT(e,n,i,o,c,h,m){for(;null!=i;){if(128===i.type){i=i.next;continue}const T=o[i.index],D=i.type;if(m&&0===n&&(T&&ya(Si(T),o),i.flags|=2),!Af(i))if(8&D)sT(e,n,i.child,o,c,h,!1),Pp(n,e,c,T,h);else if(32&D){const j=ZI(i,o);let Y;for(;Y=j();)Pp(n,e,c,Y,h);Pp(n,e,c,T,h)}else 16&D?kv(e,n,o,i,c,h):Pp(n,e,c,T,h);i=m?i.projectionNext:i.next}}function Mv(e,n,i,o,c,h){sT(i,o,e.firstChild,n,c,h,!1)}function kv(e,n,i,o,c,h){const m=i[gs],D=m[Hn].projection[o.projection];if(Array.isArray(D))for(let j=0;j<D.length;j++)Pp(n,e,c,D[j],h);else{let j=D;const Y=m[Rr];Jf(o)&&(j.flags|=128),sT(e,n,j,Y,c,h,!0)}}function tm(e,n,i,o,c=!1){for(;null!==i;){if(128===i.type){i=c?i.projectionNext:i.next;continue}const h=n[i.index];null!==h&&o.push(Si(h)),Ds(h)&&aT(h,o);const m=i.type;if(8&m)tm(e,n,i.child,o);else if(32&m){const T=ZI(i,n);let D;for(;D=T();)o.push(D)}else if(16&m){const T=rT(n,i);if(Array.isArray(T))o.push(...T);else{const D=pa(n[gs]);tm(D[qt],D,T,o,!0)}}i=c?i.projectionNext:i.next}return o}function aT(e,n){for(let i=Zi;i<e.length;i++){const o=e[i],c=o[qt].firstChild;null!==c&&tm(o[qt],o,c,n)}e[Da]!==e[yn]&&n.push(e[Da])}function A_(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let nm=[];const dD={...Ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Su(e.lView)},consumerOnSignalRead(){this.lView[xs]=this}},oA={...Ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=pa(e.lView);for(;n&&!cT(n[qt]);)n=pa(n);n&&Du(n)},consumerOnSignalRead(){this.lView[xs]=this}};function cT(e){return 2!==e.type}function lT(e){if(null===e[Co])return;let n=!0;for(;n;){let i=!1;for(const o of e[Co])o.dirty&&(i=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=i&&!!(8192&e[Ln])}}function xv(e,n=!0,i=0){const c=e[ps].rendererFactory;c.begin?.();try{!function uA(e,n){const i=Qp();try{Sc(!0),dT(e,n);let o=0;for(;Yu(e);){if(100===o)throw new on(103,!1);o++,dT(e,1)}}finally{Sc(i)}}(e,i)}catch(m){throw n&&function JI(e,n){const i=e[ri],o=i?i.get(Fs,null):null;o&&o.handleError(n)}(e,m),m}finally{c.end?.()}}function lA(e,n,i,o){if(la(n))return;const c=n[Ln];Nd(n);let T=!0,D=null,j=null;cT(e)?(j=function Ov(e){return e[xs]??function uT(e){const n=nm.pop()??Object.create(dD);return n.lView=e,n}(e)}(n),D=Kt(j)):null===function De(){return ee}()?(T=!1,j=function Nv(e){const n=e[xs]??Object.create(oA);return n.lView=e,n}(n),D=Kt(j)):n[xs]&&(We(n[xs]),n[xs]=null);try{Ac(n),function hu(e){return hi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&wv(e,n,i,2,o);const Y=!(3&~c);if(Y){const Ae=e.preOrderCheckHooks;null!==Ae&&xc(n,Ae,null)}else{const Ae=e.preOrderHooks;null!==Ae&&Fc(n,Ae,0,null),Lc(n,0)}if(function hD(e){for(let n=Yd(e);null!==n;n=vl(n)){if(!(2&n[Ln]))continue;const i=n[Eo];for(let o=0;o<i.length;o++)Du(i[o])}}(n),lT(n),dA(n,0),null!==e.contentQueries&&f_(e,n),Y){const Ae=e.contentCheckHooks;null!==Ae&&xc(n,Ae)}else{const Ae=e.contentHooks;null!==Ae&&Fc(n,Ae,1),Lc(n,1)}!function pD(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const c=i[o];if(c<0)fu(~c);else{const h=c,m=i[++o],T=i[++o];ul(m,h);const D=n[h];di(24,D),T(2,D),di(25,D)}}}finally{fu(-1)}}(e,n);const le=e.components;null!==le&&fA(n,le,0);const Me=e.viewQuery;if(null!==Me&&vp(2,Me,o),Y){const Ae=e.viewCheckHooks;null!==Ae&&xc(n,Ae)}else{const Ae=e.viewHooks;null!==Ae&&Fc(n,Ae,2),Lc(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[22]){for(const Ae of n[22])Ae();n[22]=null}A_(n),n[Ln]&=-73}catch(Y){throw Su(n),Y}finally{null!==j&&(Ut(j,D),T&&function sA(e){e.lView[xs]!==e&&(e.lView=null,nm.push(e))}(j)),Pc()}}function dA(e,n){for(let i=Yd(e);null!==i;i=vl(i))for(let o=Zi;o<i.length;o++)hA(i[o],n)}function fD(e,n,i){di(18);const o=qo(n,e);hA(o,i),di(19,o[Lr])}function hA(e,n){ou(e)&&dT(e,n)}function dT(e,n){const o=e[qt],c=e[Ln],h=e[xs];let m=!!(0===n&&16&c);if(m||=!!(64&c&&0===n),m||=!!(1024&c),m||=!(!h?.dirty||!Wt(h)),m||=!1,h&&(h.dirty=!1),e[Ln]&=-9217,m)lA(o,e,o.template,e[Lr]);else if(8192&c){lT(e),dA(e,1);const T=o.components;null!==T&&fA(e,T,1),A_(e)}}function fA(e,n,i){for(let o=0;o<n.length;o++)fD(e,n[o],i)}function C_(e,n){const i=Qp()?64:1088;for(e[ps].changeDetectionScheduler?.notify(n);e;){e[Ln]|=i;const o=pa(e);if(ca(e)&&!o)return e;e=o}return null}function pA(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function rm(e,n,i,o=!0){const c=n[qt];if(function gD(e,n,i,o){const c=Zi+o,h=i.length;o>0&&(i[c-1][Ri]=n),o<h-Zi?(n[Ri]=i[c],Uo(i,Zi+o,n)):(i.push(n),n[Ri]=null),n[Rr]=i;const m=n[Go];null!==m&&i!==m&&mA(m,n);const T=n[Ao];null!==T&&T.insertView(e),uu(n),n[Ln]|=128}(c,n,e,i),o){const m=iT(i,e),T=n[Dr],D=T.parentNode(e[Da]);null!==D&&function Xw(e,n,i,o,c,h){o[yn]=c,o[Hn]=n,Mv(e,o,i,1,c,h)}(c,e[Hn],T,n,D,m)}const h=n[Fi];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function D_(e,n){if(e.length<=Zi)return;const i=Zi+n,o=e[i];if(o){const c=o[Go];null!==c&&c!==e&&Sv(c,o),n>0&&(e[i-1][Ri]=o[Ri]);const h=us(e,Zi+n);!function eT(e,n){Yw(e,n),n[yn]=null,n[Hn]=null}(o[qt],o);const m=h[Ao];null!==m&&m.detachView(h[qt]),o[Rr]=null,o[Ri]=null,o[Ln]&=-129}return o}function mA(e,n){const i=e[Eo],o=n[Rr];(os(o)||n[gs]!==o[Rr][gs])&&(e[Ln]|=2),null===i?e[Eo]=[n]:i.push(n)}let S_=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,i=n[qt];return tm(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o}get context(){return this._lView[Lr]}set context(n){this._lView[Lr]=n}get destroyed(){return la(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Rr];if(Ds(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(D_(n,o),us(i,o))}this._attachedToViewContainer=!1}mc(this._lView[qt],this._lView)}onDestroy(n){cu(this._lView,n)}markForCheck(){C_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ln]&=-129}reattach(){uu(this._lView),this._lView[Ln]|=128}detectChanges(){this._lView[Ln]|=1024,xv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new on(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ca(this._lView),i=this._lView[Go];null!==i&&!n&&Sv(i,this._lView),Yw(this._lView[qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new on(902,!1);this._appRef=n;const i=ca(this._lView),o=this._lView[Go];null!==o&&!i&&mA(o,this._lView),uu(this._lView)}},R_=(()=>class e{static __NG_ELEMENT_ID__=yD})();const mD=R_,_D=class extends mD{_declarationLView;_declarationTContainer;elementRef;constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=Rp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new S_(c)}};function yD(){return Fv(pi(),jt())}function Fv(e,n){return 4&e.type?new _D(n,e,Gd(e,n)):null}function im(e,n,i,o,c){let h=e.data[n];if(null===h)h=function mT(e,n,i,o,c){const h=qp(),m=Vh(),D=e.data[n]=function SD(e,n,i,o,c,h){let m=n?n.injectorIndex:-1,T=0;return du()&&(T|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,i,n,o,c);return function DD(e,n,i,o){null===e.firstChild&&(e.firstChild=n),null!==i&&(o?null==i.child&&null!==n.parent&&(i.child=n):null===i.next&&(i.next=n,n.prev=i))}(e,D,h,m),D}(e,n,i,o,c),function Xp(){return hi.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=o,h.attrs=c;const m=function Ma(){const e=hi.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Zr(h,!0),h}let V_=()=>null;function Ia(e,n){return V_(e,n)}let NT=class{},xT=class{};class Gv{resolveComponentFactory(n){throw Error(`No component factory found for ${qr(n)}.`)}}let U_=class{static NULL=new Gv};class md{}let FT=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function YA(){const e=jt(),i=qo(pi().index,e);return(os(i)?i:e)[Dr]}()})(),LD=(()=>{class e{static \u0275prov=Yn({token:e,providedIn:"root",factory:()=>null})}return e})();function wh(e){return!!Bs(e)}const cm={};class vu{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=To(o);const c=this.injector.get(n,cm,o);return c!==cm||i===cm?c:this.parentInjector.get(n,i,o)}}function lm(e,n,i){let o=i?e.styles:null,c=i?e.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?h=T:1==h?c=an(c,T):2==h&&(o=an(o,T+": "+n[++m]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=c:e.classesWithoutHost=c}function _d(e,n=Jn.Default){const i=jt();return null===i?rs(e,n):$h(pi(),i,vn(e),n)}function BT(){throw new Error("invalid")}function qv(e,n,i,o,c){const h=null===o?null:{"":-1},m=c(e,i);if(null!==m){let T,D=null,j=null;const Y=function Sl(e){let n=null,i=!1;for(let m=0;m<e.length;m++){const T=e[m];if(0===m&&so(T)&&(n=T),null!==T.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let o=null,c=null,h=null;for(const m of e)null!==m.findHostDirectiveDefs&&(o??=[],c??=new Map,h??=new Map,Df(m,o,h,c)),m===n&&(o??=[],o.push(m));return null!==o?(o.push(...null===n?e:e.slice(1)),[o,c,h]):null}(m);null===Y?T=m:[T,D,j]=Y,function ZA(e,n,i,o,c,h,m){const T=o.length;let D=!1;for(let Me=0;Me<T;Me++){const Ae=o[Me];!D&&so(Ae)&&(D=!0,dm(e,i,Me)),$l(Nu(i,n),e,Ae.type)}!function Yv(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,T);for(let Me=0;Me<T;Me++){const Ae=o[Me];Ae.providersResolver&&Ae.providersResolver(Ae)}let j=!1,Y=!1,le=Tf(e,n,T,null);T>0&&(i.directiveToIndex=new Map);for(let Me=0;Me<T;Me++){const Ae=o[Me];if(i.mergedAttrs=ic(i.mergedAttrs,Ae.hostAttrs),UD(e,i,n,le,Ae),Wu(le,Ae,c),null!==m&&m.has(Ae)){const[ln,Qn]=m.get(Ae);i.directiveToIndex.set(Ae.type,[le,ln+i.directiveStart,Qn+i.directiveStart])}else(null===h||!h.has(Ae))&&i.directiveToIndex.set(Ae.type,le);null!==Ae.contentQueries&&(i.flags|=4),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(i.flags|=64);const ct=Ae.type.prototype;!j&&(ct.ngOnChanges||ct.ngOnInit||ct.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),j=!0),!Y&&(ct.ngOnChanges||ct.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),Y=!0),le++}!function Qv(e,n,i){for(let o=n.directiveStart;o<n.directiveEnd;o++){const c=e.data[o];if(null!==i&&i.has(c)){const h=i.get(c);Np(0,n,h,o),Np(1,n,h,o),j_(n,o,!0)}else Xv(0,n,c,o),Xv(1,n,c,o),j_(n,o,!1)}}(e,i,h)}(e,n,i,T,h,D,j)}null!==h&&null!==o&&function VD(e,n,i){const o=e.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new on(-301,!1);o.push(n[c],h)}}(i,o,h)}function Df(e,n,i,o){const c=n.length;e.findHostDirectiveDefs(e,n,o),i.set(e,[c,n.length-1])}function dm(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function Xv(e,n,i,o){const c=0===e?i.inputs:i.outputs;for(const h in c)if(c.hasOwnProperty(h)){let m;m=0===e?n.inputs??={}:n.outputs??={},m[h]??=[],m[h].push(o),jT(n,h)}}function Np(e,n,i,o){const c=0===e?i.inputs:i.outputs;for(const h in c)if(c.hasOwnProperty(h)){const m=c[h];let T;T=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},T[m]??=[],T[m].push(o,h),jT(n,m)}}function jT(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function j_(e,n,i){const{attrs:o,inputs:c,hostDirectiveInputs:h}=e;if(null===o||!i&&null===c||i&&null===h||bp(e))return e.initialInputs??=[],void e.initialInputs.push(null);let m=null,T=0;for(;T<o.length;){const D=o[T];if(0!==D)if(5!==D){if("number"==typeof D)break;if(!i&&c.hasOwnProperty(D)){const j=c[D];for(const Y of j)if(Y===n){m??=[],m.push(D,o[T+1]);break}}else if(i&&h.hasOwnProperty(D)){const j=h[D];for(let Y=0;Y<j.length;Y+=2)if(j[Y]===n){m??=[],m.push(j[Y+1],o[T+1]);break}}T+=2}else T+=2;else T+=4}e.initialInputs??=[],e.initialInputs.push(m)}function UD(e,n,i,o,c){e.data[o]=c;const h=c.factory||(c.factory=to(c.type)),m=new qa(h,so(c),_d);e.blueprint[o]=m,i[o]=m,function e0(e,n,i,o,c){const h=c.hostBindings;if(h){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const T=~n.index;(function t0(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=T&&m.push(T),m.push(i,o,h)}}(e,n,o,Tf(e,i,c.hostVars,ki),c)}function Wu(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;so(n)&&(i[""]=e)}}function $_(e,n,i,o,c,h,m,T){const D=n.consts,Y=im(n,e,2,o,Ro(D,m));return h&&qv(n,i,Y,Ro(D,T),c),Y.mergedAttrs=ic(Y.mergedAttrs,Y.attrs),null!==Y.attrs&&lm(Y,Y.attrs,!1),null!==Y.mergedAttrs&&lm(Y,Y.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Y),Y}function H_(e,n){Ll(e,n),Sa(n)&&e.queries.elementEnd(n)}class HT extends U_{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Ei(n);return new W_(i,this.ngModule)}}class W_ extends xT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function n0(e){return Object.keys(e).map(n=>{const[i,o,c]=e[n],h={propName:i,templateName:n,isSignal:!!(o&bv.SignalBased)};return c&&(h.transform=c),h})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function WT(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ap(e){return e.map(QC).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,o,c){di(22);const h=Fe(null);try{const m=this.componentDef,T=o?["ng-version","19.2.15"]:function XC(e){const n=[],i=[];let o=1,c=2;for(;o<e.length;){let h=e[o];if("string"==typeof h)2===c?""!==h&&n.push(h,e[++o]):8===c&&i.push(h);else{if(!nu(c))break;c=h}o++}return i.length&&n.push(1,...i),n}(this.componentDef.selectors[0]),D=T_(0,null,null,1,0,null,null,null,null,[T],null),j=function BD(e,n,i){let o=n instanceof qi?n:n?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new vu(i,o):i}(m,c||this.ngModule,n),Y=function jD(e){const n=e.get(md,null);if(null===n)throw new on(407,!1);return{rendererFactory:n,sanitizer:e.get(LD,null),changeDetectionScheduler:e.get(mu,null)}}(j),le=Y.rendererFactory.createRenderer(null,m),Me=o?function ZC(e,n,i,o){const h=o.get($y,!1)||i===cd.ShadowDom,m=e.selectRootElement(n,h);return function b_(e){yu(e)}(m),m}(le,o,m.encapsulation,j):function $D(e,n){const i=(e.selectors[0][0]||"div").toLowerCase();return Ev(n,i,"svg"===i?Au:"math"===i?"math":null)}(m,le),Ae=em(null,D,null,512|Sp(m),null,null,Y,le,j,null,Lg(Me,j,!0));Ae[fr]=Me,Nd(Ae);let ct=null;try{const ln=$_(fr,D,Ae,"#host",()=>[this.componentDef],!0,0);Me&&(Iv(le,Me,ln),ya(Me,Ae)),Jc(D,Ae,ln),Ug(D,ln,Ae),H_(D,ln),void 0!==i&&function r0(e,n,i){const o=e.projection=[];for(let c=0;c<n.length;c++){const h=i[c];o.push(null!=h&&h.length?Array.from(h):null)}}(ln,this.ngContentSelectors,i),ct=qo(ln.index,Ae),Ae[Lr]=ct[Lr],w_(D,Ae,null)}catch(ln){throw null!==ct&&Qd(ct),Qd(Ae),ln}finally{di(23),Pc()}return new z_(this.componentType,Ae)}finally{Fe(h)}}}class z_ extends NT{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i){super(),this._rootLView=i,this._tNode=Xu(i[qt],fr),this.location=Gd(this._tNode,i),this.instance=qo(this._tNode.index,i)[Lr],this.hostView=this.changeDetectorRef=new S_(i,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const c=this._rootLView;bf(o,c[qt],c,n,i),this.previousInputValues.set(n,i),C_(qo(o.index,c),1)}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let G_=(()=>class e{static __NG_ELEMENT_ID__=s0})();function s0(){return GT(pi(),jt())}const K_=G_,hm=class extends K_{_lContainer;_hostTNode;_hostLView;constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Gd(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const n=ac(this._hostTNode,this._hostLView);if(ku(n)){const i=Bd(n,this._hostLView),o=Ou(n);return new vs(i[qt].data[o+8],i)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Jv(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Zi}createEmbeddedView(n,i,o){let c,h;"number"==typeof o?c=o:null!=o&&(c=o.index,h=o.injector);const m=Ia(this._lContainer,n.ssrId),T=n.createEmbeddedViewImpl(i||{},h,m);return this.insertImpl(T,c,wf(this._hostTNode,m)),T}createComponent(n,i,o,c,h){const m=n&&!function Gt(e){return"function"==typeof e}(n);let T;if(m)T=i;else{const ct=i||{};T=ct.index,o=ct.injector,c=ct.projectableNodes,h=ct.environmentInjector||ct.ngModuleRef}const D=m?n:new W_(Ei(n)),j=o||this.parentInjector;if(!h&&null==D.ngModule){const ln=(m?j:this.parentInjector).get(qi,null);ln&&(h=ln)}const Y=Ei(D.componentType??{}),le=Ia(this._lContainer,Y?.id??null),Ae=D.create(j,c,le?.firstChild??null,h);return this.insertImpl(Ae.hostView,T,wf(this._hostTNode,le)),Ae}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const c=n._lView;if(function au(e){return Ds(e[Rr])}(c)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const D=c[Rr],j=new hm(D,D[Hn],D[Rr]);j.detach(j.indexOf(n))}}const h=this._adjustIndex(i),m=this._lContainer;return rm(m,c,h,o),n.attachToViewContainerRef(),Uo(q_(m),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Jv(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=D_(this._lContainer,i);o&&(us(q_(this._lContainer),i),mc(o[qt],o))}detach(n){const i=this._adjustIndex(n,-1),o=D_(this._lContainer,i);return o&&null!=us(q_(this._lContainer),i)?new S_(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function Jv(e){return e[8]}function q_(e){return e[8]||(e[8]=[])}function GT(e,n){let i;const o=n[e.index];return Ds(o)?i=o:(i=pA(o,n,null,e),n[e.index]=i,KI(n,i)),eE(i,n,e,o),new hm(i,e,n)}let eE=function qT(e,n,i,o){if(e[Da])return;let c;c=8&i.type?Si(o):function Zv(e,n){const i=e[Dr],o=i.createComment(""),c=ra(n,e),h=i.parentNode(c);return Dp(i,h,o,i.nextSibling(c),!1),o}(n,i),e[Da]=c},tE=()=>!1;class yd{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new yd(this.queryList)}setDirty(){this.queryList.setDirty()}}class fm{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<o;h++){const m=i.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new fm(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==gm(n,i).matches&&this.queries[i].setDirty()}}class Q_{flags;read;predicate;constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function XT(e){return e.split(",").map(n=>n.trim())}(n):n}}class xp{queries;constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,h=this.getByIndex(o).embeddedTView(n,c);h&&(h.indexInDeclarationView=o,null!==i?i.push(h):i=[h])}return null!==i?new xp(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class nE{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,i=-1){this.metadata=n,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new nE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(n,i,c0(i,h)),this.matchTNodeWithReadOption(n,i,Uc(i,n,h,!1,!1))}else o===R_?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Uc(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===lc||c===G_||c===R_&&4&i.type)this.addMatch(i.index,-2);else{const h=Uc(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function c0(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function d0(e,n,i,o){return-1===i?function l0(e,n){return 11&e.type?Gd(e,n):4&e.type?Fv(e,n):null}(n,e):-2===i?function h0(e,n,i){return i===lc?Gd(n,e):i===R_?Fv(n,e):i===G_?GT(n,e):void 0}(e,n,o):Qa(e,e[qt],i,n)}function X_(e,n,i,o){const c=n[Ao].queries[o];if(null===c.matches){const h=e.data,m=i.matches,T=[];for(let D=0;null!==m&&D<m.length;D+=2){const j=m[D];T.push(j<0?null:d0(n,h[j],m[D+1],i.metadata.read))}c.matches=T}return c.matches}function rE(e,n,i,o){const c=e.queries.getByIndex(i),h=c.matches;if(null!==h){const m=X_(e,n,c,i);for(let T=0;T<h.length;T+=2){const D=h[T];if(D>0)o.push(m[T/2]);else{const j=h[T+1],Y=n[-D];for(let le=Zi;le<Y.length;le++){const Me=Y[le];Me[Go]===Me[Rr]&&rE(Me[qt],Me,j,o)}if(null!==Y[Eo]){const le=Y[Eo];for(let Me=0;Me<le.length;Me++){const Ae=le[Me];rE(Ae[qt],Ae,j,o)}}}}}return o}function Fp(e,n){return e[Ao].queries[n].queryList}function Y_(e,n,i){const o=new cI(!(4&~i));return function Md(e,n,i,o){const c=Ua(n);c.push(i),e.firstCreatePass&&Po(e).push(o,c.length-1)}(e,n,o,o.destroy),(n[Ao]??=new fm).queries.push(new yd(o))-1}function QT(e,n,i,o){const c=ci();if(c.firstCreatePass){const h=pi();YT(c,new Q_(n,i,o),h.index),function JT(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(c,e),!(2&~i)&&(c.staticContentQueries=!0)}return Y_(c,jt(),i)}function YT(e,n,i){null===e.queries&&(e.queries=new xp),e.queries.track(new nE(n,i))}function gm(e,n){return e.queries.getByIndex(n)}function iE(e,n){const i=e[qt],o=gm(i,n);return o.crossesNgTemplate?rE(i,e,n,[]):X_(i,e,o,n)}function ZT(e,n,i){let o;const c=Or(()=>{o._dirtyCounter();const h=function f0(e,n){const i=e._lView,o=e._queryIndex;if(void 0===i||void 0===o||4&i[Ln])return n?void 0:Di;const c=Fp(i,o),h=iE(i,o);return c.reset(h,Qh),n?c.first:c._changesDetected||void 0===e._flatValue?e._flatValue=c.toArray():e._flatValue}(o,e);if(n&&void 0===h)throw new on(-951,!1);return h});return o=c[ye],o._dirtyCounter=Gl(0),o._flatValue=void 0,c}function oE(e,n){return function eb(e){return ZT(!0,!1)}()}const aE=(oE.required=function g0(e,n){return function sE(e){return ZT(!0,!0)}()},oE);let vd=class{},ub=class{};function cb(e,n){return new lb(e,n??null,[])}class lb extends vd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new HT(this);constructor(n,i,o,c=!0){super(),this.ngModuleType=n,this._parent=i;const h=Bs(n);this._bootstrapComponents=gc(h.bootstrap),this._r3Injector=$c(n,i,[{provide:vd,useValue:this},{provide:U_,useValue:this.componentFactoryResolver},...o],qr(n),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class db extends ub{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new lb(this.moduleType,n,[])}}class fE extends vd{injector;componentFactoryResolver=new HT(this);instance=null;constructor(n){super();const i=new Ji([...n.providers,{provide:vd,useValue:this},{provide:U_,useValue:this.componentFactoryResolver}],n.parent||Fr(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ty(e,n,i=null){return new fE({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let T0=(()=>{class e{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=vo(0,i.type),c=o.length>0?ty([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Yn({token:e,providedIn:"environment",factory:()=>new e(rs(qi))})}return e})();function hb(e){return ti(()=>{const n=ny(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?c=>c.get(T0).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||cd.Emulated,styles:e.styles||Di,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&eu("NgStandalone"),fb(i);const o=e.dependencies;return i.directiveDefs=_E(o,!1),i.pipeDefs=_E(o,!0),i.id=function eS(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const h of o.join("|"))n=Math.imul(31,n)+h.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function b0(e){return Ei(e)||bs(e)}function w0(e){return null!==e}function pE(e){return ti(()=>({type:e.type,bootstrap:e.bootstrap||Di,declarations:e.declarations||Di,imports:e.imports||Di,exports:e.exports||Di,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function A0(e,n){if(null==e)return As;const i={};for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];let h,m,T,D;Array.isArray(c)?(T=c[0],h=c[1],m=c[2]??h,D=c[3]||null):(h=c,m=c,T=bv.None,D=null),i[h]=[o,T,D],n[h]=m}return i}function C0(e){if(null==e)return As;const n={};for(const i in e)e.hasOwnProperty(i)&&(n[e[i]]=i);return n}function gE(e){return ti(()=>{const n=ny(e);return fb(n),n})}function mE(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ny(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||As,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Di,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A0(e.inputs,n),outputs:C0(e.outputs),debugInfo:null}}function fb(e){e.features?.forEach(n=>n(e))}function _E(e,n){if(!e)return null;const i=n?js:b0;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(w0)}function a(e){let n=function pb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let c;if(so(e))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new on(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const m=e;m.inputs=s(e.inputs),m.declaredInputs=s(e.declaredInputs),m.outputs=s(e.outputs);const T=c.hostBindings;T&&p(e,T);const D=c.viewQuery,j=c.contentQueries;if(D&&u(e,D),j&&d(e,j),t(e,c),Wi(e.outputs,c.outputs),so(c)&&c.data.animation){const Y=e.data;Y.animation=(Y.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const T=h[m];T&&T.ngInherit&&T(e),T===a&&(i=!1)}}n=Object.getPrototypeOf(n)}!function r(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const c=e[o];c.hostVars=n+=c.hostVars,c.hostAttrs=ic(c.hostAttrs,i=ic(i,c.hostAttrs))}}(o)}function t(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const o=n.inputs[i];void 0!==o&&(e.inputs[i]=o,e.declaredInputs[i]=n.declaredInputs[i])}}function s(e){return e===As?{}:e===Di?[]:e}function u(e,n){const i=e.viewQuery;e.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function d(e,n){const i=e.contentQueries;e.contentQueries=i?(o,c,h)=>{n(o,c,h),i(o,c,h)}:n}function p(e,n){const i=e.hostBindings;e.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function X(e){const n=i=>{const o=Array.isArray(e);null===i.hostDirectives?(i.findHostDirectiveDefs=ae,i.hostDirectives=o?e.map(Ze):[e]):o?i.hostDirectives.unshift(...e.map(Ze)):i.hostDirectives.unshift(e)};return n.ngInherit=!0,n}function ae(e,n,i){if(null!==e.hostDirectives)for(const o of e.hostDirectives)if("function"==typeof o){const c=o();for(const h of c)Se(Ze(h),n,i)}else Se(o,n,i)}function Se(e,n,i){const o=bs(e.directive);(function Qt(e,n){for(const i in n)n.hasOwnProperty(i)&&(e[n[i]]=e[i])})(o.declaredInputs,e.inputs),ae(o,n,i),i.set(o,e),n.push(o)}function Ze(e){return"function"==typeof e?{directive:vn(e),inputs:As,outputs:As}:{directive:vn(e.directive),inputs:Dt(e.inputs),outputs:Dt(e.outputs)}}function Dt(e){if(void 0===e||0===e.length)return As;const n={};for(let i=0;i<e.length;i+=2)n[e[i]]=e[i+1];return n}function vr(e){return!!Hi(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Hi(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ot(e,n,i){return e[n]=i}function ze(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function vt(e,n,i,o){const c=ze(e,n,i);return ze(e,n+1,o)||c}function $a(e,n,i,o,c,h,m,T,D,j){const Y=i+fr,le=n.firstCreatePass?function nt(e,n,i,o,c,h,m,T,D){const j=n.consts,Y=im(n,e,4,m||null,T||null);Nl()&&qv(n,i,Y,Ro(j,D),XI),Y.mergedAttrs=ic(Y.mergedAttrs,Y.attrs),Ll(n,Y);const le=Y.tView=T_(2,Y,o,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,Y),le.queries=n.queries.embeddedTView(Y)),Y}(Y,n,e,o,c,h,m,T,D):n.data[Y];Zr(le,!1);const Me=$r(n,e,le,i);Nc()&&Pv(n,e,Me,le),ya(Me,e);const Ae=pA(Me,e,Me,le);return e[Y]=Ae,KI(e,Ae),function KT(e,n,i){return tE(e,n,i)}(Ae,le,e),La(le)&&Jc(n,e,le),null!=D&&ru(e,le,j),le}function Pl(e,n,i,o,c,h,m,T){const D=jt(),j=ci();return $a(D,j,e,n,i,o,c,Ro(j.consts,h),m,T),Pl}let $r=function Yr(e,n,i,o){return ys(!0),n[Dr].createComment("")};let ym=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const kb=new Pe(""),FE=new Pe("");let wm,Ob=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(i,o,c){this._ngZone=i,this.registry=o,_t()&&(this._destroyRef=qn(ja,{optional:!0})??void 0),wm||(function VE(e){wm=e}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const i=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ss.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{i.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),i()},o)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,o,c){if(c&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static \u0275fac=function(o){return new(o||e)(rs(Ss),rs(LE),rs(FE))};static \u0275prov=Yn({token:e,factory:e.\u0275fac})}return e})(),LE=(()=>{class e{_applications=new Map;registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return wm?.findTestabilityInTree(this,i,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),UE=(()=>{class e{static \u0275prov=Yn({token:e,providedIn:"root",factory:()=>new Nb})}return e})();class Nb{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const o=this.queues.get(n.zone);o.has(n)&&(o.delete(n),this.queuedEffectCount--)}enqueue(n){const i=n.zone;this.queues.has(i)||this.queues.set(i,new Set);const o=this.queues.get(i);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,i]of this.queues)null===n?this.flushQueue(i):n.run(()=>this.flushQueue(i))}flushQueue(n){for(const i of n)n.delete(i),this.queuedEffectCount--,i.run()}}function BE(e){return!!e&&"function"==typeof e.then}function xb(e){return!!e&&"function"==typeof e.subscribe}const jE=new Pe("");function Fb(e){return zo([{provide:jE,multi:!0,useValue:e}])}let Lb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o});appInits=qn(jE,{optional:!0})??[];injector=qn(uo);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const h=tt(this.injector,c);if(BE(h))i.push(h);else if(xb(h)){const m=new Promise((T,D)=>{h.subscribe({complete:T,error:D})});i.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tl=new Pe("");function Cm(e,n){return Array.isArray(n)?n.reduce(Cm,e):{...e,...n}}let Na=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=qn(Py);afterRenderManager=qn(sh);zonelessEnabled=qn(Vu);rootEffectScheduler=qn(UE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ft.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=qn(Hc).hasPendingTasks.pipe((0,Sn.T)(i=>!i));constructor(){qn(ih,{optional:!0})}whenStable(){let i;return new Promise(o=>{i=this.isStable.subscribe({next:c=>{c&&o()}})}).finally(()=>{i.unsubscribe()})}_injector=qn(qi);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,o){return this.bootstrapImpl(i,o)}bootstrapImpl(i,o,c=uo.NULL){di(10);const h=i instanceof xT;if(!this._injector.get(Lb).done)throw new on(405,"");let T;T=h?i:this._injector.get(U_).resolveComponentFactory(i),this.componentTypes.push(T.componentType);const D=function hy(e){return e.isBoundToModule}(T)?void 0:this._injector.get(vd),Y=T.create(c,[],o||T.selector,D),le=Y.location.nativeElement,Me=Y.injector.get(kb,null);return Me?.registerApplication(le),Y.onDestroy(()=>{this.detachView(Y.hostView),py(this.components,Y),Me?.unregisterApplication(le)}),this._loadComponent(Y),di(11,Y),Y}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){di(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(rh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new on(101,!1);const i=Fe(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Fe(i),this.afterTick.next(),di(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(md,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)di(14),this.synchronizeOnce(),di(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:c}of this.allViews)Vb(o,c,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Yu(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;py(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(tl,[]).forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>py(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new on(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function py(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function Vb(e,n,i,o){(i||Yu(e))&&xv(e,n,i&&!o?0:1)}function Ey(e,n,i,o){const c=jt();return ze(c,ga(),n)&&(ci(),gd(es(),c,e,n,i,o)),Ey}function xf(e,n,i,o,c,h){const T=vt(e,function Qo(){return hi.lFrame.bindingIndex}(),i,c);return Xo(2),T?n+ke(i)+o+ke(c)+h:ki}function aa(e,n){return e<<17|n<<2}function Lo(e){return e>>17&32767}function Gp(e){return 2|e}function Mh(e){return(131068&e)>>2}function j0(e,n){return-131069&e|n<<2}function $0(e){return 1|e}function nS(e,n,i,o){const c=e[i+1],h=null===n;let m=o?Lo(c):Mh(c),T=!1;for(;0!==m&&(!1===T||h);){const j=e[m+1];cM(e[m],n)&&(T=!0,e[m+1]=o?$0(j):Gp(j)),m=o?Lo(j):Mh(j)}T&&(e[i+1]=o?Gp(c):$0(c))}function cM(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ns(e,n)>=0}const xa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rS(e){return e.substring(xa.key,xa.keyEnd)}function iS(e,n){const i=xa.textEnd;return i===n?-1:(n=xa.keyEnd=function fM(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,xa.key=n,i),Iy(e,n,i))}function Iy(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function H0(e,n,i){const o=jt();return ze(o,ga(),n)&&Hu(ci(),es(),o,e,n,o[Dr],i,!1),H0}function W0(e,n,i,o,c){bf(n,e,i,c?"class":"style",o)}function z0(e,n,i){return Dd(e,n,i,!1),z0}function G0(e,n){return Dd(e,n,null,!0),G0}function cS(e){!function Sd(e,n,i,o){const c=ci(),h=Xo(2);c.firstUpdatePass&&dS(c,null,h,o);const m=jt();if(i!==ki&&ze(m,h,i)){const T=c.data[So()];if(gS(T,o)&&!lS(c,h)){let D=o?T.classesWithoutHost:T.stylesWithoutHost;null!==D&&(i=an(D,i||"")),W0(c,T,m,i,o)}else!function bM(e,n,i,o,c,h,m,T){c===ki&&(c=Di);let D=0,j=0,Y=0<c.length?c[0]:null,le=0<h.length?h[0]:null;for(;null!==Y||null!==le;){const Me=D<c.length?c[D+1]:void 0,Ae=j<h.length?h[j+1]:void 0;let ln,ct=null;Y===le?(D+=2,j+=2,Me!==Ae&&(ct=le,ln=Ae)):null===le||null!==Y&&Y<le?(D+=2,ct=Y):(j+=2,ct=le,ln=Ae),null!==ct&&fS(e,n,i,o,ct,ln,m,T),Y=D<c.length?c[D]:null,le=j<h.length?h[j]:null}}(c,T,m,m[Dr],m[h+1],m[h+1]=function IM(e,n,i){if(null==i||""===i)return Di;const o=[],c=dd(i);if(Array.isArray(c))for(let h=0;h<c.length;h++)e(o,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&e(o,h,c[h]);else"string"==typeof c&&n(o,c);return o}(e,n,i),o,h)}}(TM,Oh,e,!0)}function Oh(e,n){for(let i=function dM(e){return function oS(e){xa.key=0,xa.keyEnd=0,xa.value=0,xa.valueEnd=0,xa.textEnd=e.length}(e),iS(e,Iy(e,0,xa.textEnd))}(n);i>=0;i=iS(n,i))is(e,rS(n),!0)}function Dd(e,n,i,o){const c=jt(),h=ci(),m=Xo(2);h.firstUpdatePass&&dS(h,e,m,o),n!==ki&&ze(c,m,n)&&fS(h,h.data[So()],c,c[Dr],e,c[m+1]=function wM(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=qr(dd(e)))),e}(n,i),o,m)}function lS(e,n){return n>=e.expandoStartIndex}function dS(e,n,i,o){const c=e.data;if(null===c[i+1]){const h=c[So()],m=lS(e,i);gS(h,o)&&null===n&&!m&&(n=!1),n=function _M(e,n,i,o){const c=function Od(e){const n=hi.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let h=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=qE(i=K0(null,e,n,i,o),n.attrs,o),h=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==c)if(i=K0(c,e,n,i,o),null===h){let D=function yM(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Mh(o))return e[Lo(o)]}(e,n,o);void 0!==D&&Array.isArray(D)&&(D=K0(null,e,n,D[1],o),D=qE(D,n.attrs,o),function vM(e,n,i,o){e[Lo(i?n.classBindings:n.styleBindings)]=o}(e,n,o,D))}else h=function EM(e,n,i){let o;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)o=qE(o,e[h].hostAttrs,i);return qE(o,n.attrs,i)}(e,n,o)}return void 0!==h&&(o?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,o),function aM(e,n,i,o,c,h){let m=h?n.classBindings:n.styleBindings,T=Lo(m),D=Mh(m);e[o]=i;let Y,j=!1;if(Array.isArray(i)?(Y=i[1],(null===Y||Ns(i,Y)>0)&&(j=!0)):Y=i,c)if(0!==D){const Me=Lo(e[T+1]);e[o+1]=aa(Me,T),0!==Me&&(e[Me+1]=j0(e[Me+1],o)),e[T+1]=function rl(e,n){return 131071&e|n<<17}(e[T+1],o)}else e[o+1]=aa(T,0),0!==T&&(e[T+1]=j0(e[T+1],o)),T=o;else e[o+1]=aa(D,0),0===T?T=o:e[D+1]=j0(e[D+1],o),D=o;j&&(e[o+1]=Gp(e[o+1])),nS(e,Y,o,!0),nS(e,Y,o,!1),function uM(e,n,i,o,c){const h=c?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof n&&Ns(h,n)>=0&&(i[o+1]=$0(i[o+1]))}(n,Y,e,o,h),m=aa(T,D),h?n.classBindings=m:n.styleBindings=m}(c,h,n,i,m,o)}}function K0(e,n,i,o,c){let h=null;const m=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<m&&(h=n[T],o=qE(o,h.hostAttrs,c),h!==e);)T++;return null!==e&&(i.directiveStylingLast=T),o}function qE(e,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),is(e,m,!!i||n[++h]))}return void 0===e?null:e}function TM(e,n,i){const o=String(n);""!==o&&!o.includes(" ")&&is(e,o,i)}function fS(e,n,i,o,c,h,m,T){if(!(3&n.type))return;const D=e.data,j=D[T+1],Y=function oM(e){return!(1&~e)}(j)?pS(D,n,i,c,Mh(j),m):void 0;ew(Y)||(ew(h)||function zp(e){return!(2&~e)}(j)&&(h=pS(D,null,i,c,T,m)),function lD(e,n,i,o,c){if(n)c?e.addClass(i,o):e.removeClass(i,o);else{let h=-1===o.indexOf("-")?void 0:Dv.DashCase;null==c?e.removeStyle(i,o,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Dv.Important),e.setStyle(i,o,c,h))}}(o,m,Cu(So(),i),c,h))}function pS(e,n,i,o,c,h){const m=null===n;let T;for(;c>0;){const D=e[c],j=Array.isArray(D),Y=j?D[1]:D,le=null===Y;let Me=i[c+1];Me===ki&&(Me=le?Di:void 0);let Ae=le?ea(Me,o):Y===o?Me:void 0;if(j&&!ew(Ae)&&(Ae=ea(D,o)),ew(Ae)&&(T=Ae,m))return T;const ct=e[c+1];c=m?Lo(ct):Mh(ct)}if(null!==n){let D=h?n.residualClasses:n.residualStyles;null!=D&&(T=ea(D,o))}return T}function ew(e){return void 0!==e}function gS(e,n){return!!(e.flags&(n?8:16))}function vS(e,n){eu("NgControlFlow");const i=jt(),o=ga(),c=i[o]!==ki?i[o]:-1,h=-1!==c?tw(i,fr+c):void 0;if(ze(i,o,e)){const T=Fe(null);try{if(void 0!==h&&function hT(e,n){const i=D_(e,n);return void 0!==i&&mc(i[qt],i),i}(h,0),-1!==e){const D=fr+e,j=tw(i,D),Y=function X0(e,n){return Xu(e,n)}(i[qt],D),le=Ia(j,Y.tView.ssrId);rm(j,Rp(i,Y,n,{dehydratedView:le}),0,wf(Y,le))}}finally{Fe(T)}}else if(void 0!==h){const T=function gA(e,n){const i=Zi+n;if(i<e.length)return e[i]}(h,0);void 0!==T&&(T[Lr]=n)}}function tw(e,n){return e[n]}function nw(e,n,i,o){const c=jt(),h=ci(),m=fr+e,T=c[Dr],D=h.firstCreatePass?$_(m,h,c,n,XI,Nl(),i,o):h.data[m],j=ES(h,c,D,T,n,e);c[m]=j;const Y=La(D);return Zr(D,!0),Iv(T,j,D),!Af(D)&&Nc()&&Pv(h,c,j,D),(0===function Kp(){return hi.lFrame.elementDepthCount}()||Y)&&ya(j,c),function Zu(){hi.lFrame.elementDepthCount++}(),Y&&(Jc(h,c,D),Ug(h,D,c)),null!==o&&ru(c,D),nw}function rw(){let e=pi();Vh()?Dc():(e=e.parent,Zr(e,!1));const n=e;(function Bf(e){return hi.skipHydrationRootTNode===e})(n)&&function kd(){hi.skipHydrationRootTNode=null}(),function Cc(){hi.lFrame.elementDepthCount--}();const i=ci();return i.firstCreatePass&&H_(i,n),null!=n.classesWithoutHost&&function Fd(e){return!!(8&e.flags)}(n)&&W0(i,n,jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ld(e){return!!(16&e.flags)}(n)&&W0(i,n,jt(),n.stylesWithoutHost,!1),rw}function Y0(e,n,i,o){return nw(e,n,i,o),rw(),Y0}let ES=(e,n,i,o,c,h)=>(ys(!0),Ev(o,c,function kc(){return hi.lFrame.currentNamespace}()));function iw(e,n,i){const o=jt(),c=ci(),h=e+fr,m=c.firstCreatePass?function qM(e,n,i,o,c){const h=n.consts,m=Ro(h,o),T=im(n,e,8,"ng-container",m);null!==m&&lm(T,m,!0);const D=Ro(h,c);return Nl()&&qv(n,i,T,D,XI),T.mergedAttrs=ic(T.mergedAttrs,T.attrs),null!==n.queries&&n.queries.elementStart(n,T),T}(h,c,o,n,i):c.data[h];Zr(m,!0);const T=IS(c,o,m,e);return o[h]=T,Nc()&&Pv(c,o,T,m),ya(T,o),La(m)&&(Jc(c,o,m),Ug(c,m,o)),null!=i&&ru(o,m),iw}function sw(){let e=pi();const n=ci();return Vh()?Dc():(e=e.parent,Zr(e,!1)),n.firstCreatePass&&(Ll(n,e),Sa(e)&&n.queries.elementEnd(e)),sw}function J0(e,n,i){return iw(e,n,i),sw(),J0}let IS=(e,n,i,o)=>(ys(!0),Cp(n[Dr],""));function TS(){return jt()}function Z0(e,n,i){const o=jt();return ze(o,ga(),n)&&Hu(ci(),es(),o,e,n,o[Dr],i,!0),Z0}const Mm=void 0;var JM=["en",[["a","p"],["AM","PM"],Mm],[["AM","PM"],Mm,Mm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mm,"{1} 'at' {0}",Mm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function YM(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Ty={};function eC(e){const n=function ZM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=AS(n);if(i)return i;const o=n.split("-")[0];if(i=AS(o),i)return i;if("en"===o)return JM;throw new on(701,!1)}function wS(e){return eC(e)[by.PluralCase]}function AS(e){return e in Ty||(Ty[e]=bi.ng&&bi.ng.common&&bi.ng.common.locales&&bi.ng.common.locales[e]),Ty[e]}var by=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(by||{});const ow="en-US";let CS=ow;function WS(e,n,i){return function o(c){if(c===Function)return i;C_(Hs(e)?qo(e.index,n):n,5);const m=n[Lr];let T=zS(n,m,i,c),D=o.__ngNextListenerFn__;for(;D;)T=zS(n,m,D,c)&&T,D=D.__ngNextListenerFn__;return T}}function zS(e,n,i,o){const c=Fe(null);try{return di(6,n,i),!1!==i(o)}catch(h){return function jk(e,n){const i=e[ri],o=i?i.get(Fs,null):null;o&&o.handleError(n)}(e,h),!1}finally{di(7,n,i),Fe(c)}}function GS(e,n,i,o,c,h){const T=n[qt],Y=n[i][T.data[i].outputs[o]],le=T.firstCreatePass?Po(T):null,Me=Ua(n),Ae=Y.subscribe(h),ct=Me.length;Me.push(h,Ae),le&&le.push(c,e.index,ct,-(ct+1))}function rC(e,n,i,o){const c=jt(),h=ci(),m=pi();return iC(h,c,c[Dr],m,e,n,o),rC}function iC(e,n,i,o,c,h,m){const T=La(o),j=e.firstCreatePass?Po(e):null,Y=Ua(n);let le=!0;if(3&o.type||m){const Me=ra(o,n),Ae=m?m(Me):Me,ct=Y.length,ln=m?lr=>m(Si(lr[o.index])):o.index;let Qn=null;if(!m&&T&&(Qn=function $k(e,n,i,o){const c=e.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===i&&c[h+1]===o){const T=n[_i],D=c[h+2];return T.length>D?T[D]:null}"string"==typeof m&&(h+=2)}return null}(e,n,c,o.index)),null!==Qn)(Qn.__ngLastListenerFn__||Qn).__ngNextListenerFn__=h,Qn.__ngLastListenerFn__=h,le=!1;else{!function pI(e,n,i,o){Ky(e,n,i,o)}(n,Ae,c,h=WS(o,n,h));const lr=i.listen(Ae,c,h);Y.push(h,lr),j&&j.push(c,ln,ct,ct+1)}}else h=WS(o,n,h);if(le){const Me=o.outputs?.[c],Ae=o.hostDirectiveOutputs?.[c];if(Ae&&Ae.length)for(let ct=0;ct<Ae.length;ct+=2)GS(o,n,Ae[ct],Ae[ct+1],c,h);if(Me&&Me.length)for(const ct of Me)GS(o,n,ct,c,c,h)}}function qS(e=1){return function ka(e){return(hi.lFrame.contextLView=function Lh(e,n){for(;e>0;)n=n[ss],e--;return n}(e,hi.lFrame.contextLView))[Lr]}(e)}function Hk(e,n){let i=null;const o=function WI(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===o?Qg(e,h,!0):qC(o,h))return c}else i=c}return i}function QS(e){const n=jt()[gs][Hn];if(!n.projection){const o=n.projection=function po(e,n){const i=[];for(let o=0;o<e;o++)i.push(n);return i}(e?e.length:1,null),c=o.slice();let h=n.child;for(;null!==h;){if(128!==h.type){const m=e?Hk(h,e):0;null!==m&&(c[m]?c[m].projectionNext=h:o[m]=h,c[m]=h)}h=h.next}}}function XS(e,n=0,i,o,c,h){const m=jt(),T=ci(),D=o?e+1:null;null!==D&&$a(m,T,D,o,c,h,null,i);const j=im(T,fr+e,16,null,i||null);null===j.projection&&(j.projection=n),Dc();const le=!m[Fi]||du();null===m[gs][Hn].projection[j.projection]&&null!==D?function Wk(e,n,i){const o=fr+i,c=n.data[o],h=e[o],m=Ia(h,c.tView.ssrId);rm(h,Rp(e,c,void 0,{dehydratedView:m}),0,wf(c,m))}(m,T,D):le&&!Af(j)&&function cD(e,n,i){kv(n[Dr],0,n,i,tT(e,i,n),tA(i.parent||n[Hn],i,n))}(T,m,j)}function oC(e,n,i,o,c,h,m){const T=jt(),D=xf(T,n,i,o,c,h);return D!==ki&&Hu(ci(),es(),T,e,D,T[Dr],m,!1),oC}function sR(e,n,i,o){QT(e,n,i,o)}function oR(e,n,i){!function pm(e,n,i){const o=ci();return o.firstCreatePass&&(YT(o,new Q_(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),Y_(o,jt(),n)}(e,n,i)}function aR(e){const n=jt(),i=ci(),o=cl();Ts(o+1);const c=gm(i,o);if(e.dirty&&function Fh(e){return!(4&~e[Ln])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)e.reset([]);else{const h=iE(n,o);e.reset(h,Qh),e.notifyOnChanges()}return!0}return!1}function uR(){return Fp(jt(),cl())}function cR(e,n,i,o,c){!function nb(e,n){const i=e[ye];i._lView=jt(),i._queryIndex=n,i._queryList=Fp(i._lView,n),i._queryList.onDirty(()=>i._dirtyCounter.update(o=>o+1))}(n,QT(e,i,o,c))}function lR(e=1){Ts(cl()+e)}function dR(e){return Ra(function tc(){return hi.lFrame.contextLView}(),fr+e)}function IR(e,n=""){const i=jt(),o=ci(),c=e+fr,h=o.firstCreatePass?im(o,c,1,n,null):o.data[c],m=TR(o,i,h,n,e);i[c]=m,Nc()&&Pv(o,i,m,h),Zr(h,!1)}let TR=(e,n,i,o,c)=>(ys(!0),function Yg(e,n){return e.createText(n)}(n[Dr],o));function aC(e){return lw("",e,""),aC}function lw(e,n,i){const o=jt(),c=function Nf(e,n,i,o){return ze(e,ga(),i)?n+ke(i)+o:ki}(o,e,n,i);return c!==ki&&function Vf(e,n,i){const o=Cu(n,e);!function $w(e,n,i){e.setValue(n,i)}(e[Dr],o,i)}(o,So(),c),lw}function uC(e,n,i){Kd(n)&&(n=n());const o=jt();return ze(o,ga(),n)&&Hu(ci(),es(),o,e,n,o[Dr],i,!1),uC}function MR(e,n){const i=Kd(e);return i&&e.set(n),i}function cC(e,n){const i=jt(),o=ci(),c=pi();return iC(o,i,i[Dr],c,e,n),cC}const kR={};function lC(e){const n=ci(),i=jt(),o=e+fr;return Zr(im(n,o,128,null,null),!1),ol(n,i,o,kR),lC}function dC(e,n,i,o,c){if(e=vn(e),Array.isArray(e))for(let h=0;h<e.length;h++)dC(e[h],n,i,o,c);else{const h=ci(),m=jt(),T=pi();let D=U(e)?e:vn(e.provide);const j=F(e),Y=1048575&T.providerIndexes,le=T.directiveStart,Me=T.providerIndexes>>20;if(U(e)||!e.multi){const Ae=new qa(j,c,_d),ct=fC(D,n,c?Y:Y+Me,le);-1===ct?($l(Nu(T,m),h,D),hC(h,e,n.length),n.push(D),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),i.push(Ae),m.push(Ae)):(i[ct]=Ae,m[ct]=Ae)}else{const Ae=fC(D,n,Y+Me,le),ct=fC(D,n,Y,Y+Me),Qn=ct>=0&&i[ct];if(c&&!Qn||!c&&!(Ae>=0&&i[Ae])){$l(Nu(T,m),h,D);const lr=function cO(e,n,i,o,c){const h=new qa(e,i,_d);return h.multi=[],h.index=n,h.componentProviders=0,OR(h,c,o&&!i),h}(c?uO:aO,i.length,c,o,j);!c&&Qn&&(i[ct].providerFactory=lr),hC(h,e,n.length,0),n.push(D),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),i.push(lr),m.push(lr)}else hC(h,e,Ae>-1?Ae:ct,OR(i[c?ct:Ae],j,!c&&o));!c&&o&&Qn&&i[ct].componentProviders++}}}function hC(e,n,i,o){const c=U(n),h=function z(e){return!!e.useClass}(n);if(c||h){const D=(h?vn(n.useClass):n).prototype.ngOnDestroy;if(D){const j=e.destroyHooks||(e.destroyHooks=[]);if(!c&&n.multi){const Y=j.indexOf(i);-1===Y?j.push(i,[o,D]):j[Y+1].push(o,D)}else j.push(i,D)}}}function OR(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function fC(e,n,i,o){for(let c=i;c<o;c++)if(n[c]===e)return c;return-1}function aO(e,n,i,o,c){return pC(this.multi,[])}function uO(e,n,i,o,c){const h=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Qa(o,o[qt],this.providerFactory.index,c);m=D.slice(0,T),pC(h,m);for(let j=T;j<D.length;j++)m.push(D[j])}else m=[],pC(h,m);return m}function pC(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function NR(e,n=[]){return i=>{i.providersResolver=(o,c)=>function oO(e,n,i){const o=ci();if(o.firstCreatePass){const c=so(e);dC(i,o.data,o.blueprint,c,!0),dC(n,o.data,o.blueprint,c,!1)}}(o,c?c(e):e,n)}}function FR(e,n,i){const o=Ys()+e,c=jt();return c[o]===ki?ot(c,o,i?n.call(i):n()):function Ne(e,n){return e[n]}(c,o)}function LR(e,n,i,o,c){return BR(jt(),Ys(),e,n,i,o,c)}function VR(e,n,i,o,c,h){return jR(jt(),Ys(),e,n,i,o,c,h)}function eI(e,n){const i=e[n];return i===ki?void 0:i}function BR(e,n,i,o,c,h,m){const T=n+i;return vt(e,T,c,h)?ot(e,T+2,m?o.call(m,c,h):o(c,h)):eI(e,T+2)}function jR(e,n,i,o,c,h,m,T){const D=n+i;return function Ot(e,n,i,o,c){const h=vt(e,n,i,o);return ze(e,n+2,c)||h}(e,D,c,h,m)?ot(e,D+3,T?o.call(T,c,h,m):o(c,h,m)):eI(e,D+3)}function WR(e,n){const i=ci();let o;const c=e+fr;i.firstCreatePass?(o=function EO(e,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(e===o.name)return o}}(n,i.pipeRegistry),i.data[c]=o,o.onDestroy&&(i.destroyHooks??=[]).push(c,o.onDestroy)):o=i.data[c];const h=o.factory||(o.factory=to(o.type)),T=Mi(_d);try{const D=sc(!1),j=h();return sc(D),ol(i,jt(),c,j),j}finally{Mi(T)}}function zR(e,n,i){const o=e+fr,c=jt(),h=Ra(c,o);return tI(c,o)?function UR(e,n,i,o,c,h){const m=n+i;return ze(e,m,c)?ot(e,m+1,h?o.call(h,c):o(c)):eI(e,m+1)}(c,Ys(),n,h.transform,i,h):h.transform(i)}function GR(e,n,i,o){const c=e+fr,h=jt(),m=Ra(h,c);return tI(h,c)?BR(h,Ys(),n,m.transform,i,o,m):m.transform(i,o)}function KR(e,n,i,o,c){const h=e+fr,m=jt(),T=Ra(m,h);return tI(m,h)?jR(m,Ys(),n,T.transform,i,o,c,T):T.transform(i,o,c)}function tI(e,n){return e[qt].data[n].pure}function qR(e,n){return Fv(e,n)}class hP{full;major;minor;patch;constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const XO=new hP("19.2.15");class YO{ngModuleFactory;componentFactories;constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let JO=(()=>{class e{compileModuleSync(i){return new db(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),h=gc(Bs(i).declarations).reduce((m,T)=>{const D=Ei(T);return D&&m.push(new W_(D)),m},[]);return new YO(o,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tN=(()=>{class e{zone=qn(Ss);changeDetectionScheduler=qn(mu);applicationRef=qn(Na);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vC({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return e??=()=>new Ss({...EC(),scheduleInRootZone:i}),[{provide:Ss,useFactory:e},{provide:Yi,multi:!0,useFactory:()=>{const o=qn(tN,{optional:!0});return()=>o.initialize()}},{provide:Yi,multi:!0,useFactory:()=>{const o=qn(rN);return()=>{o.initialize()}}},!0===n?{provide:fl,useValue:!0}:[],{provide:rg,useValue:i??$d}]}function EC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let rN=(()=>{class e{subscription=new en.yU;initialized=!1;zone=qn(Ss);pendingTasks=qn(Hc);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ss.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ss.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rI=(()=>{class e{appRef=qn(Na);taskService=qn(Hc);ngZone=qn(Ss);zonelessEnabled=qn(Vu);tracing=qn(ih,{optional:!0});disableScheduling=qn(fl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new en.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(qn(rg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cc||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let o=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const c=this.useMicrotaskScheduler?Hd:sg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>c(()=>this.tick())):this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const TC=new Pe("",{providedIn:"root",factory:()=>qn(TC,Jn.Optional|Jn.SkipSelf)||function iN(){return typeof $localize<"u"&&$localize.locale||ow}()}),sN=new Pe("",{providedIn:"root",factory:()=>"USD"}),pw=new Pe(""),lN=new Pe("");function iI(e){return!e.moduleRef}let yP=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(i){this._injector=i}bootstrapModuleFactory(i,o){const c=o?.scheduleInRootZone,m=o?.ignoreChangesOutsideZone,T=[vC({ngZoneFactory:()=>function Ry(e="zone.js",n){return"noop"===e?new cc:"zone.js"===e?new Ss(n):e}(o?.ngZone,{...EC({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:m}),{provide:mu,useExisting:rI}],D=function ey(e,n,i){return new lb(e,n,i,!1)}(i.moduleType,this.injector,T);return function _P(e){const n=iI(e)?e.r3Injector:e.moduleRef.injector,i=n.get(Ss);return i.run(()=>{iI(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Fs,null);let c;if(i.runOutsideAngular(()=>{c=i.onError.subscribe({next:h=>{o.handleError(h)}})}),iI(e)){const h=()=>n.destroy(),m=e.platformInjector.get(pw);m.add(h),n.onDestroy(()=>{c.unsubscribe(),m.delete(h)})}else{const h=()=>e.moduleRef.destroy(),m=e.platformInjector.get(pw);m.add(h),e.moduleRef.onDestroy(()=>{py(e.allPlatformModules,e.moduleRef),c.unsubscribe(),m.delete(h)})}return function hN(e,n,i){try{const o=i();return BE(o)?o.catch(c=>{throw n.runOutsideAngular(()=>e.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,i,()=>{const h=n.get(Lb);return h.runInitializers(),h.donePromise.then(()=>{if(function rk(e){"string"==typeof e&&(CS=e.toLowerCase().replace(/_/g,"-"))}(n.get(TC,ow)||ow),!n.get(lN,!0))return iI(e)?n.get(Na):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(iI(e)){const D=n.get(Na);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function dN(e,n){const i=e.injector.get(Na);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new on(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:D,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,o=[]){const c=Cm({},o);return function eN(e,n,i){const o=new db(i);return Promise.resolve(o)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new on(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(pw,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(o){return new(o||e)(rs(uo))};static \u0275prov=Yn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ay=null;function vP(e,n,i=[]){const o=`Platform: ${n}`,c=new Pe(o);return(h=[])=>{let m=gw();if(!m){const T=[...i,...h,{provide:c,useValue:!0}];m=e?.(T)??function fN(e){if(gw())throw new on(400,!1);(function Am(){!function Ti(e){Pr=e}(()=>{throw new on(600,!1)})})(),Ay=e;const n=e.get(yP);return function IP(e){const n=e.get(op,null);tt(e,()=>{n?.forEach(i=>i())})}(e),n}(function EP(e=[],n){return uo.create({name:n,providers:[{provide:N,useValue:"platform"},{provide:pw,useValue:new Set([()=>Ay=null])},...e]})}(T,o))}return function pN(){const n=gw();if(!n)throw new on(401,!1);return n}()}}function gw(){return Ay?.get(yP)??null}function mN(){return!1}function _N(){}let bP=(()=>class e{static __NG_ELEMENT_ID__=yN})();function yN(e){return function vN(e,n,i){if(Hs(e)&&!i){const o=qo(e.index,n);return new S_(o,o)}return 175&e.type?new S_(n[gs],n):null}(pi(),jt(),!(16&~e))}class DP{constructor(){}supports(n){return vr(n)}create(n){return new wN(n)}}const bN=(e,n)=>n;class wN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||bN}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,h=null;for(;i||o;){const m=!o||i&&i.currentIndex<RP(o,c,h)?i:o,T=RP(m,c,h),D=m.currentIndex;if(m===o)c--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)c++;else{h||(h=[]);const j=T-c,Y=D-c;if(j!=Y){for(let Me=0;Me<j;Me++){const Ae=Me<h.length?h[Me]:h[Me]=0,ct=Ae+Me;Y<=ct&&ct<j&&(h[Me]=Ae+1)}h[m.previousIndex]=Y-j}}T!==D&&n(m,T,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!vr(n))throw new on(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)h=n[T],m=this._trackByFn(T,h),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,h,m,T)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,m,T),o=!0),i=i._next}else c=0,function Kr(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,T=>{m=this._trackByFn(c,T),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,T,m,c)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,m,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new AN(i,o),h,c),n}_verifyReinsertion(n,i,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new SP),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SP),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class AN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,i){this.item=n,this.trackById=i}}class CN{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class SP{map=new Map;put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new CN,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RP(e,n,i){const o=e.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class PP{constructor(){}supports(n){return n instanceof Map||Hi(n)}create(){return new DN}}class DN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Hi(n)))throw new on(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const o=new SN(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class SN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function MP(){return new CC([new DP])}let CC=(()=>{class e{factories;static \u0275prov=Yn({token:e,providedIn:"root",factory:MP});constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||MP()),deps:[[e,new yo,new Vi]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new on(901,!1)}}return e})();function kP(){return new DC([new PP])}let DC=(()=>{class e{static \u0275prov=Yn({token:e,providedIn:"root",factory:kP});factories;constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||kP()),deps:[[e,new yo,new Vi]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new on(901,!1)}}return e})();const MN=vP(null,"core",[]);let kN=(()=>{class e{constructor(i){}static \u0275fac=function(o){return new(o||e)(rs(Na))};static \u0275mod=pE({type:e});static \u0275inj=H({})}return e})();function e1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function t1(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}function Rd(e){return function si(e){const n=Fe(null);try{return e()}finally{Fe(n)}}(e)}function oI(e,n){return Or(e,n?.equal)}class o1{[ye];constructor(n){this[ye]=n}destroy(){this[ye].destroy()}}function RC(e,n){!n?.injector&&je();const i=n?.injector??qn(uo);let c,o=!0!==n?.manualCleanup?i.get(ja):null;const h=i.get(df,null,{optional:!0}),m=i.get(mu);return null===h||n?.forceRoot?c=function l1(e,n,i){const o=Object.create(a1);return o.fn=e,o.scheduler=n,o.notifier=i,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(12),o}(e,i.get(UE),m):(c=function c1(e,n,i){const o=Object.create(u1);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=n,o.fn=i,e[Co]??=new Set,e[Co].add(o),o.consumerMarkedDirty(o),o}(h.view,m,e),o instanceof Qf&&o._lView===h.view&&(o=null)),c.injector=i,null!==o&&(c.onDestroyFn=o.onDestroy(()=>c.destroy())),new o1(c)}const GP={...Ie,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Xf,run(){if(this.dirty=!1,this.hasRun&&!Wt(this))return;this.hasRun=!0;const e=o=>(this.cleanupFns??=[]).push(o),n=Kt(this),i=Sc(!1);try{this.maybeCleanup(),this.fn(e)}finally{Sc(i),Ut(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},a1={...GP,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){We(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},u1={...GP,consumerMarkedDirty(){this.view[Ln]|=8192,Su(this.view),this.notifier.notify(13)},destroy(){We(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Co]?.delete(this)}};function T1(e,n){const i=Ei(e),o=n.elementInjector||Fr();return new W_(i).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function b1(e){const n=Ei(e);if(!n)return null;const i=new W_(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1576:(Xn,Tt,B)=>{"use strict";B.d(Tt,{_:()=>ne});var w=B(9867);function ne(ee,Re=0){return(0,w.N)((re,ye)=>{ye.add(ee.schedule(()=>re.subscribe(ye),Re))})}},1677:(Xn,Tt,B)=>{"use strict";B.d(Tt,{m:()=>ne});var w=B(4418);function ne(ee){return ee&&(0,w.T)(ee.schedule)}},1982:(Xn,Tt,B)=>{"use strict";function w(ne,ee,Re,re=0,ye=!1){const Fe=ee.schedule(function(){Re(),ye?ne.add(this.schedule(null,re)):this.unsubscribe()},re);if(ne.add(Fe),!ye)return Fe}B.d(Tt,{N:()=>w})},2029:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Kn:()=>ye,yU:()=>re,Uv:()=>Fe});var w=B(4418);const ee=(0,B(4520).L)(rt=>function(Ie){rt(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((lt,ht)=>`${ht+1}) ${lt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var Re=B(9583);class re{constructor(ve){this.initialTeardown=ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ve;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const mt of Ie)mt.remove(this);else Ie.remove(this);const{initialTeardown:lt}=this;if((0,w.T)(lt))try{lt()}catch(mt){ve=mt instanceof ee?mt.errors:[mt]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const mt of ht)try{De(mt)}catch(Jt){ve=ve??[],Jt instanceof ee?ve=[...ve,...Jt.errors]:ve.push(Jt)}}if(ve)throw new ee(ve)}}add(ve){var Ie;if(ve&&ve!==this)if(this.closed)De(ve);else{if(ve instanceof re){if(ve.closed||ve._hasParent(this))return;ve._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(ve)}}_hasParent(ve){const{_parentage:Ie}=this;return Ie===ve||Array.isArray(Ie)&&Ie.includes(ve)}_addParent(ve){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(ve),Ie):Ie?[Ie,ve]:ve}_removeParent(ve){const{_parentage:Ie}=this;Ie===ve?this._parentage=null:Array.isArray(Ie)&&(0,Re.o)(Ie,ve)}remove(ve){const{_finalizers:Ie}=this;Ie&&(0,Re.o)(Ie,ve),ve instanceof re&&ve._removeParent(this)}}re.EMPTY=(()=>{const rt=new re;return rt.closed=!0,rt})();const ye=re.EMPTY;function Fe(rt){return rt instanceof re||rt&&"closed"in rt&&(0,w.T)(rt.remove)&&(0,w.T)(rt.add)&&(0,w.T)(rt.unsubscribe)}function De(rt){(0,w.T)(rt)?rt():rt.unsubscribe()}},2246:(Xn,Tt,B)=>{"use strict";function w(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Tt,{L:()=>w})},2308:function(Xn){Xn.exports=function(){"use strict";var Tt=function(E,C){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,W){F.__proto__=W}||function(F,W){for(var q in W)Object.prototype.hasOwnProperty.call(W,q)&&(F[q]=W[q])})(E,C)},B=function(){return(B=Object.assign||function(E){for(var C,F=1,W=arguments.length;F<W;F++)for(var q in C=arguments[F])Object.prototype.hasOwnProperty.call(C,q)&&(E[q]=C[q]);return E}).apply(this,arguments)};function w(E,C,F){if(F||2===arguments.length)for(var W,q=0,oe=C.length;q<oe;q++)!W&&q in C||((W=W||Array.prototype.slice.call(C,0,q))[q]=C[q]);return E.concat(W||Array.prototype.slice.call(C))}var ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ee=Object.keys,Re=Array.isArray;function re(E,C){return"object"!=typeof C||ee(C).forEach(function(F){E[F]=C[F]}),E}typeof Promise>"u"||ne.Promise||(ne.Promise=Promise);var ye=Object.getPrototypeOf,Fe={}.hasOwnProperty;function De(E,C){return Fe.call(E,C)}function rt(E,C){"function"==typeof C&&(C=C(ye(E))),(typeof Reflect>"u"?ee:Reflect.ownKeys)(C).forEach(function(F){Ie(E,F,C[F])})}var ve=Object.defineProperty;function Ie(E,C,F,W){ve(E,C,re(F&&De(F,"get")&&"function"==typeof F.get?{get:F.get,set:F.set,configurable:!0}:{value:F,configurable:!0,writable:!0},W))}function lt(E){return{from:function(C){return E.prototype=Object.create(C.prototype),Ie(E.prototype,"constructor",E),{extend:rt.bind(null,E.prototype)}}}}var ht=Object.getOwnPropertyDescriptor,mt=[].slice;function Jt(E,C,F){return mt.call(E,C,F)}function Ht(E,C){return C(E)}function hn(E){if(!E)throw new Error("Assertion Failed")}function dn(E){ne.setImmediate?setImmediate(E):setTimeout(E,0)}function Kt(E,C){if("string"==typeof C&&De(E,C))return E[C];if(!C)return E;if("string"!=typeof C){for(var F=[],W=0,q=C.length;W<q;++W){var oe=Kt(E,C[W]);F.push(oe)}return F}var Ce=C.indexOf(".");if(-1!==Ce){var Be=E[C.substr(0,Ce)];return null==Be?void 0:Kt(Be,C.substr(Ce+1))}}function Ut(E,C,F){if(E&&void 0!==C&&(!("isFrozen"in Object)||!Object.isFrozen(E)))if("string"!=typeof C&&"length"in C){hn("string"!=typeof F&&"length"in F);for(var W=0,q=C.length;W<q;++W)Ut(E,C[W],F[W])}else{var oe,Ce,Be=C.indexOf(".");-1!==Be?(oe=C.substr(0,Be),""===(Ce=C.substr(Be+1))?void 0===F?Re(E)&&!isNaN(parseInt(oe))?E.splice(oe,1):delete E[oe]:E[oe]=F:Ut(Be=(Be=E[oe])&&De(E,oe)?Be:E[oe]={},Ce,F)):void 0===F?Re(E)&&!isNaN(parseInt(C))?E.splice(C,1):delete E[C]:E[C]=F}}function Wt(E){var C,F={};for(C in E)De(E,C)&&(F[C]=E[C]);return F}var We=[].concat;function St(E){return We.apply([],E)}var ft="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(St([8,16,32,64].map(function(E){return["Int","Uint","Float"].map(function(C){return C+E+"Array"})}))).filter(function(E){return ne[E]}),pt=new Set(ft.map(function(E){return ne[E]})),kt=null;function Rt(E){return kt=new WeakMap,E=function C(F){if(!F||"object"!=typeof F)return F;var W=kt.get(F);if(W)return W;if(Re(F)){kt.set(F,W=[]);for(var q=0,oe=F.length;q<oe;++q)W.push(C(F[q]))}else if(pt.has(F.constructor))W=F;else{var Ce,Be=ye(F);for(Ce in W=Be===Object.prototype?{}:Object.create(Be),kt.set(F,W),F)De(F,Ce)&&(W[Ce]=C(F[Ce]))}return W}(E),kt=null,E}var at={}.toString;function kn(E){return at.call(E).slice(8,-1)}var Or=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Hr="symbol"==typeof Or?function(E){var C;return null!=E&&(C=E[Or])&&C.apply(E)}:function(){return null};function pr(E,C){return 0<=(C=E.indexOf(C))&&E.splice(C,1),0<=C}var Wr={};function Nr(E){var C,F,W,q;if(1===arguments.length){if(Re(E))return E.slice();if(this===Wr&&"string"==typeof E)return[E];if(q=Hr(E)){for(F=[];!(W=q.next()).done;)F.push(W.value);return F}if(null==E)return[E];if("number"!=typeof(C=E.length))return[E];for(F=new Array(C);C--;)F[C]=E[C];return F}for(C=arguments.length,F=new Array(C);C--;)F[C]=arguments[C];return F}var Ur=typeof Symbol<"u"?function(E){return"AsyncFunction"===E[Symbol.toStringTag]}:function(){return!1},z=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Yt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Pr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function yi(E,C){this.name=E,this.message=C}function Ti(E,C){return E+". Errors: "+Object.keys(C).map(function(F){return C[F].toString()}).filter(function(F,W,q){return q.indexOf(F)===W}).join("\n")}function Le(E,C,F,W){this.failures=C,this.failedKeys=W,this.successCount=F,this.message=Ti(E,C)}function Ve(E,C){this.name="BulkError",this.failures=Object.keys(C).map(function(F){return C[F]}),this.failuresByPos=C,this.message=Ti(E,this.failures)}lt(yi).from(Error).extend({toString:function(){return this.name+": "+this.message}}),lt(Le).from(yi),lt(Ve).from(yi);var He=z.reduce(function(E,C){return E[C]=C+"Error",E},{}),Ge=yi,qe=z.reduce(function(E,C){var F=C+"Error";function W(q,oe){this.name=F,q?"string"==typeof q?(this.message="".concat(q).concat(oe?"\n "+oe:""),this.inner=oe||null):"object"==typeof q&&(this.message="".concat(q.name," ").concat(q.message),this.inner=q):(this.message=Pr[C]||F,this.inner=null)}return lt(W).from(Ge),E[C]=W,E},{});qe.Syntax=SyntaxError,qe.Type=TypeError,qe.Range=RangeError;var Nt=Yt.reduce(function(E,C){return E[C+"Error"]=qe[C],E},{}),Pn=z.reduce(function(E,C){return-1===["Syntax","Type","Range"].indexOf(C)&&(E[C+"Error"]=qe[C]),E},{});function sn(){}function ur(E){return E}function Bn(E,C){return null==E||E===ur?C:function(F){return C(E(F))}}function Qr(E,C){return function(){E.apply(this,arguments),C.apply(this,arguments)}}function Cr(E,C){return E===sn?C:function(){var F=E.apply(this,arguments);void 0!==F&&(arguments[0]=F);var W=this.onsuccess,q=this.onerror;this.onsuccess=null,this.onerror=null;var oe=C.apply(this,arguments);return W&&(this.onsuccess=this.onsuccess?Qr(W,this.onsuccess):W),q&&(this.onerror=this.onerror?Qr(q,this.onerror):q),void 0!==oe?oe:F}}function Li(E,C){return E===sn?C:function(){E.apply(this,arguments);var F=this.onsuccess,W=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),F&&(this.onsuccess=this.onsuccess?Qr(F,this.onsuccess):F),W&&(this.onerror=this.onerror?Qr(W,this.onerror):W)}}function si(E,C){return E===sn?C:function(F){var W=E.apply(this,arguments);re(F,W);var q=this.onsuccess,oe=this.onerror;return this.onsuccess=null,this.onerror=null,F=C.apply(this,arguments),q&&(this.onsuccess=this.onsuccess?Qr(q,this.onsuccess):q),oe&&(this.onerror=this.onerror?Qr(oe,this.onerror):oe),void 0===W?void 0===F?void 0:F:re(W,F)}}function Xr(E,C){return E===sn?C:function(){return!1!==C.apply(this,arguments)&&E.apply(this,arguments)}}function ni(E,C){return E===sn?C:function(){var F=E.apply(this,arguments);if(F&&"function"==typeof F.then){for(var W=this,q=arguments.length,oe=new Array(q);q--;)oe[q]=arguments[q];return F.then(function(){return C.apply(W,oe)})}return C.apply(this,arguments)}}Pn.ModifyError=Le,Pn.DexieError=yi,Pn.BulkError=Ve;var Jr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Mn(E){Jr=E}var Yt,Ar={},en=(z=(z=(ft=typeof Promise>"u"?[]:function(){var E=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[E,ye(E),E];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,ye(C),E]}())[1])&&z.then,(Yt=ft[0])&&Yt.constructor),Sn=!!(ft=ft[2]),or=function(E,C){ts.push([E,C]),on&&(queueMicrotask(ho),on=!1)},gr=!0,on=!0,nr=[],mr=[],ei=ur,Rn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:sn,pgp:!1,env:{},finalize:sn},Nn=Rn,ts=[],ti=0,On=[];function An(E){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=Nn;if("function"!=typeof E){if(E!==Ar)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ws(this,this._value))}this._state=null,this._value=null,++C.ref,function F(W,q){try{q(function(oe){if(null===W._state){if(oe===W)throw new TypeError("A promise cannot be resolved with itself.");var Ce=W._lib&&Bi();oe&&"function"==typeof oe.then?F(W,function(Be,et){oe instanceof An?oe._then(Be,et):oe.then(Be,et)}):(W._state=!0,W._value=oe,cs(W)),Ce&&kr()}},ws.bind(null,W))}catch(oe){ws(W,oe)}}(this,E)}var Ui={get:function(){var E=Nn,C=er;function F(W,q){var oe=this,Ce=!E.global&&(E!==Nn||C!==er),Be=Ce&&!zi(),et=new An(function(tt,_t){Pi(oe,new ns(tr(W,E,Ce,Be),tr(q,E,Ce,Be),tt,_t,E))});return this._consoleTask&&(et._consoleTask=this._consoleTask),et}return F.prototype=Ar,F},set:function(E){Ie(this,"then",E&&E.prototype===Ar?Ui:{get:function(){return E},set:Ui.set})}};function ns(E,C,F,W,q){this.onFulfilled="function"==typeof E?E:null,this.onRejected="function"==typeof C?C:null,this.resolve=F,this.reject=W,this.psd=q}function ws(E,C){var F,W;mr.push(C),null===E._state&&(F=E._lib&&Bi(),C=ei(C),E._state=!1,E._value=C,W=E,nr.some(function(q){return q._value===W._value})||nr.push(W),cs(E),F&&kr())}function cs(E){var C=E._listeners;E._listeners=[];for(var F=0,W=C.length;F<W;++F)Pi(E,C[F]);var q=E._PSD;--q.ref||q.finalize(),0===ti&&(++ti,or(function(){0==--ti&&Wi()},[]))}function Pi(E,C){if(null!==E._state){var F=E._state?C.onFulfilled:C.onRejected;if(null===F)return(E._state?C.resolve:C.reject)(E._value);++C.psd.ref,++ti,or(bi,[F,E,C])}else E._listeners.push(C)}function bi(E,C,F){try{var W,q=C._value;!C._state&&mr.length&&(mr=[]),W=Jr&&C._consoleTask?C._consoleTask.run(function(){return E(q)}):E(q),C._state||-1!==mr.indexOf(q)||function(oe){for(var Ce=nr.length;Ce;)if(nr[--Ce]._value===oe._value)return nr.splice(Ce,1)}(C),F.resolve(W)}catch(oe){F.reject(oe)}finally{0==--ti&&Wi(),--F.psd.ref||F.psd.finalize()}}function ho(){Oe(Rn,function(){Bi()&&kr()})}function Bi(){var E=gr;return on=gr=!1,E}function kr(){var E,C,F;do{for(;0<ts.length;)for(E=ts,ts=[],F=E.length,C=0;C<F;++C){var W=E[C];W[0].apply(null,W[1])}}while(0<ts.length);on=gr=!0}function Wi(){var E=nr;nr=[],E.forEach(function(W){W._PSD.onunhandled.call(null,W._value,W)});for(var C=On.slice(0),F=C.length;F;)C[--F]()}function qr(E){return new An(Ar,!1,E)}function an(E,C){var F=Nn;return function(){var W=Bi(),q=Nn;try{return Ye(F,!0),E.apply(this,arguments)}catch(oe){C&&C(oe)}finally{Ye(q,!1),W&&kr()}}}rt(An.prototype,{then:Ui,_then:function(E,C){Pi(this,new ns(null,null,E,C,Nn))},catch:function(E){if(1===arguments.length)return this.then(null,E);var C=E,F=arguments[1];return this.then(null,"function"==typeof C?function(W){return(W instanceof C?F:qr)(W)}:function(W){return(W&&W.name===C?F:qr)(W)})},finally:function(E){return this.then(function(C){return An.resolve(E()).then(function(){return C})},function(C){return An.resolve(E()).then(function(){return qr(C)})})},timeout:function(E,C){var F=this;return E<1/0?new An(function(W,q){var oe=setTimeout(function(){return q(new qe.Timeout(C))},E);F.then(W,q).finally(clearTimeout.bind(null,oe))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ie(An.prototype,Symbol.toStringTag,"Dexie.Promise"),Rn.env=Zt(),rt(An,{all:function(){var E=Nr.apply(null,arguments).map(he);return new An(function(C,F){0===E.length&&C([]);var W=E.length;E.forEach(function(q,oe){return An.resolve(q).then(function(Ce){E[oe]=Ce,--W||C(E)},F)})})},resolve:function(E){return E instanceof An?E:E&&"function"==typeof E.then?new An(function(C,F){E.then(C,F)}):new An(Ar,!0,E)},reject:qr,race:function(){var E=Nr.apply(null,arguments).map(he);return new An(function(C,F){E.map(function(W){return An.resolve(W).then(C,F)})})},PSD:{get:function(){return Nn},set:function(E){return Nn=E}},totalEchoes:{get:function(){return er}},newPSD:Br,usePSD:Oe,scheduler:{get:function(){return or},set:function(E){or=E}},rejectionMapper:{get:function(){return ei},set:function(E){ei=E}},follow:function(E,C){return new An(function(F,W){return Br(function(q,oe){var Ce=Nn;Ce.unhandleds=[],Ce.onunhandled=oe,Ce.finalize=Qr(function(){var Be,et=this;Be=function(){0===et.unhandleds.length?q():oe(et.unhandleds[0])},On.push(function tt(){Be(),On.splice(On.indexOf(tt),1)}),++ti,or(function(){0==--ti&&Wi()},[])},Ce.finalize),E()},C,F,W)})}}),en&&(en.allSettled&&Ie(An,"allSettled",function(){var E=Nr.apply(null,arguments).map(he);return new An(function(C){0===E.length&&C([]);var F=E.length,W=new Array(F);E.forEach(function(q,oe){return An.resolve(q).then(function(Ce){return W[oe]={status:"fulfilled",value:Ce}},function(Ce){return W[oe]={status:"rejected",reason:Ce}}).then(function(){return--F||C(W)})})})}),en.any&&typeof AggregateError<"u"&&Ie(An,"any",function(){var E=Nr.apply(null,arguments).map(he);return new An(function(C,F){0===E.length&&F(new AggregateError([]));var W=E.length,q=new Array(W);E.forEach(function(oe,Ce){return An.resolve(oe).then(function(Be){return C(Be)},function(Be){q[Ce]=Be,--W||F(new AggregateError(q))})})})}),en.withResolvers&&(An.withResolvers=en.withResolvers));var Lt={awaits:0,echoes:0,id:0},bn=0,Un=[],vn=0,er=0,$n=0;function Br(E,C,F,W){var q=Nn,oe=Object.create(q);return oe.parent=q,oe.ref=0,oe.global=!1,oe.id=++$n,oe.env=Sn?{Promise:An,PromiseProp:{value:An,configurable:!0,writable:!0},all:An.all,race:An.race,allSettled:An.allSettled,any:An.any,resolve:An.resolve,reject:An.reject}:{},C&&re(oe,C),++q.ref,oe.finalize=function(){--this.parent.ref||this.parent.finalize()},W=Oe(oe,E,F,W),0===oe.ref&&oe.finalize(),W}function Vr(){return Lt.id||(Lt.id=++bn),++Lt.awaits,Lt.echoes+=100,Lt.id}function zi(){return!!Lt.awaits&&(0==--Lt.awaits&&(Lt.id=0),Lt.echoes=100*Lt.awaits,!0)}function he(E){return Lt.echoes&&E&&E.constructor===en?(Vr(),E.then(function(C){return zi(),C},function(C){return zi(),xr(C)})):E}function be(){var E=Un[Un.length-1];Un.pop(),Ye(E,!1)}function Ye(E,C){var F,W=Nn;(C?!Lt.echoes||vn++&&E===Nn:!vn||--vn&&E===Nn)||queueMicrotask(C?function(q){++er,Lt.echoes&&0!=--Lt.echoes||(Lt.echoes=Lt.awaits=Lt.id=0),Un.push(Nn),Ye(q,!0)}.bind(null,E):be),E!==Nn&&(Nn=E,W===Rn&&(Rn.env=Zt()),Sn&&(F=Rn.env.Promise,C=E.env,(W.global||E.global)&&(Object.defineProperty(ne,"Promise",C.PromiseProp),F.all=C.all,F.race=C.race,F.resolve=C.resolve,F.reject=C.reject,C.allSettled&&(F.allSettled=C.allSettled),C.any&&(F.any=C.any))))}function Zt(){var E=ne.Promise;return Sn?{Promise:E,PromiseProp:Object.getOwnPropertyDescriptor(ne,"Promise"),all:E.all,race:E.race,allSettled:E.allSettled,any:E.any,resolve:E.resolve,reject:E.reject}:{}}function Oe(E,C,F,W,q){var oe=Nn;try{return Ye(E,!0),C(F,W,q)}finally{Ye(oe,!1)}}function tr(E,C,F,W){return"function"!=typeof E?E:function(){var q=Nn;F&&Vr(),Ye(C,!0);try{return E.apply(this,arguments)}finally{Ye(q,!1),W&&queueMicrotask(zi)}}}function rn(E){Promise===en&&0===Lt.echoes?0===vn?E():enqueueNativeMicroTask(E):setTimeout(E,0)}-1===(""+z).indexOf("[native code]")&&(Vr=zi=sn);var xr=An.reject,Z="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fe="String expected.",it=[],At="__dbnames",$t="readonly",Vn="readwrite";function Yn(E,C){return E?C?function(){return E.apply(this,arguments)&&C.apply(this,arguments)}:E:C}var ce={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function H(E){return"string"!=typeof E||/\./.test(E)?function(C){return C}:function(C){return void 0===C[E]&&E in C&&delete(C=Rt(C))[E],C}}function $(){throw qe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function te(E,C){try{var F=Je(E),W=Je(C);if(F!==W)return"Array"===F?1:"Array"===W?-1:"binary"===F?1:"binary"===W?-1:"string"===F?1:"string"===W?-1:"Date"===F?1:"Date"!==W?NaN:-1;switch(F){case"number":case"Date":case"string":return C<E?1:E<C?-1:0;case"binary":return function(q,oe){for(var Ce=q.length,Be=oe.length,et=Ce<Be?Ce:Be,tt=0;tt<et;++tt)if(q[tt]!==oe[tt])return q[tt]<oe[tt]?-1:1;return Ce===Be?0:Ce<Be?-1:1}(gn(E),gn(C));case"Array":return function(q,oe){for(var Ce=q.length,Be=oe.length,et=Ce<Be?Ce:Be,tt=0;tt<et;++tt){var _t=te(q[tt],oe[tt]);if(0!==_t)return _t}return Ce===Be?0:Ce<Be?-1:1}(E,C)}}catch{}return NaN}function Je(E){var C=typeof E;return"object"!=C?C:ArrayBuffer.isView(E)||"ArrayBuffer"===(E=kn(E))?"binary":E}function gn(E){return E instanceof Uint8Array?E:ArrayBuffer.isView(E)?new Uint8Array(E.buffer,E.byteOffset,E.byteLength):new Uint8Array(E)}function Cn(E,C,F){var W=E.schema.yProps;return W?(C&&0<F.numFailures&&(C=C.filter(function(q,oe){return!F.failures[oe]})),Promise.all(W.map(function(q){return q=q.updatesTable,C?E.db.table(q).where("k").anyOf(C).delete():E.db.table(q).clear()})).then(function(){return F})):F}var cr=(zt.prototype._trans=function(E,C,F){var W=this._tx||Nn.trans,q=this.name,oe=Jr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===E?"read":"write"," ").concat(this.name));function Ce(tt,_t,je){if(!je.schema[q])throw new qe.NotFound("Table "+q+" not part of transaction");return C(je.idbtrans,je)}var Be=Bi();try{var et=W&&W.db._novip===this.db._novip?W===Nn.trans?W._promise(E,Ce,F):Br(function(){return W._promise(E,Ce,F)},{trans:W,transless:Nn.transless||Nn}):function tt(_t,je,Et,st){if(_t.idbdb&&(_t._state.openComplete||Nn.letThrough||_t._vip)){var yt=_t._createTransaction(je,Et,_t._dbSchema);try{yt.create(),_t._state.PR1398_maxLoop=3}catch(ut){return ut.name===He.InvalidState&&_t.isOpen()&&0<--_t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_t.close({disableAutoOpen:!1}),_t.open().then(function(){return tt(_t,je,Et,st)})):xr(ut)}return yt._promise(je,function(ut,wt){return Br(function(){return Nn.trans=yt,st(ut,wt,yt)})}).then(function(ut){if("readwrite"===je)try{yt.idbtrans.commit()}catch{}return"readonly"===je?ut:yt._completion.then(function(){return ut})})}if(_t._state.openComplete)return xr(new qe.DatabaseClosed(_t._state.dbOpenError));if(!_t._state.isBeingOpened){if(!_t._state.autoOpen)return xr(new qe.DatabaseClosed);_t.open().catch(sn)}return _t._state.dbReadyPromise.then(function(){return tt(_t,je,Et,st)})}(this.db,E,[this.name],Ce);return oe&&(et._consoleTask=oe,et=et.catch(function(tt){return console.trace(tt),xr(tt)})),et}finally{Be&&kr()}},zt.prototype.get=function(E,C){var F=this;return E&&E.constructor===Object?this.where(E).first(C):null==E?xr(new qe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(W){return F.core.get({trans:W,key:E}).then(function(q){return F.hook.reading.fire(q)})}).then(C)},zt.prototype.where=function(E){if("string"==typeof E)return new this.db.WhereClause(this,E);if(Re(E))return new this.db.WhereClause(this,"[".concat(E.join("+"),"]"));var C=ee(E);if(1===C.length)return this.where(C[0]).equals(E[C[0]]);var F=this.schema.indexes.concat(this.schema.primKey).filter(function(Be){if(Be.compound&&C.every(function(tt){return 0<=Be.keyPath.indexOf(tt)})){for(var et=0;et<C.length;++et)if(-1===C.indexOf(Be.keyPath[et]))return!1;return!0}return!1}).sort(function(Be,et){return Be.keyPath.length-et.keyPath.length})[0];if(F&&"\uffff"!==this.db._maxKey){var oe=F.keyPath.slice(0,C.length);return this.where(oe).equals(oe.map(function(et){return E[et]}))}!F&&Jr&&console.warn("The query ".concat(JSON.stringify(E)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var W=this.schema.idxByName;function q(Be,et){return 0===te(Be,et)}oe=(Ce=C.reduce(function(je,et){var tt=je[0],_t=je[1],Et=(je=W[et],E[et]);return[tt||je,tt||!je?Yn(_t,je&&je.multi?function(st){return st=Kt(st,et),Re(st)&&st.some(function(yt){return q(Et,yt)})}:function(st){return q(Et,Kt(st,et))}):_t]},[null,null]))[0];var Ce=Ce[1];return oe?this.where(oe.name).equals(E[oe.keyPath]).filter(Ce):F?this.filter(Ce):this.where(C).equals("")},zt.prototype.filter=function(E){return this.toCollection().and(E)},zt.prototype.count=function(E){return this.toCollection().count(E)},zt.prototype.offset=function(E){return this.toCollection().offset(E)},zt.prototype.limit=function(E){return this.toCollection().limit(E)},zt.prototype.each=function(E){return this.toCollection().each(E)},zt.prototype.toArray=function(E){return this.toCollection().toArray(E)},zt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},zt.prototype.orderBy=function(E){return new this.db.Collection(new this.db.WhereClause(this,Re(E)?"[".concat(E.join("+"),"]"):E))},zt.prototype.reverse=function(){return this.toCollection().reverse()},zt.prototype.mapToClass=function(E){var C,F=this.db,W=this.name;function q(){return null!==C&&C.apply(this,arguments)||this}(this.schema.mappedClass=E).prototype instanceof $&&(function(et,tt){if("function"!=typeof tt&&null!==tt)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");function _t(){this.constructor=et}Tt(et,tt),et.prototype=null===tt?Object.create(tt):(_t.prototype=tt.prototype,new _t)}(q,C=E),Object.defineProperty(q.prototype,"db",{get:function(){return F},enumerable:!1,configurable:!0}),q.prototype.table=function(){return W},E=q);for(var oe=new Set,Ce=E.prototype;Ce;Ce=ye(Ce))Object.getOwnPropertyNames(Ce).forEach(function(et){return oe.add(et)});function Be(et){if(!et)return et;var tt,_t=Object.create(E.prototype);for(tt in et)if(!oe.has(tt))try{_t[tt]=et[tt]}catch{}return _t}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Be,this.hook("reading",Be),E},zt.prototype.defineClass=function(){return this.mapToClass(function(E){re(this,E)})},zt.prototype.add=function(E,C){var F=this,W=this.schema.primKey,oe=W.keyPath,Ce=E;return oe&&W.auto&&(Ce=H(oe)(E)),this._trans("readwrite",function(Be){return F.core.mutate({trans:Be,type:"add",keys:null!=C?[C]:null,values:[Ce]})}).then(function(Be){return Be.numFailures?An.reject(Be.failures[0]):Be.lastResult}).then(function(Be){if(oe)try{Ut(E,oe,Be)}catch{}return Be})},zt.prototype.update=function(E,C){return"object"!=typeof E||Re(E)?this.where(":id").equals(E).modify(C):void 0===(E=Kt(E,this.schema.primKey.keyPath))?xr(new qe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(E).modify(C)},zt.prototype.put=function(E,C){var F=this,W=this.schema.primKey,oe=W.keyPath,Ce=E;return oe&&W.auto&&(Ce=H(oe)(E)),this._trans("readwrite",function(Be){return F.core.mutate({trans:Be,type:"put",values:[Ce],keys:null!=C?[C]:null})}).then(function(Be){return Be.numFailures?An.reject(Be.failures[0]):Be.lastResult}).then(function(Be){if(oe)try{Ut(E,oe,Be)}catch{}return Be})},zt.prototype.delete=function(E){var C=this;return this._trans("readwrite",function(F){return C.core.mutate({trans:F,type:"delete",keys:[E]}).then(function(W){return Cn(C,[E],W)}).then(function(W){return W.numFailures?An.reject(W.failures[0]):void 0})})},zt.prototype.clear=function(){var E=this;return this._trans("readwrite",function(C){return E.core.mutate({trans:C,type:"deleteRange",range:ce}).then(function(F){return Cn(E,null,F)})}).then(function(C){return C.numFailures?An.reject(C.failures[0]):void 0})},zt.prototype.bulkGet=function(E){var C=this;return this._trans("readonly",function(F){return C.core.getMany({keys:E,trans:F}).then(function(W){return W.map(function(q){return C.hook.reading.fire(q)})})})},zt.prototype.bulkAdd=function(E,C,F){var W=this,q=Array.isArray(C)?C:void 0,oe=(F=F||(q?void 0:C))?F.allKeys:void 0;return this._trans("readwrite",function(Ce){var Be=(tt=W.schema.primKey).auto;if((tt=tt.keyPath)&&q)throw new qe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(q&&q.length!==E.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var et=E.length,tt=tt&&Be?E.map(H(tt)):E;return W.core.mutate({trans:Ce,type:"add",keys:q,values:tt,wantResults:oe}).then(function(yt){var je=yt.numFailures,Et=yt.results,st=yt.lastResult;if(yt=yt.failures,0===je)return oe?Et:st;throw new Ve("".concat(W.name,".bulkAdd(): ").concat(je," of ").concat(et," operations failed"),yt)})})},zt.prototype.bulkPut=function(E,C,F){var W=this,q=Array.isArray(C)?C:void 0,oe=(F=F||(q?void 0:C))?F.allKeys:void 0;return this._trans("readwrite",function(Ce){var Be=(tt=W.schema.primKey).auto;if((tt=tt.keyPath)&&q)throw new qe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(q&&q.length!==E.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var et=E.length,tt=tt&&Be?E.map(H(tt)):E;return W.core.mutate({trans:Ce,type:"put",keys:q,values:tt,wantResults:oe}).then(function(yt){var je=yt.numFailures,Et=yt.results,st=yt.lastResult;if(yt=yt.failures,0===je)return oe?Et:st;throw new Ve("".concat(W.name,".bulkPut(): ").concat(je," of ").concat(et," operations failed"),yt)})})},zt.prototype.bulkUpdate=function(E){var C=this,F=this.core,W=E.map(function(Ce){return Ce.key}),q=E.map(function(Ce){return Ce.changes}),oe=[];return this._trans("readwrite",function(Ce){return F.getMany({trans:Ce,keys:W,cache:"clone"}).then(function(Be){var et=[],tt=[];E.forEach(function(je,Et){var st=je.key,yt=je.changes,ut=Be[Et];if(ut){for(var wt=0,xt=Object.keys(yt);wt<xt.length;wt++){var Gt=xt[wt],pn=yt[Gt];if(Gt===C.schema.primKey.keyPath){if(0!==te(pn,st))throw new qe.Constraint("Cannot update primary key in bulkUpdate()")}else Ut(ut,Gt,pn)}oe.push(Et),et.push(st),tt.push(ut)}});var _t=et.length;return F.mutate({trans:Ce,type:"put",keys:et,values:tt,updates:{keys:W,changeSpecs:q}}).then(function(je){var Et=je.numFailures,st=je.failures;if(0===Et)return _t;for(var yt=0,ut=Object.keys(st);yt<ut.length;yt++){var wt,xt=ut[yt],Gt=oe[Number(xt)];null!=Gt&&(wt=st[xt],delete st[xt],st[Gt]=wt)}throw new Ve("".concat(C.name,".bulkUpdate(): ").concat(Et," of ").concat(_t," operations failed"),st)})})})},zt.prototype.bulkDelete=function(E){var C=this,F=E.length;return this._trans("readwrite",function(W){return C.core.mutate({trans:W,type:"delete",keys:E}).then(function(q){return Cn(C,E,q)})}).then(function(Ce){var q=Ce.numFailures,oe=Ce.lastResult;if(Ce=Ce.failures,0===q)return oe;throw new Ve("".concat(C.name,".bulkDelete(): ").concat(q," of ").concat(F," operations failed"),Ce)})},zt);function zt(){}function fi(E){function C(Ce,Be){if(Be){for(var et=arguments.length,tt=new Array(et-1);--et;)tt[et-1]=arguments[et];return F[Ce].subscribe.apply(null,tt),E}if("string"==typeof Ce)return F[Ce]}var F={};C.addEventType=oe;for(var W=1,q=arguments.length;W<q;++W)oe(arguments[W]);return C;function oe(Ce,Be,et){if("object"!=typeof Ce){var tt;Be=Be||Xr;var _t={subscribers:[],fire:et=et||sn,subscribe:function(je){-1===_t.subscribers.indexOf(je)&&(_t.subscribers.push(je),_t.fire=Be(_t.fire,je))},unsubscribe:function(je){_t.subscribers=_t.subscribers.filter(function(Et){return Et!==je}),_t.fire=_t.subscribers.reduce(Be,et)}};return F[Ce]=C[Ce]=_t}ee(tt=Ce).forEach(function(je){var Et=tt[je];if(Re(Et))oe(je,tt[je][0],tt[je][1]);else{if("asap"!==Et)throw new qe.InvalidArgument("Invalid event config");var st=oe(je,ur,function(){for(var yt=arguments.length,ut=new Array(yt);yt--;)ut[yt]=arguments[yt];st.subscribers.forEach(function(wt){dn(function(){wt.apply(null,ut)})})})}})}}function Gi(E,C){return lt(C).from({prototype:E}),C}function Pe(E,C){return!(E.filter||E.algorithm||E.or)&&(C?E.justLimit:!E.replayFilter)}function Qe(E,C){E.filter=Yn(E.filter,C)}function Pt(E,C,F){var W=E.replayFilter;E.replayFilter=W?function(){return Yn(W(),C())}:C,E.justLimit=F&&!W}function fn(E,C){if(E.isPrimKey)return C.primaryKey;var F=C.getIndexByKeyPath(E.index);if(!F)throw new qe.Schema("KeyPath "+E.index+" on object store "+C.name+" is not indexed");return F}function In(E,C,F){var W=fn(E,C.schema);return C.openCursor({trans:F,values:!E.keysOnly,reverse:"prev"===E.dir,unique:!!E.unique,query:{index:W,range:E.range}})}function En(E,C,F,W){var q=E.replayFilter?Yn(E.filter,E.replayFilter()):E.filter;if(E.or){var oe={},Ce=function(Be,et,tt){var _t,je;q&&!q(et,tt,function(Et){return et.stop(Et)},function(Et){return et.fail(Et)})||("[object ArrayBuffer]"==(je=""+(_t=et.primaryKey))&&(je=""+new Uint8Array(_t)),De(oe,je)||(oe[je]=!0,C(Be,et,tt)))};return Promise.all([E.or._iterate(Ce,F),Gr(In(E,W,F),E.algorithm,Ce,!E.keysOnly&&E.valueMapper)])}return Gr(In(E,W,F),Yn(E.algorithm,q),C,!E.keysOnly&&E.valueMapper)}function Gr(E,C,F,W){var q=an(W?function(oe,Ce,Be){return F(W(oe),Ce,Be)}:F);return E.then(function(oe){if(oe)return oe.start(function(){var Ce=function(){return oe.continue()};C&&!C(oe,function(Be){return Ce=Be},function(Be){oe.stop(Be),Ce=sn},function(Be){oe.fail(Be),Ce=sn})||q(oe.value,oe,function(Be){return Ce=Be}),Ce()})})}var Sr=(Tn.prototype.execute=function(E){var C=this["@@propmod"];if(void 0!==C.add){var F=C.add;if(Re(F))return w(w([],Re(E)?E:[],!0),F,!0).sort();if("number"==typeof F)return(Number(E)||0)+F;if("bigint"==typeof F)try{return BigInt(E)+F}catch{return BigInt(0)+F}throw new TypeError("Invalid term ".concat(F))}if(void 0!==C.remove){var W=C.remove;if(Re(W))return Re(E)?E.filter(function(q){return!W.includes(q)}).sort():[];if("number"==typeof W)return Number(E)-W;if("bigint"==typeof W)try{return BigInt(E)-W}catch{return BigInt(0)-W}throw new TypeError("Invalid subtrahend ".concat(W))}return(F=null===(F=C.replacePrefix)||void 0===F?void 0:F[0])&&"string"==typeof E&&E.startsWith(F)?C.replacePrefix[1]+E.substring(F.length):E},Tn);function Tn(E){this["@@propmod"]=E}var ji=(mi.prototype._read=function(E,C){var F=this._ctx;return F.error?F.table._trans(null,xr.bind(null,F.error)):F.table._trans("readonly",E).then(C)},mi.prototype._write=function(E){var C=this._ctx;return C.error?C.table._trans(null,xr.bind(null,C.error)):C.table._trans("readwrite",E,"locked")},mi.prototype._addAlgorithm=function(E){var C=this._ctx;C.algorithm=Yn(C.algorithm,E)},mi.prototype._iterate=function(E,C){return En(this._ctx,E,C,this._ctx.table.core)},mi.prototype.clone=function(E){var C=Object.create(this.constructor.prototype),F=Object.create(this._ctx);return E&&re(F,E),C._ctx=F,C},mi.prototype.raw=function(){return this._ctx.valueMapper=null,this},mi.prototype.each=function(E){var C=this._ctx;return this._read(function(F){return En(C,E,F,C.table.core)})},mi.prototype.count=function(E){var C=this;return this._read(function(F){var W=C._ctx,q=W.table.core;if(Pe(W,!0))return q.count({trans:F,query:{index:fn(W,q.schema),range:W.range}}).then(function(Ce){return Math.min(Ce,W.limit)});var oe=0;return En(W,function(){return++oe,!1},F,q).then(function(){return oe})}).then(E)},mi.prototype.sortBy=function(E,C){var F=E.split(".").reverse(),W=F[0],q=F.length-1;function oe(et,tt){return tt?oe(et[F[tt]],tt-1):et[W]}var Ce="next"===this._ctx.dir?1:-1;function Be(et,tt){return te(oe(et,q),oe(tt,q))*Ce}return this.toArray(function(et){return et.sort(Be)}).then(C)},mi.prototype.toArray=function(E){var C=this;return this._read(function(F){var W=C._ctx;if("next"===W.dir&&Pe(W,!0)&&0<W.limit){var q=W.valueMapper,oe=fn(W,W.table.core.schema);return W.table.core.query({trans:F,limit:W.limit,values:!0,query:{index:oe,range:W.range}}).then(function(Be){return Be=Be.result,q?Be.map(q):Be})}var Ce=[];return En(W,function(Be){return Ce.push(Be)},F,W.table.core).then(function(){return Ce})},E)},mi.prototype.offset=function(E){var C=this._ctx;return E<=0||(C.offset+=E,Pe(C)?Pt(C,function(){var F=E;return function(W,q){return 0===F||(1===F?--F:q(function(){W.advance(F),F=0}),!1)}}):Pt(C,function(){var F=E;return function(){return--F<0}})),this},mi.prototype.limit=function(E){return this._ctx.limit=Math.min(this._ctx.limit,E),Pt(this._ctx,function(){var C=E;return function(F,W,q){return--C<=0&&W(q),0<=C}},!0),this},mi.prototype.until=function(E,C){return Qe(this._ctx,function(F,W,q){return!E(F.value)||(W(q),C)}),this},mi.prototype.first=function(E){return this.limit(1).toArray(function(C){return C[0]}).then(E)},mi.prototype.last=function(E){return this.reverse().first(E)},mi.prototype.filter=function(E){var C;return Qe(this._ctx,function(F){return E(F.value)}),(C=this._ctx).isMatch=Yn(C.isMatch,E),this},mi.prototype.and=function(E){return this.filter(E)},mi.prototype.or=function(E){return new this.db.WhereClause(this._ctx.table,E,this)},mi.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},mi.prototype.desc=function(){return this.reverse()},mi.prototype.eachKey=function(E){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(F,W){E(W.key,W)})},mi.prototype.eachUniqueKey=function(E){return this._ctx.unique="unique",this.eachKey(E)},mi.prototype.eachPrimaryKey=function(E){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(F,W){E(W.primaryKey,W)})},mi.prototype.keys=function(E){var C=this._ctx;C.keysOnly=!C.isMatch;var F=[];return this.each(function(W,q){F.push(q.key)}).then(function(){return F}).then(E)},mi.prototype.primaryKeys=function(E){var C=this._ctx;if("next"===C.dir&&Pe(C,!0)&&0<C.limit)return this._read(function(W){var q=fn(C,C.table.core.schema);return C.table.core.query({trans:W,values:!1,limit:C.limit,query:{index:q,range:C.range}})}).then(function(W){return W.result}).then(E);C.keysOnly=!C.isMatch;var F=[];return this.each(function(W,q){F.push(q.primaryKey)}).then(function(){return F}).then(E)},mi.prototype.uniqueKeys=function(E){return this._ctx.unique="unique",this.keys(E)},mi.prototype.firstKey=function(E){return this.limit(1).keys(function(C){return C[0]}).then(E)},mi.prototype.lastKey=function(E){return this.reverse().firstKey(E)},mi.prototype.distinct=function(){var E;if(!(E=(E=this._ctx).index&&E.table.schema.idxByName[E.index])||!E.multi)return this;var C={};return Qe(this._ctx,function(q){var W=q.primaryKey.toString();return q=De(C,W),C[W]=!0,!q}),this},mi.prototype.modify=function(E){var C=this,F=this._ctx;return this._write(function(W){var q,oe,Ce;Ce="function"==typeof E?E:(q=ee(E),oe=q.length,function(xt){for(var Gt=!1,pn=0;pn<oe;++pn){var tn=q[pn],xn=E[tn],zn=Kt(xt,tn);xn instanceof Sr?(Ut(xt,tn,xn.execute(zn)),Gt=!0):zn!==xn&&(Ut(xt,tn,xn),Gt=!0)}return Gt});var je,Be=F.table.core,et=(je=Be.schema.primaryKey).outbound,tt=je.extractKey,_t=200;function Et(xt,tn){var pn=tn.failures;yt+=xt-(tn=tn.numFailures);for(var xn=0,zn=ee(pn);xn<zn.length;xn++)st.push(pn[zn[xn]])}(je=C.db._options.modifyChunkSize)&&(_t="object"==typeof je?je[Be.name]||je["*"]||200:je);var st=[],yt=0,ut=[],wt=E===ls;return C.clone().primaryKeys().then(function(xt){var pn=Pe(F)&&F.limit===1/0&&("function"!=typeof E||wt)&&{index:F.index,range:F.range};return function Gt(tn){var xn=Math.min(_t,xt.length-tn),zn=xt.slice(tn,tn+xn);return(wt?Promise.resolve([]):Be.getMany({trans:W,keys:zn,cache:"immutable"})).then(function(Gn){var Fn=[],dr=[],ir=et?[]:null,yn=wt?zn:[];if(!wt)for(var qt=0;qt<xn;++qt){var Ln=Gn[qt],Rr={value:Rt(Ln),primKey:xt[tn+qt]};!1!==Ce.call(Rr,Rr.value,Rr)&&(null==Rr.value?yn.push(xt[tn+qt]):et||0===te(tt(Ln),tt(Rr.value))?(dr.push(Rr.value),et&&ir.push(xt[tn+qt])):(yn.push(xt[tn+qt]),Fn.push(Rr.value)))}return Promise.resolve(0<Fn.length&&Be.mutate({trans:W,type:"add",values:Fn}).then(function(Ri){for(var Hn in Ri.failures)yn.splice(parseInt(Hn),1);Et(Fn.length,Ri)})).then(function(){return(0<dr.length||pn&&"object"==typeof E)&&Be.mutate({trans:W,type:"put",keys:ir,values:dr,criteria:pn,changeSpec:"function"!=typeof E&&E,isAdditionalChunk:0<tn}).then(function(Ri){return Et(dr.length,Ri)})}).then(function(){return(0<yn.length||pn&&wt)&&Be.mutate({trans:W,type:"delete",keys:yn,criteria:pn,isAdditionalChunk:0<tn}).then(function(Ri){return Cn(F.table,yn,Ri)}).then(function(Ri){return Et(yn.length,Ri)})}).then(function(){return xt.length>tn+xn&&Gt(tn+_t)})})}(0).then(function(){if(0<st.length)throw new Le("Error modifying one or more objects",st,yt,ut);return xt.length})})})},mi.prototype.delete=function(){var E=this._ctx,C=E.range;return!Pe(E)||E.table.schema.yProps||!E.isPrimKey&&3!==C.type?this.modify(ls):this._write(function(F){var q=C;return E.table.core.count({trans:F,query:{index:E.table.core.schema.primaryKey,range:q}}).then(function(oe){return E.table.core.mutate({trans:F,type:"deleteRange",range:q}).then(function(et){var Be=et.failures;if(et=et.numFailures)throw new Le("Could not delete some values",Object.keys(Be).map(function(tt){return Be[tt]}),oe-et);return oe-et})})})},mi);function mi(){}var ls=function(E,C){return C.value=null};function ks(E,C){return E<C?-1:E===C?0:1}function Qs(E,C){return C<E?-1:E===C?0:1}function ms(E,C,F){return(E=E instanceof ge?new E.Collection(E):E)._ctx.error=new(F||TypeError)(C),E}function jr(E){return new E.Collection(E,function(){return ie("")}).limit(0)}function K(E,C,F,W){var q,oe,Ce,Be,et,tt,_t,je=F.length;if(!F.every(function(yt){return"string"==typeof yt}))return ms(E,fe);function Et(yt){q="next"===yt?function(wt){return wt.toUpperCase()}:function(wt){return wt.toLowerCase()},oe="next"===yt?function(wt){return wt.toLowerCase()}:function(wt){return wt.toUpperCase()},Ce="next"===yt?ks:Qs;var ut=F.map(function(wt){return{lower:oe(wt),upper:q(wt)}}).sort(function(wt,xt){return Ce(wt.lower,xt.lower)});Be=ut.map(function(wt){return wt.upper}),et=ut.map(function(wt){return wt.lower}),_t="next"===(tt=yt)?"":W}Et("next"),(E=new E.Collection(E,function(){return Ee(Be[0],et[je-1]+W)}))._ondirectionchange=function(yt){Et(yt)};var st=0;return E._addAlgorithm(function(yt,ut,wt){var xt=yt.key;if("string"!=typeof xt)return!1;var Gt=oe(xt);if(C(Gt,et,st))return!0;for(var pn=null,tn=st;tn<je;++tn){var xn=function(zn,Gn,Fn,dr,ir,yn){for(var qt=Math.min(zn.length,dr.length),Ln=-1,Rr=0;Rr<qt;++Rr){var Ri=Gn[Rr];if(Ri!==dr[Rr])return ir(zn[Rr],Fn[Rr])<0?zn.substr(0,Rr)+Fn[Rr]+Fn.substr(Rr+1):ir(zn[Rr],dr[Rr])<0?zn.substr(0,Rr)+dr[Rr]+Fn.substr(Rr+1):0<=Ln?zn.substr(0,Ln)+Gn[Ln]+Fn.substr(Ln+1):null;ir(zn[Rr],Ri)<0&&(Ln=Rr)}return qt<dr.length&&"next"===yn?zn+Fn.substr(zn.length):qt<zn.length&&"prev"===yn?zn.substr(0,Fn.length):Ln<0?null:zn.substr(0,Ln)+dr[Ln]+Fn.substr(Ln+1)}(xt,Gt,Be[tn],et[tn],Ce,tt);null===xn&&null===pn?st=tn+1:(null===pn||0<Ce(pn,xn))&&(pn=xn)}return ut(null!==pn?function(){yt.continue(pn+_t)}:wt),!1}),E}function Ee(E,C,F,W){return{type:2,lower:E,upper:C,lowerOpen:F,upperOpen:W}}function ie(E){return{type:1,lower:E,upper:E}}var ge=(Object.defineProperty(ke.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ke.prototype.between=function(E,C,F,W){F=!1!==F,W=!0===W;try{return 0<this._cmp(E,C)||0===this._cmp(E,C)&&(F||W)&&(!F||!W)?jr(this):new this.Collection(this,function(){return Ee(E,C,!F,!W)})}catch{return ms(this,Z)}},ke.prototype.equals=function(E){return null==E?ms(this,Z):new this.Collection(this,function(){return ie(E)})},ke.prototype.above=function(E){return null==E?ms(this,Z):new this.Collection(this,function(){return Ee(E,void 0,!0)})},ke.prototype.aboveOrEqual=function(E){return null==E?ms(this,Z):new this.Collection(this,function(){return Ee(E,void 0,!1)})},ke.prototype.below=function(E){return null==E?ms(this,Z):new this.Collection(this,function(){return Ee(void 0,E,!1,!0)})},ke.prototype.belowOrEqual=function(E){return null==E?ms(this,Z):new this.Collection(this,function(){return Ee(void 0,E)})},ke.prototype.startsWith=function(E){return"string"!=typeof E?ms(this,fe):this.between(E,E+"\uffff",!0,!0)},ke.prototype.startsWithIgnoreCase=function(E){return""===E?this.startsWith(E):K(this,function(C,F){return 0===C.indexOf(F[0])},[E],"\uffff")},ke.prototype.equalsIgnoreCase=function(E){return K(this,function(C,F){return C===F[0]},[E],"")},ke.prototype.anyOfIgnoreCase=function(){var E=Nr.apply(Wr,arguments);return 0===E.length?jr(this):K(this,function(C,F){return-1!==F.indexOf(C)},E,"")},ke.prototype.startsWithAnyOfIgnoreCase=function(){var E=Nr.apply(Wr,arguments);return 0===E.length?jr(this):K(this,function(C,F){return F.some(function(W){return 0===C.indexOf(W)})},E,"\uffff")},ke.prototype.anyOf=function(){var E=this,C=Nr.apply(Wr,arguments),F=this._cmp;try{C.sort(F)}catch{return ms(this,Z)}if(0===C.length)return jr(this);var W=new this.Collection(this,function(){return Ee(C[0],C[C.length-1])});W._ondirectionchange=function(oe){C.sort(F="next"===oe?E._ascending:E._descending)};var q=0;return W._addAlgorithm(function(oe,Ce,Be){for(var et=oe.key;0<F(et,C[q]);)if(++q===C.length)return Ce(Be),!1;return 0===F(et,C[q])||(Ce(function(){oe.continue(C[q])}),!1)}),W},ke.prototype.notEqual=function(E){return this.inAnyRange([[-1/0,E],[E,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ke.prototype.noneOf=function(){var E=Nr.apply(Wr,arguments);if(0===E.length)return new this.Collection(this);try{E.sort(this._ascending)}catch{return ms(this,Z)}var C=E.reduce(function(F,W){return F?F.concat([[F[F.length-1][1],W]]):[[-1/0,W]]},null);return C.push([E[E.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},ke.prototype.inAnyRange=function(xt,C){var F=this,W=this._cmp,q=this._ascending,oe=this._descending,Ce=this._min,Be=this._max;if(0===xt.length)return jr(this);if(!xt.every(function(Gt){return void 0!==Gt[0]&&void 0!==Gt[1]&&q(Gt[0],Gt[1])<=0}))return ms(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",qe.InvalidArgument);var _t,et=!C||!1!==C.includeLowers,tt=C&&!0===C.includeUppers,je=q;function Et(Gt,pn){return je(Gt[0],pn[0])}try{(_t=xt.reduce(function(Gt,pn){for(var tn=0,xn=Gt.length;tn<xn;++tn){var zn=Gt[tn];if(W(pn[0],zn[1])<0&&0<W(pn[1],zn[0])){zn[0]=Ce(zn[0],pn[0]),zn[1]=Be(zn[1],pn[1]);break}}return tn===xn&&Gt.push(pn),Gt},[])).sort(Et)}catch{return ms(this,Z)}var st=0,yt=tt?function(Gt){return 0<q(Gt,_t[st][1])}:function(Gt){return 0<=q(Gt,_t[st][1])},ut=et?function(Gt){return 0<oe(Gt,_t[st][0])}:function(Gt){return 0<=oe(Gt,_t[st][0])},wt=yt;return(xt=new this.Collection(this,function(){return Ee(_t[0][0],_t[_t.length-1][1],!et,!tt)}))._ondirectionchange=function(Gt){je="next"===Gt?(wt=yt,q):(wt=ut,oe),_t.sort(Et)},xt._addAlgorithm(function(Gt,pn,tn){for(var xn,zn=Gt.key;wt(zn);)if(++st===_t.length)return pn(tn),!1;return!yt(xn=zn)&&!ut(xn)||(0===F._cmp(zn,_t[st][1])||0===F._cmp(zn,_t[st][0])||pn(function(){Gt.continue(je===q?_t[st][0]:_t[st][1])}),!1)}),xt},ke.prototype.startsWithAnyOf=function(){var E=Nr.apply(Wr,arguments);return E.every(function(C){return"string"==typeof C})?0===E.length?jr(this):this.inAnyRange(E.map(function(C){return[C,C+"\uffff"]})):ms(this,"startsWithAnyOf() only works with strings")},ke);function ke(){}function bt(E){return an(function(C){return Bt(C),E(C.target.error),!1})}function Bt(E){E.stopPropagation&&E.stopPropagation(),E.preventDefault&&E.preventDefault()}var hr="storagemutated",_r="x-storagemutated-1",oi=fi(null,hr),li=(zr.prototype._lock=function(){return hn(!Nn.global),++this._reculock,1!==this._reculock||Nn.global||(Nn.lockOwnerFor=this),this},zr.prototype._unlock=function(){if(hn(!Nn.global),0==--this._reculock)for(Nn.global||(Nn.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var E=this._blockedFuncs.shift();try{Oe(E[1],E[0])}catch{}}return this},zr.prototype._locked=function(){return this._reculock&&Nn.lockOwnerFor!==this},zr.prototype.create=function(E){var C=this;if(!this.mode)return this;var F=this.db.idbdb,W=this.db._state.dbOpenError;if(hn(!this.idbtrans),!E&&!F)switch(W&&W.name){case"DatabaseClosedError":throw new qe.DatabaseClosed(W);case"MissingAPIError":throw new qe.MissingAPI(W.message,W);default:throw new qe.OpenFailed(W)}if(!this.active)throw new qe.TransactionInactive;return hn(null===this._completion._state),(E=this.idbtrans=E||(this.db.core||F).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=an(function(q){Bt(q),C._reject(E.error)}),E.onabort=an(function(q){Bt(q),C.active&&C._reject(new qe.Abort(E.error)),C.active=!1,C.on("abort").fire(q)}),E.oncomplete=an(function(){C.active=!1,C._resolve(),"mutatedParts"in E&&oi.storagemutated.fire(E.mutatedParts)}),this},zr.prototype._promise=function(E,C,F){var W=this;if("readwrite"===E&&"readwrite"!==this.mode)return xr(new qe.ReadOnly("Transaction is readonly"));if(!this.active)return xr(new qe.TransactionInactive);if(this._locked())return new An(function(oe,Ce){W._blockedFuncs.push([function(){W._promise(E,C,F).then(oe,Ce)},Nn])});if(F)return Br(function(){var oe=new An(function(Ce,Be){W._lock();var et=C(Ce,Be,W);et&&et.then&&et.then(Ce,Be)});return oe.finally(function(){return W._unlock()}),oe._lib=!0,oe});var q=new An(function(oe,Ce){var Be=C(oe,Ce,W);Be&&Be.then&&Be.then(oe,Ce)});return q._lib=!0,q},zr.prototype._root=function(){return this.parent?this.parent._root():this},zr.prototype.waitFor=function(E){var C,F=this._root(),W=An.resolve(E);F._waitingFor?F._waitingFor=F._waitingFor.then(function(){return W}):(F._waitingFor=W,F._waitingQueue=[],C=F.idbtrans.objectStore(F.storeNames[0]),function oe(){for(++F._spinCount;F._waitingQueue.length;)F._waitingQueue.shift()();F._waitingFor&&(C.get(-1/0).onsuccess=oe)}());var q=F._waitingFor;return new An(function(oe,Ce){W.then(function(Be){return F._waitingQueue.push(an(oe.bind(null,Be)))},function(Be){return F._waitingQueue.push(an(Ce.bind(null,Be)))}).finally(function(){F._waitingFor===q&&(F._waitingFor=null)})})},zr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new qe.Abort))},zr.prototype.table=function(E){var C=this._memoizedTables||(this._memoizedTables={});if(De(C,E))return C[E];var F=this.schema[E];if(!F)throw new qe.NotFound("Table "+E+" not part of transaction");return(F=new this.db.Table(E,F,this)).core=this.db.core.table(E),C[E]=F},zr);function zr(){}function Jn(E,C,F,W,q,oe,Ce,Be){return{name:E,keyPath:C,unique:F,multi:W,auto:q,compound:oe,src:(F&&!Ce?"&":"")+(W?"*":"")+(q?"++":"")+vi(C),type:Be}}function vi(E){return"string"==typeof E?E:E?"["+[].join.call(E,"+")+"]":""}function wi(E,C,F){return{name:E,primKey:C,indexes:F,mappedClass:null,idxByName:(W=function(q){return[q.name,q]},F.reduce(function(q,oe,Ce){return(Ce=W(oe))&&(q[Ce[0]]=Ce[1]),q},{}))};var W}var Mi=function(E){try{return E.only([[]]),Mi=function(){return[[]]},[[]]}catch{return Mi=function(){return"\uffff"},"\uffff"}};function Os(E){return null==E?function(){}:"string"==typeof E?1===(C=E).split(".").length?function(F){return F[C]}:function(F){return Kt(F,C)}:function(F){return Kt(F,E)};var C}function ds(E){return[].slice.call(E)}var we=0;function Ct(E){return null==E?":id":"string"==typeof E?E:"[".concat(E.join("+"),"]")}function Ke(E,C,et){function W(wt){if(3===wt.type)return null;if(4===wt.type)throw new Error("Cannot convert never type to IDBKeyRange");var st=wt.lower,yt=wt.upper,ut=wt.lowerOpen;return wt=wt.upperOpen,void 0===st?void 0===yt?null:C.upperBound(yt,!!wt):void 0===yt?C.lowerBound(st,!!ut):C.bound(st,yt,!!ut,!!wt)}var oe,Ce,Be,tt=(Ce=et,Be=ds((oe=E).objectStoreNames),_t={schema:{name:oe.name,tables:Be.map(function(Et){return Ce.objectStore(Et)}).map(function(Et){var st=Et.keyPath,wt=Et.autoIncrement,yt=Re(st),ut={};return wt={name:Et.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==st,compound:yt,keyPath:st,autoIncrement:wt,unique:!0,extractKey:Os(st)},indexes:ds(Et.indexNames).map(function(xt){return Et.index(xt)}).map(function(tn){var pn=tn.unique,xn=tn.multiEntry;return xn={name:tn.name,compound:Re(tn=tn.keyPath),keyPath:tn,unique:pn,multiEntry:xn,extractKey:Os(tn)},ut[Ct(tn)]=xn}),getIndexByKeyPath:function(xt){return ut[Ct(xt)]}},ut[":id"]=wt.primaryKey,null!=st&&(ut[Ct(st)]=wt.primaryKey),wt})},hasGetAll:0<Be.length&&"getAll"in Ce.objectStore(Be[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,_t=(et=_t.schema).tables.map(function q(Et){var st,yt=Et.name;return{name:yt,schema:Et,mutate:function(ut){var wt=ut.trans,xt=ut.type,Gt=ut.keys,pn=ut.values,tn=ut.range;return new Promise(function(xn,zn){xn=an(xn);var Gn=wt.objectStore(yt),Fn=null==Gn.keyPath,dr="put"===xt||"add"===xt;if(!dr&&"delete"!==xt&&"deleteRange"!==xt)throw new Error("Invalid operation type: "+xt);var ir,yn=(Gt||pn||{length:1}).length;if(Gt&&pn&&Gt.length!==pn.length)throw new Error("Given keys array must have same length as given values array.");if(0===yn)return xn({numFailures:0,failures:{},results:[],lastResult:void 0});function qt(ri){++Ri,Bt(ri)}var Ln=[],Rr=[],Ri=0;if("deleteRange"===xt){if(4===tn.type)return xn({numFailures:Ri,failures:Rr,results:[],lastResult:void 0});Ln.push(ir=3===tn.type?Gn.clear():Gn.delete(W(tn)))}else{var Hn=(Fn=dr?Fn?[pn,Gt]:[pn,null]:[Gt,null])[0],Fi=Fn[1];if(dr)for(var _i=0;_i<yn;++_i)Ln.push(ir=Fi&&void 0!==Fi[_i]?Gn[xt](Hn[_i],Fi[_i]):Gn[xt](Hn[_i])),ir.onerror=qt;else for(_i=0;_i<yn;++_i)Ln.push(ir=Gn[xt](Hn[_i])),ir.onerror=qt}function Lr(ri){ri=ri.target.result,Ln.forEach(function(ps,Dr){return null!=ps.error&&(Rr[Dr]=ps.error)}),xn({numFailures:Ri,failures:Rr,results:"delete"===xt?Gt:Ln.map(function(ps){return ps.result}),lastResult:ri})}ir.onerror=function(ri){qt(ri),Lr(ri)},ir.onsuccess=Lr})},getMany:function(ut){var wt=ut.trans,xt=ut.keys;return new Promise(function(Gt,pn){Gt=an(Gt);for(var tn,xn=wt.objectStore(yt),zn=xt.length,Gn=new Array(zn),Fn=0,dr=0,ir=function(Ln){Gn[(Ln=Ln.target)._pos]=Ln.result,++dr===Fn&&Gt(Gn)},yn=bt(pn),qt=0;qt<zn;++qt)null!=xt[qt]&&((tn=xn.get(xt[qt]))._pos=qt,tn.onsuccess=ir,tn.onerror=yn,++Fn);0===Fn&&Gt(Gn)})},get:function(ut){var wt=ut.trans,xt=ut.key;return new Promise(function(Gt,pn){Gt=an(Gt);var tn=wt.objectStore(yt).get(xt);tn.onsuccess=function(xn){return Gt(xn.target.result)},tn.onerror=bt(pn)})},query:(st=tt,function(ut){return new Promise(function(wt,xt){wt=an(wt);var Gt,pn,tn,xn=ut.values,zn=ut.limit,Gn=zn===1/0?void 0:zn,dr=(ir=ut.query).index,ir=ir.range,Fn=(Fn=ut.trans).objectStore(yt);if(dr=dr.isPrimaryKey?Fn:Fn.index(dr.name),ir=W(ir),0===zn)return wt({result:[]});st?((Gn=xn?dr.getAll(ir,Gn):dr.getAllKeys(ir,Gn)).onsuccess=function(yn){return wt({result:yn.target.result})},Gn.onerror=bt(xt)):(Gt=0,pn=!xn&&"openKeyCursor"in dr?dr.openKeyCursor(ir):dr.openCursor(ir),tn=[],pn.onsuccess=function(yn){var qt=pn.result;return qt?(tn.push(xn?qt.value:qt.primaryKey),++Gt===zn?wt({result:tn}):void qt.continue()):wt({result:tn})},pn.onerror=bt(xt))})}),openCursor:function(ut){var wt=ut.trans,xt=ut.values,Gt=ut.query,pn=ut.reverse,tn=ut.unique;return new Promise(function(xn,zn){xn=an(xn);var dr=Gt.index,Gn=Gt.range,Fn=wt.objectStore(yt),ir=(Fn=dr.isPrimaryKey?Fn:Fn.index(dr.name),dr=pn?tn?"prevunique":"prev":tn?"nextunique":"next",!xt&&"openKeyCursor"in Fn?Fn.openKeyCursor(W(Gn),dr):Fn.openCursor(W(Gn),dr));ir.onerror=bt(zn),ir.onsuccess=an(function(yn){var qt,Ln,Rr,Ri,Hn=ir.result;Hn?(Hn.___id=++we,Hn.done=!1,qt=Hn.continue.bind(Hn),Ln=(Ln=Hn.continuePrimaryKey)&&Ln.bind(Hn),Rr=Hn.advance.bind(Hn),Ri=function(){throw new Error("Cursor not stopped")},Hn.trans=wt,Hn.stop=Hn.continue=Hn.continuePrimaryKey=Hn.advance=function(){throw new Error("Cursor not started")},Hn.fail=an(zn),Hn.next=function(){var Fi=this,_i=1;return this.start(function(){return _i--?Fi.continue():Fi.stop()}).then(function(){return Fi})},Hn.start=function(Fi){function _i(){if(ir.result)try{Fi()}catch(ri){Hn.fail(ri)}else Hn.done=!0,Hn.start=function(){throw new Error("Cursor behind last entry")},Hn.stop()}var Lr=new Promise(function(ri,ps){ri=an(ri),ir.onerror=bt(ps),Hn.fail=ps,Hn.stop=function(Dr){Hn.stop=Hn.continue=Hn.continuePrimaryKey=Hn.advance=Ri,ri(Dr)}});return ir.onsuccess=an(function(ri){ir.onsuccess=_i,_i()}),Hn.continue=qt,Hn.continuePrimaryKey=Ln,Hn.advance=Rr,_i(),Lr},xn(Hn)):xn(null)},zn)})},count:function(ut){var wt=ut.query,xt=ut.trans,Gt=wt.index,pn=wt.range;return new Promise(function(tn,xn){var zn=xt.objectStore(yt),Gn=Gt.isPrimaryKey?zn:zn.index(Gt.name);(Gn=(zn=W(pn))?Gn.count(zn):Gn.count()).onsuccess=an(function(Fn){return tn(Fn.target.result)}),Gn.onerror=bt(xn)})}}}),je={};return _t.forEach(function(Et){return je[Et.name]=Et}),{stack:"dbcore",transaction:E.transaction.bind(E),table:function(Et){if(!je[Et])throw new Error("Table '".concat(Et,"' not found"));return je[Et]},MIN_KEY:-1/0,MAX_KEY:Mi(C),schema:et}}function Dn(E,W){W=function Mt(E,C,F,W){return{dbcore:(W=Ke(C,F.IDBKeyRange,W),E.dbcore.reduce(function(oe,Ce){return Ce=Ce.create,B(B({},oe),Ce(oe))},W))}}(E._middlewares,W.db,E._deps,W),E.core=W.dbcore,E.tables.forEach(function(q){var oe=q.name;E.core.schema.tables.some(function(Ce){return Ce.name===oe})&&(q.core=E.core.table(oe),E[oe]instanceof E.Table&&(E[oe].core=q.core))})}function xe(E,C,F,W){F.forEach(function(q){var oe=W[q];C.forEach(function(Ce){var Be=function et(tt,_t){return ht(tt,_t)||(tt=ye(tt))&&et(tt,_t)}(Ce,q);(!Be||"value"in Be&&void 0===Be.value)&&(Ce===E.Transaction.prototype||Ce instanceof E.Transaction?Ie(Ce,q,{get:function(){return this.table(q)},set:function(et){ve(this,q,{value:et,writable:!0,configurable:!0,enumerable:!0})}}):Ce[q]=new E.Table(q,oe))})})}function Ir(E,C){C.forEach(function(F){for(var W in F)F[W]instanceof E.Table&&delete F[W]})}function Ni(E,C){return E._cfg.version-C._cfg.version}function rs(E,C){var F,W={del:[],add:[],change:[]};for(F in E)C[F]||W.del.push(F);for(F in C){var q=E[F],oe=C[F];if(q){var Ce={name:F,def:oe,recreate:!1,del:[],add:[],change:[]};if(""+(q.primKey.keyPath||"")!=""+(oe.primKey.keyPath||"")||q.primKey.auto!==oe.primKey.auto)Ce.recreate=!0,W.change.push(Ce);else{var Be=q.idxByName,et=oe.idxByName,tt=void 0;for(tt in Be)et[tt]||Ce.del.push(tt);for(tt in et){var _t=Be[tt],je=et[tt];_t?_t.src!==je.src&&Ce.change.push(je):Ce.add.push(je)}(0<Ce.del.length||0<Ce.add.length||0<Ce.change.length)&&W.change.push(Ce)}}else W.add.push([F,oe])}return W}function fo(E,C,F,W){var q=E.db.createObjectStore(C,F.keyPath?{keyPath:F.keyPath,autoIncrement:F.auto}:{autoIncrement:F.auto});return W.forEach(function(oe){return To(q,oe)}),q}function qn(E,C){ee(E).forEach(function(F){C.db.objectStoreNames.contains(F)||(Jr&&console.debug("Dexie: Creating missing table",F),fo(C,F,E[F].primKey,E[F].indexes))})}function To(E,C){E.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Ls(E,C,F){var W={};return Jt(C.objectStoreNames,0).forEach(function(q){for(var oe=F.objectStore(q),Ce=Jn(vi(tt=oe.keyPath),tt||"",!0,!1,!!oe.autoIncrement,tt&&"string"!=typeof tt,!0),Be=[],et=0;et<oe.indexNames.length;++et){var tt=(_t=oe.index(oe.indexNames[et])).keyPath,_t=Jn(_t.name,tt,!!_t.unique,!!_t.multiEntry,!1,tt&&"string"!=typeof tt,!1);Be.push(_t)}W[q]=wi(q,Ce,Be)}),W}function bo(E,C,F){for(var W=F.db.objectStoreNames,q=0;q<W.length;++q){var oe=W[q],Ce=F.objectStore(oe);E._hasGetAll="getAll"in Ce;for(var Be=0;Be<Ce.indexNames.length;++Be){var et=Ce.indexNames[Be],tt=Ce.index(et).keyPath,_t="string"==typeof tt?tt:"["+Jt(tt).join("+")+"]";!C[oe]||(tt=C[oe].idxByName[_t])&&(tt.name=et,delete C[oe].idxByName[_t],C[oe].idxByName[et]=tt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ne.WorkerGlobalScope&&ne instanceof ne.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(E._hasGetAll=!1)}function wa(E){return E.split(",").map(function(C,F){var W=null===(q=(oe=C.split(":"))[1])||void 0===q?void 0:q.trim(),q=(C=oe[0].trim()).replace(/([&*]|\+\+)/g,""),oe=/^\[/.test(q)?q.match(/^\[(.*)\]$/)[1].split("+"):q;return Jn(q,oe||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),Re(oe),0===F,W)})}var Ho=(eo.prototype._createTableSchema=wi,eo.prototype._parseIndexSyntax=wa,eo.prototype._parseStoresSpec=function(E,C){var F=this;ee(E).forEach(function(W){if(null!==E[W]){var q=F._parseIndexSyntax(E[W]),oe=q.shift();if(!oe)throw new qe.Schema("Invalid schema for table "+W+": "+E[W]);if(oe.unique=!0,oe.multi)throw new qe.Schema("Primary key cannot be multiEntry*");q.forEach(function(Ce){if(Ce.auto)throw new qe.Schema("Only primary key can be marked as autoIncrement (++)");if(!Ce.keyPath)throw new qe.Schema("Index must have a name and cannot be an empty string")}),q=F._createTableSchema(W,oe,q),C[W]=q}})},eo.prototype.stores=function(F){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?re(this._cfg.storesSource,F):F;var W={},q={};return(F=C._versions).forEach(function(oe){re(W,oe._cfg.storesSource),q=oe._cfg.dbschema={},oe._parseStoresSpec(W,q)}),C._dbSchema=q,Ir(C,[C._allTables,C,C.Transaction.prototype]),xe(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],ee(q),q),C._storeNames=ee(q),this},eo.prototype.upgrade=function(E){return this._cfg.contentUpgrade=ni(this._cfg.contentUpgrade||sn,E),this},eo);function eo(){}function Vs(E,C){var F=E._dbNamesDB;return F||(F=E._dbNamesDB=new $s(At,{addons:[],indexedDB:E,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),F.table("dbnames")}function Vi(E){return E&&"function"==typeof E.databases}function Is(E){return Br(function(){return Nn.letThrough=!0,E()})}function yo(E){return!("from"in E)}var Ai=function(E,C){if(!this){var F=new Ai;return E&&"d"in E&&re(F,E),F}re(this,arguments.length?{d:1,from:E,to:1<arguments.length?C:E}:{d:0})};function to(E,C,F){var W=te(C,F);if(!isNaN(W)){if(0<W)throw RangeError();if(yo(E))return re(E,{from:C,to:F,d:1});var q=E.l;if(W=E.r,te(F,E.from)<0)return q?to(q,C,F):E.l={from:C,to:F,d:1,l:null,r:null},Uo(E);if(0<te(C,E.to))return W?to(W,C,F):E.r={from:C,to:F,d:1,l:null,r:null},Uo(E);te(C,E.from)<0&&(E.from=C,E.l=null,E.d=W?W.d+1:1),0<te(F,E.to)&&(E.to=F,E.r=null,E.d=E.l?E.l.d+1:1),F=!E.r,q&&!E.l&&no(E,q),W&&F&&no(E,W)}}function no(E,C){yo(C)||function F(W,et){var oe=et.from,Ce=et.to,Be=et.l;et=et.r,to(W,oe,Ce),Be&&F(W,Be),et&&F(W,et)}(E,C)}function xi(E,C){var F=hs(C),W=F.next();if(W.done)return!1;for(var q=W.value,oe=hs(E),Ce=oe.next(q.from),Be=Ce.value;!W.done&&!Ce.done;){if(te(Be.from,q.to)<=0&&0<=te(Be.to,q.from))return!0;te(q.from,Be.from)<0?q=(W=F.next(Be.from)).value:Be=(Ce=oe.next(q.from)).value}return!1}function hs(E){var C=yo(E)?null:{s:0,n:E};return{next:function(F){for(var W=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,W)for(;C.n.l&&te(F,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!W||te(F,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function Uo(E){var C,F,W=((null===(C=E.r)||void 0===C?void 0:C.d)||0)-((null===(F=E.l)||void 0===F?void 0:F.d)||0),q=1<W?"r":W<-1?"l":"";q&&(C="r"==q?"l":"r",F=B({},E),E.from=(W=E[q]).from,E.to=W.to,E[q]=W[q],F[q]=W[C],(E[C]=F).d=us(F)),E.d=us(E)}function us(F){var C=F.r;return F=F.l,(C?F?Math.max(C.d,F.d):C.d:F?F.d:0)+1}function po(E,C){return ee(C).forEach(function(F){E[F]?no(E[F],C[F]):E[F]=function W(q){var oe,Ce,Be={};for(oe in q)De(q,oe)&&(Be[oe]=!(Ce=q[oe])||"object"!=typeof Ce||pt.has(Ce.constructor)?Ce:W(Ce));return Be}(C[F])}),E}function Zo(E,C){return E.all||C.all||Object.keys(E).some(function(F){return C[F]&&xi(C[F],E[F])})}rt(Ai.prototype,((z={add:function(E){return no(this,E),this},addKey:function(E){return to(this,E,E),this},addKeys:function(E){var C=this;return E.forEach(function(F){return to(C,F,F)}),this},hasKey:function(E){var C=hs(this).next(E).value;return C&&te(C.from,E)<=0&&0<=te(C.to,E)}})[Or]=function(){return hs(this)},z));var Us={},is={},ea=!1;function Ns(E){po(is,E),ea||(ea=!0,setTimeout(function(){ea=!1,wo(is,!(is={}))},0))}function wo(E,C){void 0===C&&(C=!1);var F=new Set;if(E.all)for(var W=0,q=Object.values(Us);W<q.length;W++)As(Ce=q[W],E,F,C);else for(var oe in E){var Ce,Be=/^idb\:\/\/(.*)\/(.*)\//.exec(oe);Be&&(oe=Be[1],Be=Be[2],(Ce=Us["idb://".concat(oe,"/").concat(Be)])&&As(Ce,E,F,C))}F.forEach(function(et){return et()})}function As(E,C,F,W){for(var q=[],oe=0,Ce=Object.entries(E.queries.query);oe<Ce.length;oe++){for(var Be=Ce[oe],et=Be[0],tt=[],_t=0,je=Be[1];_t<je.length;_t++){var Et=je[_t];Zo(C,Et.obsSet)?Et.subscribers.forEach(function(wt){return F.add(wt)}):W&&tt.push(Et)}W&&q.push([et,tt])}if(W)for(var st=0,yt=q;st<yt.length;st++){var ut=yt[st];E.queries.query[et=ut[0]]=tt=ut[1]}}function Di(E){var C=E._state,F=E._deps.indexedDB;if(C.isBeingOpened||E.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?xr(C.dbOpenError):E});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var W=C.openCanceller,q=Math.round(10*E.verno),oe=!1;function Ce(){if(C.openCanceller!==W)throw new qe.DatabaseClosed("db.open() was cancelled")}var et,tt=C.dbReadyResolve,_t=null,je=!1;return An.race([W,(typeof navigator>"u"?An.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Et){function st(){return indexedDB.databases().finally(Et)}et=setInterval(st,100),st()}).finally(function(){return clearInterval(et)}):Promise.resolve()).then(function Be(){return new An(function(Et,st){if(Ce(),!F)throw new qe.MissingAPI;var yt=E.name,ut=C.autoSchema||!q?F.open(yt):F.open(yt,q);if(!ut)throw new qe.MissingAPI;ut.onerror=bt(st),ut.onblocked=an(E._fireOnBlocked),ut.onupgradeneeded=an(function(wt){var xt;_t=ut.transaction,C.autoSchema&&!E._options.allowEmptyDB?(ut.onerror=Bt,_t.abort(),ut.result.close(),(xt=F.deleteDatabase(yt)).onsuccess=xt.onerror=an(function(){st(new qe.NoSuchDatabase("Database ".concat(yt," doesnt exist")))})):(_t.onerror=bt(st),wt=wt.oldVersion>Math.pow(2,62)?0:wt.oldVersion,je=wt<1,E.idbdb=ut.result,oe&&function Fa(E,C){qn(E._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var F=Ls(0,E.idbdb,C);bo(E,E._dbSchema,C);for(var W=0,q=rs(F,E._dbSchema).change;W<q.length;W++){var oe=function(Ce){if(Ce.change.length||Ce.recreate)return console.warn("Unable to patch indexes of table ".concat(Ce.name," because it has changes on the type of index or primary key.")),{value:void 0};var Be=C.objectStore(Ce.name);Ce.add.forEach(function(et){Jr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Ce.name,".").concat(et.src)),To(Be,et)})}(q[W]);if("object"==typeof oe)return oe.value}}(E,_t),function Ki(E,C,F,W){var q=E._dbSchema;F.objectStoreNames.contains("$meta")&&!q.$meta&&(q.$meta=wi("$meta",wa("")[0],[]),E._storeNames.push("$meta"));var oe=E._createTransaction("readwrite",E._storeNames,q);oe.create(F),oe._completion.catch(W);var Ce=oe._reject.bind(oe),Be=Nn.transless||Nn;Br(function(){return Nn.trans=oe,Nn.transless=Be,0!==C?(Dn(E,F),tt=C,((et=oe).storeNames.includes("$meta")?et.table("$meta").get("version").then(function(_t){return _t??tt}):An.resolve(tt)).then(function(_t){return Et=_t,st=oe,ut=[],_t=(je=E)._versions,wt=je._dbSchema=Ls(0,je.idbdb,yt=F),0!==(_t=_t.filter(function(xt){return xt._cfg.version>=Et})).length?(_t.forEach(function(xt){ut.push(function(){var Gt=wt,pn=xt._cfg.dbschema;bo(je,Gt,yt),bo(je,pn,yt),wt=je._dbSchema=pn;var tn=rs(Gt,pn);tn.add.forEach(function(dr){fo(yt,dr[0],dr[1].primKey,dr[1].indexes)}),tn.change.forEach(function(dr){if(dr.recreate)throw new qe.Upgrade("Not yet support for changing primary key");var ir=yt.objectStore(dr.name);dr.add.forEach(function(yn){return To(ir,yn)}),dr.change.forEach(function(yn){ir.deleteIndex(yn.name),To(ir,yn)}),dr.del.forEach(function(yn){return ir.deleteIndex(yn)})});var xn=xt._cfg.contentUpgrade;if(xn&&xt._cfg.version>Et){Dn(je,yt),st._memoizedTables={};var zn=Wt(pn);tn.del.forEach(function(dr){zn[dr]=Gt[dr]}),Ir(je,[je.Transaction.prototype]),xe(je,[je.Transaction.prototype],ee(zn),zn),st.schema=zn;var Gn,Fn=Ur(xn);return Fn&&Vr(),tn=An.follow(function(){var dr;(Gn=xn(st))&&Fn&&(dr=zi.bind(null,null),Gn.then(dr,dr))}),Gn&&"function"==typeof Gn.then?An.resolve(Gn):tn.then(function(){return Gn})}}),ut.push(function(Gt){var pn,tn;pn=xt._cfg.dbschema,[].slice.call((tn=Gt).db.objectStoreNames).forEach(function(zn){return null==pn[zn]&&tn.db.deleteObjectStore(zn)}),Ir(je,[je.Transaction.prototype]),xe(je,[je.Transaction.prototype],je._storeNames,je._dbSchema),st.schema=je._dbSchema}),ut.push(function(Gt){je.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(je.idbdb.version/10)===xt._cfg.version?(je.idbdb.deleteObjectStore("$meta"),delete je._dbSchema.$meta,je._storeNames=je._storeNames.filter(function(pn){return"$meta"!==pn})):Gt.objectStore("$meta").put(xt._cfg.version,"version"))})}),function xt(){return ut.length?An.resolve(ut.shift()(st.idbtrans)).then(xt):An.resolve()}().then(function(){qn(wt,yt)})):An.resolve();var je,Et,st,yt,ut,wt}).catch(Ce)):(ee(q).forEach(function(_t){fo(F,_t,q[_t].primKey,q[_t].indexes)}),Dn(E,F),void An.follow(function(){return E.on.populate.fire(oe)}).catch(Ce));var et,tt})}(E,wt/10,_t,st))},st),ut.onsuccess=an(function(){_t=null;var wt,xt,Gt,pn,tn,xn=E.idbdb=ut.result,zn=Jt(xn.objectStoreNames);if(0<zn.length)try{var Gn=xn.transaction(1===(pn=zn).length?pn[0]:pn,"readonly");if(C.autoSchema)Gt=Gn,(wt=E).verno=(xt=xn).version/10,Gt=wt._dbSchema=Ls(0,xt,Gt),wt._storeNames=Jt(xt.objectStoreNames,0),xe(wt,[wt._allTables],ee(Gt),Gt);else if(bo(E,E._dbSchema,Gn),((tn=rs(Ls(0,(tn=E).idbdb,Gn),tn._dbSchema)).add.length||tn.change.some(function(Fn){return Fn.add.length||Fn.change.length}))&&!oe)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xn.close(),q=xn.version+1,oe=!0,Et(Be());Dn(E,Gn)}catch{}it.push(E),xn.onversionchange=an(function(Fn){C.vcFired=!0,E.on("versionchange").fire(Fn)}),xn.onclose=an(function(Fn){E.on("close").fire(Fn)}),je&&(Gn=yt,xn=(tn=E._deps).indexedDB,tn=tn.IDBKeyRange,Vi(xn)||Gn===At||Vs(xn,tn).put({name:Gn}).catch(sn)),Et()},st)}).catch(function(Et){switch(Et?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Be();break;case"VersionError":if(0<q)return q=0,Be()}return An.reject(Et)})})]).then(function(){return Ce(),C.onReadyBeingFired=[],An.resolve(Is(function(){return E.on.ready.fire(E.vip)})).then(function Et(){if(0<C.onReadyBeingFired.length){var st=C.onReadyBeingFired.reduce(ni,sn);return C.onReadyBeingFired=[],An.resolve(Is(function(){return st(E.vip)})).then(Et)}})}).finally(function(){C.openCanceller===W&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(Et){C.dbOpenError=Et;try{_t&&_t.abort()}catch{}return W===C.openCanceller&&E._close(),xr(Et)}).finally(function(){C.openComplete=!0,tt()}).then(function(){var Et;return je&&(Et={},E.tables.forEach(function(st){st.schema.indexes.forEach(function(yt){yt.name&&(Et["idb://".concat(E.name,"/").concat(st.name,"/").concat(yt.name)]=new Ai(-1/0,[[[]]]))}),Et["idb://".concat(E.name,"/").concat(st.name,"/")]=Et["idb://".concat(E.name,"/").concat(st.name,"/:dels")]=new Ai(-1/0,[[[]]])}),oi(hr).fire(Et),wo(Et,!0)),E})}function Yi(E){function C(oe){return E.next(oe)}var F=q(C),W=q(function(oe){return E.throw(oe)});function q(oe){return function(et){var Be=oe(et);return et=Be.value,Be.done?et:et&&"function"==typeof et.then?et.then(F,W):Re(et)?Promise.all(et).then(F,W):F(et)}}return q(C)()}function ua(E,C,F){for(var W=Re(E)?E.slice():[E],q=0;q<F;++q)W.push(C);return W}var Aa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(E){return B(B({},E),{table:function(C){var F=E.table(C),W=F.schema,q={},oe=[];function Ce(je,Et,st){var yt=Ct(je),ut=q[yt]=q[yt]||[],wt=null==je?0:"string"==typeof je?1:je.length,xt=0<Et;return xt=B(B({},st),{name:xt?"".concat(yt,"(virtual-from:").concat(st.name,")"):st.name,lowLevelIndex:st,isVirtual:xt,keyTail:Et,keyLength:wt,extractKey:Os(je),unique:!xt&&st.unique}),ut.push(xt),xt.isPrimaryKey||oe.push(xt),1<wt&&Ce(2===wt?je[0]:je.slice(0,wt-1),Et+1,st),ut.sort(function(Gt,pn){return Gt.keyTail-pn.keyTail}),xt}C=Ce(W.primaryKey.keyPath,0,W.primaryKey),q[":id"]=[C];for(var Be=0,et=W.indexes;Be<et.length;Be++){var tt=et[Be];Ce(tt.keyPath,0,tt)}function _t(je){var Et,st=je.query.index;return st.isVirtual?B(B({},je),{query:{index:st.lowLevelIndex,range:(Et=je.query.range,st=st.keyTail,{type:1===Et.type?2:Et.type,lower:ua(Et.lower,Et.lowerOpen?E.MAX_KEY:E.MIN_KEY,st),lowerOpen:!0,upper:ua(Et.upper,Et.upperOpen?E.MIN_KEY:E.MAX_KEY,st),upperOpen:!0})}}):je}return B(B({},F),{schema:B(B({},W),{primaryKey:C,indexes:oe,getIndexByKeyPath:function(je){return(je=q[Ct(je)])&&je[0]}}),count:function(je){return F.count(_t(je))},query:function(je){return F.query(_t(je))},openCursor:function(je){var Et=je.query.index,st=Et.keyTail,ut=Et.keyLength;return Et.isVirtual?F.openCursor(_t(je)).then(function(xt){return xt&&function wt(xt){return Object.create(xt,{continue:{value:function(Gt){null!=Gt?xt.continue(ua(Gt,je.reverse?E.MAX_KEY:E.MIN_KEY,st)):je.unique?xt.continue(xt.key.slice(0,ut).concat(je.reverse?E.MIN_KEY:E.MAX_KEY,st)):xt.continue()}},continuePrimaryKey:{value:function(Gt,pn){xt.continuePrimaryKey(ua(Gt,E.MAX_KEY,st),pn)}},primaryKey:{get:function(){return xt.primaryKey}},key:{get:function(){var Gt=xt.key;return 1===ut?Gt[0]:Gt.slice(0,ut)}},value:{get:function(){return xt.value}}})}(xt)}):F.openCursor(je)}})}})}};function Wo(E,C,F,W){return F=F||{},W=W||"",ee(E).forEach(function(q){var oe,Ce,Be;De(C,q)?(Ce=C[q],"object"==typeof(oe=E[q])&&"object"==typeof Ce&&oe&&Ce?(Be=kn(oe))!==kn(Ce)?F[W+q]=C[q]:"Object"===Be?Wo(oe,Ce,F,W+q+"."):oe!==Ce&&(F[W+q]=C[q]):oe!==Ce&&(F[W+q]=C[q])):F[W+q]=void 0}),ee(C).forEach(function(q){De(E,q)||(F[W+q]=C[q])}),F}function Bs(E,C){return"delete"===C.type?C.keys:C.keys||C.values.map(E.extractKey)}var Ei={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(E){return B(B({},E),{table:function(C){var F=E.table(C),W=F.schema.primaryKey;return B(B({},F),{mutate:function(q){var oe=Nn.trans,Ce=oe.table(C).hook,Be=Ce.deleting,et=Ce.creating,tt=Ce.updating;switch(q.type){case"add":if(et.fire===sn)break;return oe._promise("readwrite",function(){return _t(q)},!0);case"put":if(et.fire===sn&&tt.fire===sn)break;return oe._promise("readwrite",function(){return _t(q)},!0);case"delete":if(Be.fire===sn)break;return oe._promise("readwrite",function(){return _t(q)},!0);case"deleteRange":if(Be.fire===sn)break;return oe._promise("readwrite",function(){return function je(Et,st,yt){return F.query({trans:Et,values:!1,query:{index:W,range:st},limit:yt}).then(function(ut){var wt=ut.result;return _t({type:"delete",keys:wt,trans:Et}).then(function(xt){return 0<xt.numFailures?Promise.reject(xt.failures[0]):wt.length<yt?{failures:[],numFailures:0,lastResult:void 0}:je(Et,B(B({},st),{lower:wt[wt.length-1],lowerOpen:!0}),yt)})})}(q.trans,q.range,1e4)},!0)}return F.mutate(q);function _t(je){var Et,st,yt,ut=Nn.trans,wt=je.keys||Bs(W,je);if(!wt)throw new Error("Keys missing");return"delete"!==(je="add"===je.type||"put"===je.type?B(B({},je),{keys:wt}):B({},je)).type&&(je.values=w([],je.values,!0)),je.keys&&(je.keys=w([],je.keys,!0)),Et=F,yt=wt,("add"===(st=je).type?Promise.resolve([]):Et.getMany({trans:st.trans,keys:yt,cache:"immutable"})).then(function(xt){var Gt=wt.map(function(pn,tn){var xn,zn,Gn,Fn=xt[tn],dr={onerror:null,onsuccess:null};return"delete"===je.type?Be.fire.call(dr,pn,Fn,ut):"add"===je.type||void 0===Fn?(xn=et.fire.call(dr,pn,je.values[tn],ut),null==pn&&null!=xn&&(je.keys[tn]=pn=xn,W.outbound||Ut(je.values[tn],W.keyPath,pn))):(xn=Wo(Fn,je.values[tn]),(zn=tt.fire.call(dr,xn,pn,Fn,ut))&&(Gn=je.values[tn],Object.keys(zn).forEach(function(ir){De(Gn,ir)?Gn[ir]=zn[ir]:Ut(Gn,ir,zn[ir])}))),dr});return F.mutate(je).then(function(pn){for(var tn=pn.failures,xn=pn.results,zn=pn.numFailures,Gn=(pn=pn.lastResult,0);Gn<wt.length;++Gn){var Fn=(xn||wt)[Gn],dr=Gt[Gn];null==Fn?dr.onerror&&dr.onerror(tn[Gn]):dr.onsuccess&&dr.onsuccess("put"===je.type&&xt[Gn]?je.values[Gn]:Fn)}return{failures:tn,results:xn,numFailures:zn,lastResult:pn}}).catch(function(pn){return Gt.forEach(function(tn){return tn.onerror&&tn.onerror(pn)}),Promise.reject(pn)})})}}})}})}};function bs(E,C,F){try{if(!C||C.keys.length<E.length)return null;for(var W=[],q=0,oe=0;q<C.keys.length&&oe<E.length;++q)0===te(C.keys[q],E[oe])&&(W.push(F?Rt(C.values[q]):C.values[q]),++oe);return W.length===E.length?W:null}catch{return null}}var js={stack:"dbcore",level:-1,create:function(E){return{table:function(C){var F=E.table(C);return B(B({},F),{getMany:function(W){if(!W.cache)return F.getMany(W);var q=bs(W.keys,W.trans._cache,"clone"===W.cache);return q?An.resolve(q):F.getMany(W).then(function(oe){return W.trans._cache={keys:W.keys,values:"clone"===W.cache?Rt(oe):oe},oe})},mutate:function(W){return"add"!==W.type&&(W.trans._cache=null),F.mutate(W)}})}}}};function ta(E,C){return"readonly"===E.trans.mode&&!!E.subscr&&!E.trans.explicit&&"disabled"!==E.trans.db._options.cache&&!C.schema.primaryKey.outbound}function zo(E,C){switch(E){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var na={stack:"dbcore",level:0,name:"Observability",create:function(E){var C=E.schema.name,F=new Ai(E.MIN_KEY,E.MAX_KEY);return B(B({},E),{transaction:function(W,q,oe){if(Nn.subscr&&"readonly"!==q)throw new qe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Nn.querier));return E.transaction(W,q,oe)},table:function(W){var q=E.table(W),oe=q.schema,Ce=oe.primaryKey,je=oe.indexes,Be=Ce.extractKey,et=Ce.outbound,tt=Ce.autoIncrement&&je.filter(function(st){return st.compound&&st.keyPath.includes(Ce.keyPath)}),_t=B(B({},q),{mutate:function(st){function yt(ir){return ir="idb://".concat(C,"/").concat(W,"/").concat(ir),pn[ir]||(pn[ir]=new Ai)}var ut,wt,xt,Gt=st.trans,pn=st.mutatedParts||(st.mutatedParts={}),tn=yt(""),xn=yt(":dels"),zn=st.type,Gn=(dr="deleteRange"===st.type?[st.range]:"delete"===st.type?[st.keys]:st.values.length<50?[Bs(Ce,st).filter(function(ir){return ir}),st.values]:[])[0],Fn=dr[1],dr=st.trans._cache;return Re(Gn)?(tn.addKeys(Gn),(dr="delete"===zn||Gn.length===Fn.length?bs(Gn,dr):null)||xn.addKeys(Gn),(dr||Fn)&&(ut=yt,wt=dr,xt=Fn,oe.indexes.forEach(function(ir){var yn=ut(ir.name||"");function qt(Rr){return null!=Rr?ir.extractKey(Rr):null}function Ln(Rr){return ir.multiEntry&&Re(Rr)?Rr.forEach(function(Ri){return yn.addKey(Ri)}):yn.addKey(Rr)}(wt||xt).forEach(function(Rr,Fi){var Hn=wt&&qt(wt[Fi]);0!==te(Hn,Fi=xt&&qt(xt[Fi]))&&(null!=Hn&&Ln(Hn),null!=Fi&&Ln(Fi))})}))):Gn?(Fn={from:null!==(Fn=Gn.lower)&&void 0!==Fn?Fn:E.MIN_KEY,to:null!==(Fn=Gn.upper)&&void 0!==Fn?Fn:E.MAX_KEY},xn.add(Fn),tn.add(Fn)):(tn.add(F),xn.add(F),oe.indexes.forEach(function(ir){return yt(ir.name).add(F)})),q.mutate(st).then(function(ir){return!Gn||"add"!==st.type&&"put"!==st.type||(tn.addKeys(ir.results),tt&&tt.forEach(function(yn){for(var qt=st.values.map(function(Hn){return yn.extractKey(Hn)}),Ln=yn.keyPath.findIndex(function(Hn){return Hn===Ce.keyPath}),Rr=0,Ri=ir.results.length;Rr<Ri;++Rr)qt[Rr][Ln]=ir.results[Rr];yt(yn.name).addKeys(qt)})),Gt.mutatedParts=po(Gt.mutatedParts||{},pn),ir})}}),Et={get:function(st){return[Ce,new Ai(st.key)]},getMany:function(st){return[Ce,(new Ai).addKeys(st.keys)]},count:je=function(yt){var ut;return[yt=(ut=yt.query).index,new Ai(null!==(yt=(ut=ut.range).lower)&&void 0!==yt?yt:E.MIN_KEY,null!==(ut=ut.upper)&&void 0!==ut?ut:E.MAX_KEY)]},query:je,openCursor:je};return ee(Et).forEach(function(st){_t[st]=function(yt){var wt=!!(ut=Nn.subscr),xt=ta(Nn,q)&&zo(st,yt)?yt.obsSet={}:ut;if(wt){var Gt=function(Fn){return Fn="idb://".concat(C,"/").concat(W,"/").concat(Fn),xt[Fn]||(xt[Fn]=new Ai)},pn=Gt(""),tn=Gt(":dels"),ut=(wt=(ut=Et[st](yt))[0],ut[1]);if(("query"===st&&wt.isPrimaryKey&&!yt.values?tn:Gt(wt.name||"")).add(ut),!wt.isPrimaryKey){if("count"!==st){var xn="query"===st&&et&&yt.values&&q.query(B(B({},yt),{values:!1}));return q[st].apply(this,arguments).then(function(Fn){if("query"===st){if(et&&yt.values)return xn.then(function(qt){return pn.addKeys(qt=qt.result),Fn});var dr=yt.values?Fn.result.map(Be):Fn.result;(yt.values?pn:tn).addKeys(dr)}else if("openCursor"===st){var ir=Fn,yn=yt.values;return ir&&Object.create(ir,{key:{get:function(){return tn.addKey(ir.primaryKey),ir.key}},primaryKey:{get:function(){var qt=ir.primaryKey;return tn.addKey(qt),qt}},value:{get:function(){return yn&&pn.addKey(ir.primaryKey),ir.value}}})}return Fn})}tn.add(F)}}return q[st].apply(this,arguments)}}),_t}})}};function Wa(E,C,F){return 0===F.numFailures?C:"deleteRange"===C.type||F.numFailures===(C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1)?null:(C=B({},C),Re(C.keys)&&(C.keys=C.keys.filter(function(q,oe){return!(oe in F.failures)})),"values"in C&&Re(C.values)&&(C.values=C.values.filter(function(q,oe){return!(oe in F.failures)})),C)}function vo(E,C){return F=E,(void 0===(W=C).lower||(W.lowerOpen?0<te(F,W.lower):0<=te(F,W.lower)))&&(void 0===C.upper||(C.upperOpen?te(E,C.upper)<0:te(E,C.upper)<=0));var F,W}function ro(E,C,Et,W,q,oe){if(!Et||0===Et.length)return E;var Ce=C.query.index,Be=Ce.multiEntry,et=C.query.range,tt=W.schema.primaryKey.extractKey,_t=Ce.extractKey,je=(Ce.lowLevelIndex||Ce).extractKey;return(Et=Et.reduce(function(st,yt){var ut=st,wt=[];if("add"===yt.type||"put"===yt.type)for(var xt=new Ai,Gt=yt.values.length-1;0<=Gt;--Gt){var pn,tn=yt.values[Gt],xn=tt(tn);xt.hasKey(xn)||(pn=_t(tn),(Be&&Re(pn)?pn.some(function(ir){return vo(ir,et)}):vo(pn,et))&&(xt.addKey(xn),wt.push(tn)))}switch(yt.type){case"add":var zn=(new Ai).addKeys(C.values?st.map(function(yn){return tt(yn)}):st);ut=st.concat(C.values?wt.filter(function(yn){return yn=tt(yn),!zn.hasKey(yn)&&(zn.addKey(yn),!0)}):wt.map(function(yn){return tt(yn)}).filter(function(yn){return!zn.hasKey(yn)&&(zn.addKey(yn),!0)}));break;case"put":var Gn=(new Ai).addKeys(yt.values.map(function(yn){return tt(yn)}));ut=st.filter(function(yn){return!Gn.hasKey(C.values?tt(yn):yn)}).concat(C.values?wt:wt.map(function(yn){return tt(yn)}));break;case"delete":var Fn=(new Ai).addKeys(yt.keys);ut=st.filter(function(yn){return!Fn.hasKey(C.values?tt(yn):yn)});break;case"deleteRange":var dr=yt.range;ut=st.filter(function(yn){return!vo(tt(yn),dr)})}return ut},E))===E?E:(Et.sort(function(st,yt){return te(je(st),je(yt))||te(tt(st),tt(yt))}),C.limit&&C.limit<1/0&&(Et.length>C.limit?Et.length=C.limit:E.length===C.limit&&Et.length<C.limit&&(q.dirty=!0)),oe?Object.freeze(Et):Et)}function Bo(E,C){return 0===te(E.lower,C.lower)&&0===te(E.upper,C.upper)&&!!E.lowerOpen==!!C.lowerOpen&&!!E.upperOpen==!!C.upperOpen}var Ca={stack:"dbcore",level:0,name:"Cache",create:function(E){var C=E.schema.name;return B(B({},E),{transaction:function(F,W,q){var oe,Ce,Be=E.transaction(F,W,q);return"readwrite"===W&&(Ce=(oe=new AbortController).signal,Be.addEventListener("abort",(q=function(et){return function(){if(oe.abort(),"readwrite"===W){for(var tt=new Set,_t=0,je=F;_t<je.length;_t++){var Et=je[_t],st=Us["idb://".concat(C,"/").concat(Et)];if(st){var yt=E.table(Et),ut=st.optimisticOps.filter(function(yn){return yn.trans===Be});if(Be._explicit&&et&&Be.mutatedParts)for(var wt=0,xt=Object.values(st.queries.query);wt<xt.length;wt++)for(var Gt=0,pn=(zn=xt[wt]).slice();Gt<pn.length;Gt++)Zo((Gn=pn[Gt]).obsSet,Be.mutatedParts)&&(pr(zn,Gn),Gn.subscribers.forEach(function(yn){return tt.add(yn)}));else if(0<ut.length){st.optimisticOps=st.optimisticOps.filter(function(yn){return yn.trans!==Be});for(var tn=0,xn=Object.values(st.queries.query);tn<xn.length;tn++)for(var zn,Gn,Fn,dr=0,ir=(zn=xn[tn]).slice();dr<ir.length;dr++)null!=(Gn=ir[dr]).res&&Be.mutatedParts&&(et&&!Gn.dirty?(Fn=Object.isFrozen(Gn.res),Fn=ro(Gn.res,Gn.req,ut,yt,Gn,Fn),Gn.dirty?(pr(zn,Gn),Gn.subscribers.forEach(function(yn){return tt.add(yn)})):Fn!==Gn.res&&(Gn.res=Fn,Gn.promise=An.resolve({result:Fn}))):(Gn.dirty&&pr(zn,Gn),Gn.subscribers.forEach(function(yn){return tt.add(yn)})))}}}tt.forEach(function(yn){return yn()})}}})(!1),{signal:Ce}),Be.addEventListener("error",q(!1),{signal:Ce}),Be.addEventListener("complete",q(!0),{signal:Ce})),Be},table:function(F){var W=E.table(F),q=W.schema.primaryKey;return B(B({},W),{mutate:function(oe){var Ce=Nn.trans;if(q.outbound||"disabled"===Ce.db._options.cache||Ce.explicit||"readwrite"!==Ce.idbtrans.mode)return W.mutate(oe);var Be=Us["idb://".concat(C,"/").concat(F)];return Be?(Ce=W.mutate(oe),"add"!==oe.type&&"put"!==oe.type||!(50<=oe.values.length||Bs(q,oe).some(function(et){return null==et}))?(Be.optimisticOps.push(oe),oe.mutatedParts&&Ns(oe.mutatedParts),Ce.then(function(et){0<et.numFailures&&(pr(Be.optimisticOps,oe),(et=Wa(0,oe,et))&&Be.optimisticOps.push(et),oe.mutatedParts&&Ns(oe.mutatedParts))}),Ce.catch(function(){pr(Be.optimisticOps,oe),oe.mutatedParts&&Ns(oe.mutatedParts)})):Ce.then(function(et){var tt=Wa(0,B(B({},oe),{values:oe.values.map(function(_t,je){var Et;return et.failures[je]||Ut(_t=null!==(Et=q.keyPath)&&void 0!==Et&&Et.includes(".")?Rt(_t):B({},_t),q.keyPath,et.results[je]),_t})}),et);Be.optimisticOps.push(tt),queueMicrotask(function(){return oe.mutatedParts&&Ns(oe.mutatedParts)})}),Ce):W.mutate(oe)},query:function(oe){if(!ta(Nn,W)||!zo("query",oe))return W.query(oe);var Ce="immutable"===(null===(tt=Nn.trans)||void 0===tt?void 0:tt.db._options.cache),Be=(je=Nn).requery,et=je.signal,tt=function(yt,ut,wt,xt){var Gt=Us["idb://".concat(yt,"/").concat(ut)];if(!Gt)return[];if(!(ut=Gt.queries.query))return[null,!1,Gt,null];var pn=ut[(xt.query?xt.query.index.name:null)||""];if(!pn)return[null,!1,Gt,null];var tn=pn.find(function(xn){return xn.req.limit===xt.limit&&xn.req.values===xt.values&&Bo(xn.req.query.range,xt.query.range)});return tn?[tn,!0,Gt,pn]:[pn.find(function(xn){return("limit"in xn.req?xn.req.limit:1/0)>=xt.limit&&(!xt.values||xn.req.values)&&function Cs(E,C){return function(F,W,q,oe){if(void 0===F)return void 0!==W?-1:0;if(void 0===W)return 1;if(0===(W=te(F,W))){if(q&&oe)return 0;if(q)return 1;if(oe)return-1}return W}(E.lower,C.lower,E.lowerOpen,C.lowerOpen)<=0&&0<=function(F,W,q,oe){if(void 0===F)return void 0!==W?1:0;if(void 0===W)return-1;if(0===(W=te(F,W))){if(q&&oe)return 0;if(q)return-1;if(oe)return 1}return W}(E.upper,C.upper,E.upperOpen,C.upperOpen)}(xn.req.query.range,xt.query.range)}),!1,Gt,pn]}(C,F,0,oe),_t=tt[0],je=tt[1],Et=tt[2],st=tt[3];return _t&&je?_t.obsSet=oe.obsSet:(je=W.query(oe).then(function(yt){var ut=yt.result;if(_t&&(_t.res=ut),Ce){for(var wt=0,xt=ut.length;wt<xt;++wt)Object.freeze(ut[wt]);Object.freeze(ut)}else yt.result=Rt(ut);return yt}).catch(function(yt){return st&&_t&&pr(st,_t),Promise.reject(yt)}),_t={obsSet:oe.obsSet,promise:je,subscribers:new Set,type:"query",req:oe,dirty:!1},st?st.push(_t):(st=[_t],(Et=Et||(Us["idb://".concat(C,"/").concat(F)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[oe.query.index.name||""]=st)),function io(E,C,F,W){E.subscribers.add(F),W.addEventListener("abort",function(){var q,oe;E.subscribers.delete(F),0===E.subscribers.size&&(q=E,oe=C,setTimeout(function(){0===q.subscribers.size&&pr(oe,q)},3e3))})}(_t,st,Be,et),_t.promise.then(function(yt){return{result:ro(yt.result,oe,Et?.optimisticOps,W,_t,Ce)}})}})}})}};function fs(E,C){return new Proxy(E,{get:function(F,W,q){return"db"===W?C:Reflect.get(F,W,q)}})}var $s=(Qi.prototype.version=function(E){if(isNaN(E)||E<.1)throw new qe.Type("Given version is not a positive number");if(E=Math.round(10*E)/10,this.idbdb||this._state.isBeingOpened)throw new qe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,E);var C=this._versions,F=C.filter(function(W){return W._cfg.version===E})[0];return F||(F=new this.Version(E),C.push(F),C.sort(Ni),F.stores({}),this._state.autoSchema=!1,F)},Qi.prototype._whenReady=function(E){var C=this;return this.idbdb&&(this._state.openComplete||Nn.letThrough||this._vip)?E():new An(function(F,W){if(C._state.openComplete)return W(new qe.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void W(new qe.DatabaseClosed);C.open().catch(sn)}C._state.dbReadyPromise.then(F,W)}).then(E)},Qi.prototype.use=function(E){var C=E.stack,F=E.create,W=E.level,q=E.name;return q&&this.unuse({stack:C,name:q}),(E=this._middlewares[C]||(this._middlewares[C]=[])).push({stack:C,create:F,level:W??10,name:q}),E.sort(function(oe,Ce){return oe.level-Ce.level}),this},Qi.prototype.unuse=function(E){var C=E.stack,F=E.name,W=E.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(q){return W?q.create!==W:!!F&&q.name!==F})),this},Qi.prototype.open=function(){var E=this;return Oe(Rn,function(){return Di(E)})},Qi.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var E=this._state,C=it.indexOf(this);if(0<=C&&it.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}E.isBeingOpened||(E.dbReadyPromise=new An(function(F){E.dbReadyResolve=F}),E.openCanceller=new An(function(F,W){E.cancelOpen=W}))},Qi.prototype.close=function(F){var C=(void 0===F?{disableAutoOpen:!0}:F).disableAutoOpen;F=this._state,C?(F.isBeingOpened&&F.cancelOpen(new qe.DatabaseClosed),this._close(),F.autoOpen=!1,F.dbOpenError=new qe.DatabaseClosed):(this._close(),F.autoOpen=this._options.autoOpen||F.isBeingOpened,F.openComplete=!1,F.dbOpenError=null)},Qi.prototype.delete=function(E){var C=this;void 0===E&&(E={disableAutoOpen:!0});var F=0<arguments.length&&"object"!=typeof arguments[0],W=this._state;return new An(function(q,oe){function Ce(){C.close(E);var Be=C._deps.indexedDB.deleteDatabase(C.name);Be.onsuccess=an(function(){var et,tt,_t;tt=C.name,_t=(et=C._deps).indexedDB,et=et.IDBKeyRange,Vi(_t)||tt===At||Vs(_t,et).delete(tt).catch(sn),q()}),Be.onerror=bt(oe),Be.onblocked=C._fireOnBlocked}if(F)throw new qe.InvalidArgument("Invalid closeOptions argument to db.delete()");W.isBeingOpened?W.dbReadyPromise.then(Ce):Ce()})},Qi.prototype.backendDB=function(){return this.idbdb},Qi.prototype.isOpen=function(){return null!==this.idbdb},Qi.prototype.hasBeenClosed=function(){var E=this._state.dbOpenError;return E&&"DatabaseClosed"===E.name},Qi.prototype.hasFailed=function(){return null!==this._state.dbOpenError},Qi.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qi.prototype,"tables",{get:function(){var E=this;return ee(this._allTables).map(function(C){return E._allTables[C]})},enumerable:!1,configurable:!0}),Qi.prototype.transaction=function(){var E=function(C,F,W){var q=arguments.length;if(q<2)throw new qe.InvalidArgument("Too few arguments");for(var oe=new Array(q-1);--q;)oe[q-1]=arguments[q];return W=oe.pop(),[C,St(oe),W]}.apply(this,arguments);return this._transaction.apply(this,E)},Qi.prototype._transaction=function(E,C,F){var W=this,q=Nn.trans;q&&q.db===this&&-1===E.indexOf("!")||(q=null);var oe,Ce,Be=-1!==E.indexOf("?");E=E.replace("!","").replace("?","");try{if(Ce=C.map(function(tt){if("string"!=typeof(tt=tt instanceof W.Table?tt.name:tt))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return tt}),"r"==E||E===$t)oe=$t;else{if("rw"!=E&&E!=Vn)throw new qe.InvalidArgument("Invalid transaction mode: "+E);oe=Vn}if(q){if(q.mode===$t&&oe===Vn){if(!Be)throw new qe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");q=null}q&&Ce.forEach(function(tt){if(q&&-1===q.storeNames.indexOf(tt)){if(!Be)throw new qe.SubTransaction("Table "+tt+" not included in parent transaction.");q=null}}),Be&&q&&!q.active&&(q=null)}}catch(tt){return q?q._promise(null,function(_t,je){je(tt)}):xr(tt)}var et=function tt(_t,je,Et,st,yt){return An.resolve().then(function(){var ut=Nn.transless||Nn,wt=_t._createTransaction(je,Et,_t._dbSchema,st);if(wt.explicit=!0,ut={trans:wt,transless:ut},st)wt.idbtrans=st.idbtrans;else try{wt.create(),wt.idbtrans._explicit=!0,_t._state.PR1398_maxLoop=3}catch(pn){return pn.name===He.InvalidState&&_t.isOpen()&&0<--_t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_t.close({disableAutoOpen:!1}),_t.open().then(function(){return tt(_t,je,Et,null,yt)})):xr(pn)}var xt,Gt=Ur(yt);return Gt&&Vr(),ut=An.follow(function(){var pn;(xt=yt.call(wt,wt))&&(Gt?(pn=zi.bind(null,null),xt.then(pn,pn)):"function"==typeof xt.next&&"function"==typeof xt.throw&&(xt=Yi(xt)))},ut),(xt&&"function"==typeof xt.then?An.resolve(xt).then(function(pn){return wt.active?pn:xr(new qe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ut.then(function(){return xt})).then(function(pn){return st&&wt._resolve(),wt._completion.then(function(){return pn})}).catch(function(pn){return wt._reject(pn),xr(pn)})})}.bind(null,this,oe,Ce,q,F);return q?q._promise(oe,et,"lock"):Nn.trans?Oe(Nn.transless,function(){return W._whenReady(et)}):this._whenReady(et)},Qi.prototype.table=function(E){if(!De(this._allTables,E))throw new qe.InvalidTable("Table ".concat(E," does not exist"));return this._allTables[E]},Qi);function Qi(E,C){var F=this;this._middlewares={},this.verno=0;var W=Qi.dependencies;this._options=C=B({addons:Qi.addons,autoOpen:!0,indexedDB:W.indexedDB,IDBKeyRange:W.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},W=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var q,oe,Ce,Be,et,tt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:sn,dbReadyPromise:null,cancelOpen:sn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};tt.dbReadyPromise=new An(function(je){tt.dbReadyResolve=je}),tt.openCanceller=new An(function(je,Et){tt.cancelOpen=Et}),this._state=tt,this.name=E,this.on=fi(this,"populate","blocked","versionchange","close",{ready:[ni,sn]}),this.once=function(je,Et){var st=function(){for(var yt=[],ut=0;ut<arguments.length;ut++)yt[ut]=arguments[ut];F.on(je).unsubscribe(st),Et.apply(F,yt)};return F.on(je,st)},this.on.ready.subscribe=Ht(this.on.ready.subscribe,function(je){return function(Et,st){Qi.vip(function(){var yt,ut=F._state;ut.openComplete?(ut.dbOpenError||An.resolve().then(Et),st&&je(Et)):ut.onReadyBeingFired?(ut.onReadyBeingFired.push(Et),st&&je(Et)):(je(Et),yt=F,st||je(function wt(){yt.on.ready.unsubscribe(Et),yt.on.ready.unsubscribe(wt)}))})}}),this.Collection=(q=this,Gi(ji.prototype,function(xt,wt){this.db=q;var st=ce,yt=null;if(wt)try{st=wt()}catch(Gt){yt=Gt}var ut=xt._ctx;this._ctx={table:wt=ut.table,index:ut.index,isPrimKey:!ut.index||wt.schema.primKey.keyPath&&ut.index===wt.schema.primKey.name,range:st,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:yt,or:ut.or,valueMapper:(xt=wt.hook.reading.fire)!==ur?xt:null}})),this.Table=(oe=this,Gi(cr.prototype,function(je,Et,st){this.db=oe,this._tx=st,this.name=je,this.schema=Et,this.hook=oe._allTables[je]?oe._allTables[je].hook:fi(null,{creating:[Cr,sn],reading:[Bn,ur],updating:[si,sn],deleting:[Li,sn]})})),this.Transaction=(Ce=this,Gi(li.prototype,function(je,Et,st,yt,ut){var wt=this;"readonly"!==je&&Et.forEach(function(xt){(xt=null===(xt=st[xt])||void 0===xt?void 0:xt.yProps)&&(Et=Et.concat(xt.map(function(Gt){return Gt.updatesTable})))}),this.db=Ce,this.mode=je,this.storeNames=Et,this.schema=st,this.chromeTransactionDurability=yt,this.idbtrans=null,this.on=fi(this,"complete","error","abort"),this.parent=ut||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new An(function(xt,Gt){wt._resolve=xt,wt._reject=Gt}),this._completion.then(function(){wt.active=!1,wt.on.complete.fire()},function(xt){var Gt=wt.active;return wt.active=!1,wt.on.error.fire(xt),wt.parent?wt.parent._reject(xt):Gt&&wt.idbtrans&&wt.idbtrans.abort(),xr(xt)})})),this.Version=(Be=this,Gi(Ho.prototype,function(je){this.db=Be,this._cfg={version:je,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(et=this,Gi(ge.prototype,function(je,Et,st){if(this.db=et,this._ctx={table:je,index:":id"===Et?null:Et,or:st},this._cmp=this._ascending=te,this._descending=function(yt,ut){return te(ut,yt)},this._max=function(yt,ut){return 0<te(yt,ut)?yt:ut},this._min=function(yt,ut){return te(yt,ut)<0?yt:ut},this._IDBKeyRange=et._deps.IDBKeyRange,!this._IDBKeyRange)throw new qe.MissingAPI})),this.on("versionchange",function(je){0<je.newVersion?console.warn("Another connection wants to upgrade database '".concat(F.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(F.name,"'. Closing db now to resume the delete request.")),F.close({disableAutoOpen:!1})}),this.on("blocked",function(je){!je.newVersion||je.newVersion<je.oldVersion?console.warn("Dexie.delete('".concat(F.name,"') was blocked")):console.warn("Upgrade '".concat(F.name,"' blocked by other connection holding version ").concat(je.oldVersion/10))}),this._maxKey=Mi(C.IDBKeyRange),this._createTransaction=function(je,Et,st,yt){return new F.Transaction(je,Et,st,F._options.chromeTransactionDurability,yt)},this._fireOnBlocked=function(je){F.on("blocked").fire(je),it.filter(function(Et){return Et.name===F.name&&Et!==F&&!Et._state.vcFired}).map(function(Et){return Et.on("versionchange").fire(je)})},this.use(js),this.use(Ca),this.use(na),this.use(Aa),this.use(Ei);var _t=new Proxy(this,{get:function(je,Et,st){if("_vip"===Et)return!0;if("table"===Et)return function(ut){return fs(F.table(ut),_t)};var yt=Reflect.get(je,Et,st);return yt instanceof cr?fs(yt,_t):"tables"===Et?yt.map(function(ut){return fs(ut,_t)}):"_createTransaction"===Et?function(){return fs(yt.apply(this,arguments),_t)}:yt}});this.vip=_t,W.forEach(function(je){return je(F)})}z=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var U,N=(ue.prototype.subscribe=function(E,C,F){return this._subscribe(E&&"function"!=typeof E?E:{next:E,error:C,complete:F})},ue.prototype[z]=function(){return this},ue);function ue(E){this._subscribe=E}try{U={indexedDB:ne.indexedDB||ne.mozIndexedDB||ne.webkitIndexedDB||ne.msIndexedDB,IDBKeyRange:ne.IDBKeyRange||ne.webkitIDBKeyRange}}catch{U={indexedDB:null,IDBKeyRange:null}}function Ue(E){var C,F=!1,W=new N(function(q){var Ce,oe=Ur(E),Be=!1,et={},tt={},_t={get closed(){return Be},unsubscribe:function(){Be||(Be=!0,Ce&&Ce.abort(),je&&oi.storagemutated.unsubscribe(st))}};q.start&&q.start(_t);var je=!1,Et=function(){return rn(yt)},st=function(ut){po(et,ut),Zo(tt,et)&&Et()},yt=function(){var ut,wt,xt;!Be&&U.indexedDB&&(et={},ut={},Ce&&Ce.abort(),Ce=new AbortController,xt=function(Gt){var pn=Bi();try{oe&&Vr();var tn=Br(E,Gt);return tn=oe?tn.finally(zi):tn}finally{pn&&kr()}}(wt={subscr:ut,signal:Ce.signal,requery:Et,querier:E,trans:null}),Promise.resolve(xt).then(function(Gt){F=!0,C=Gt,Be||wt.signal.aborted||(et={},function(pn){for(var tn in pn)if(De(pn,tn))return;return 1}(tt=ut)||je||(oi(hr,st),je=!0),rn(function(){return!Be&&q.next&&q.next(Gt)}))},function(Gt){F=!1,["DatabaseClosedError","AbortError"].includes(Gt?.name)||Be||rn(function(){Be||q.error&&q.error(Gt)})}))};return setTimeout(Et,0),_t});return W.hasValue=function(){return F},W.getValue=function(){return C},W}var rr=$s;function Fr(E){var C=Ji;try{Ji=!0,oi.storagemutated.fire(E),wo(E,!0)}finally{Ji=C}}rt(rr,B(B({},Pn),{delete:function(E){return new rr(E,{addons:[]}).delete()},exists:function(E){return new rr(E,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(E){try{return F=(C=rr.dependencies).indexedDB,C=C.IDBKeyRange,(Vi(F)?Promise.resolve(F.databases()).then(function(W){return W.map(function(q){return q.name}).filter(function(q){return q!==At})}):Vs(F,C).toCollection().primaryKeys()).then(E)}catch{return xr(new qe.MissingAPI)}var C,F},defineClass:function(){return function(E){re(this,E)}},ignoreTransaction:function(E){return Nn.trans?Oe(Nn.transless,E):E()},vip:Is,async:function(E){return function(){try{var C=Yi(E.apply(this,arguments));return C&&"function"==typeof C.then?C:An.resolve(C)}catch(F){return xr(F)}}},spawn:function(E,C,F){try{var W=Yi(E.apply(F,C||[]));return W&&"function"==typeof W.then?W:An.resolve(W)}catch(q){return xr(q)}},currentTransaction:{get:function(){return Nn.trans||null}},waitFor:function(E,C){return C=An.resolve("function"==typeof E?rr.ignoreTransaction(E):E).timeout(C||6e4),Nn.trans?Nn.trans.waitFor(C):C},Promise:An,debug:{get:function(){return Jr},set:function(E){Mn(E)}},derive:lt,extend:re,props:rt,override:Ht,Events:fi,on:oi,liveQuery:Ue,extendObservabilitySet:po,getByKeyPath:Kt,setByKeyPath:Ut,delByKeyPath:function(E,C){"string"==typeof C?Ut(E,C,void 0):"length"in C&&[].map.call(C,function(F){Ut(E,F,void 0)})},shallowClone:Wt,deepClone:Rt,getObjectDiff:Wo,cmp:te,asap:dn,minKey:-1/0,addons:[],connections:it,errnames:He,dependencies:U,cache:Us,semVer:"4.2.0",version:"4.2.0".split(".").map(function(E){return parseInt(E)}).reduce(function(E,C,F){return E+C/Math.pow(10,2*F)})})),rr.maxKey=Mi(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(oi(hr,function(E){Ji||(E=new CustomEvent(_r,{detail:E}),Ji=!0,dispatchEvent(E),Ji=!1)}),addEventListener(_r,function(E){E=E.detail,Ji||Fr(E)}));var qi,Ji=!1,Xs=function(){};return typeof BroadcastChannel<"u"&&((Xs=function(){(qi=new BroadcastChannel(_r)).onmessage=function(E){return E.data&&Fr(E.data)}})(),"function"==typeof qi.unref&&qi.unref(),oi(hr,function(E){Ji||qi.postMessage(E)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(E){if(!$s.disableBfCache&&E.persisted){Jr&&console.debug("Dexie: handling persisted pagehide"),qi?.close();for(var C=0,F=it;C<F.length;C++)F[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(E){!$s.disableBfCache&&E.persisted&&(Jr&&console.debug("Dexie: handling persisted pageshow"),Xs(),Fr({all:new Ai(-1/0,[[]])}))})),An.rejectionMapper=function(E,C){return!E||E instanceof yi||E instanceof TypeError||E instanceof SyntaxError||!E.name||!Nt[E.name]?E:(C=new Nt[E.name](C||E.message,E),"stack"in E&&Ie(C,"stack",{get:function(){return this.inner.stack}}),C)},Mn(Jr),B($s,Object.freeze({__proto__:null,Dexie:$s,liveQuery:Ue,Entity:$,cmp:te,PropModification:Sr,replacePrefix:function(E,C){return new Sr({replacePrefix:[E,C]})},add:function(E){return new Sr({add:E})},remove:function(E){return new Sr({remove:E})},default:$s,RangeSet:Ai,mergeRanges:no,rangesOverlap:xi}),{default:$s}),$s}()},2363:(Xn,Tt,B)=>{"use strict";B.d(Tt,{R0:()=>ye,lI:()=>re,ms:()=>Re});var w=B(4418),ne=B(1677);function ee(Fe){return Fe[Fe.length-1]}function Re(Fe){return(0,w.T)(ee(Fe))?Fe.pop():void 0}function re(Fe){return(0,ne.m)(ee(Fe))?Fe.pop():void 0}function ye(Fe,De){return"number"==typeof ee(Fe)?Fe.pop():De}},2470:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Dk:()=>en,KO:()=>gr,MF:()=>Ar,Sx:()=>ft,Wp:()=>nn,j6:()=>ur,om:()=>sn,xZ:()=>Cr});var w=B(3308),ne=B(6834),ee=B(7129),Re=B(6383),re=B(9257);class ye{constructor(Lt){this.container=Lt}getPlatformInfoString(){return this.container.getProviders().map(bn=>{if(function Fe(an){const Lt=an.getComponent();return"VERSION"===Lt?.type}(bn)){const Un=bn.getImmediate();return`${Un.library}/${Un.version}`}return null}).filter(bn=>bn).join(" ")}}const De="@firebase/app",ve=new ee.Vy("@firebase/app"),Ie="@firebase/app-compat",lt="@firebase/analytics-compat",ht="@firebase/analytics",mt="@firebase/app-check-compat",Jt="@firebase/app-check",Ht="@firebase/auth",hn="@firebase/auth-compat",dn="@firebase/database",Kt="@firebase/data-connect",Ut="@firebase/database-compat",Wt="@firebase/functions",We="@firebase/functions-compat",St="@firebase/installations",pt="@firebase/installations-compat",kt="@firebase/messaging",Rt="@firebase/messaging-compat",at="@firebase/performance",kn="@firebase/performance-compat",Or="@firebase/remote-config",Hr="@firebase/remote-config-compat",pr="@firebase/storage",Wr="@firebase/storage-compat",Nr="@firebase/firestore",Ur="@firebase/ai",Pr="@firebase/firestore-compat",yi="firebase",Le="[DEFAULT]",Ve={[De]:"fire-core",[Ie]:"fire-core-compat",[ht]:"fire-analytics",[lt]:"fire-analytics-compat",[Jt]:"fire-app-check",[mt]:"fire-app-check-compat",[Ht]:"fire-auth",[hn]:"fire-auth-compat",[dn]:"fire-rtdb",[Kt]:"fire-data-connect",[Ut]:"fire-rtdb-compat",[Wt]:"fire-fn",[We]:"fire-fn-compat",[St]:"fire-iid",[pt]:"fire-iid-compat",[kt]:"fire-fcm",[Rt]:"fire-fcm-compat",[at]:"fire-perf",[kn]:"fire-perf-compat",[Or]:"fire-rc",[Hr]:"fire-rc-compat",[pr]:"fire-gcs",[Wr]:"fire-gcs-compat",[Nr]:"fire-fst",[Pr]:"fire-fst-compat",[Ur]:"fire-vertex","fire-js":"fire-js",[yi]:"fire-js-all"},He=new Map,Ge=new Map,qe=new Map;function Nt(an,Lt){try{an.container.addComponent(Lt)}catch(bn){ve.debug(`Component ${Lt.name} failed to register with FirebaseApp ${an.name}`,bn)}}function sn(an){const Lt=an.name;if(qe.has(Lt))return ve.debug(`There were multiple attempts to register component ${Lt}.`),!1;qe.set(Lt,an);for(const bn of He.values())Nt(bn,an);for(const bn of Ge.values())Nt(bn,an);return!0}function ur(an,Lt){const bn=an.container.getProvider("heartbeat").getImmediate({optional:!0});return bn&&bn.triggerHeartbeat(),an.container.getProvider(Lt)}function Cr(an){return null!=an&&void 0!==an.settings}const Xr=new Re.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ni{constructor(Lt,bn,Un){this._isDeleted=!1,this._options=Object.assign({},Lt),this._config=Object.assign({},bn),this._name=bn.name,this._automaticDataCollectionEnabled=bn.automaticDataCollectionEnabled,this._container=Un,this.container.addComponent(new ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Lt){this._isDeleted=Lt}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const Ar="11.10.0";function nn(an,Lt={}){let bn=an;"object"!=typeof Lt&&(Lt={name:Lt});const Un=Object.assign({name:Le,automaticDataCollectionEnabled:!0},Lt),vn=Un.name;if("string"!=typeof vn||!vn)throw Xr.create("bad-app-name",{appName:String(vn)});if(bn||(bn=(0,Re.T9)()),!bn)throw Xr.create("no-options");const er=He.get(vn);if(er){if((0,Re.bD)(bn,er.options)&&(0,Re.bD)(Un,er.config))return er;throw Xr.create("duplicate-app",{appName:vn})}const $n=new ne.h1(vn);for(const Vr of qe.values())$n.addComponent(Vr);const Br=new ni(bn,Un,$n);return He.set(vn,Br),Br}function ft(an=Le){const Lt=He.get(an);if(!Lt&&an===Le&&(0,Re.T9)())return nn();if(!Lt)throw Xr.create("no-app",{appName:an});return Lt}function en(){return Array.from(He.values())}function gr(an,Lt,bn){var Un;let vn=null!==(Un=Ve[an])&&void 0!==Un?Un:an;bn&&(vn+=`-${bn}`);const er=vn.match(/\s|\//),$n=Lt.match(/\s|\//);if(er||$n){const Br=[`Unable to register library "${vn}" with version "${Lt}":`];return er&&Br.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),er&&$n&&Br.push("and"),$n&&Br.push(`version name "${Lt}" contains illegal characters (whitespace or "/")`),void ve.warn(Br.join(" "))}sn(new ne.uA(`${vn}-version`,()=>({library:vn,version:Lt}),"VERSION"))}const Rn="firebase-heartbeat-store";let Nn=null;function ts(){return Nn||(Nn=(0,re.P2)("firebase-heartbeat-database",1,{upgrade:(an,Lt)=>{if(0===Lt)try{an.createObjectStore(Rn)}catch(bn){console.warn(bn)}}}).catch(an=>{throw Xr.create("idb-open",{originalErrorMessage:an.message})})),Nn}function On(){return(On=(0,w.A)(function*(an){try{const bn=(yield ts()).transaction(Rn),Un=yield bn.objectStore(Rn).get(ns(an));return yield bn.done,Un}catch(Lt){if(Lt instanceof Re.g)ve.warn(Lt.message);else{const bn=Xr.create("idb-get",{originalErrorMessage:Lt?.message});ve.warn(bn.message)}}})).apply(this,arguments)}function An(an,Lt){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,w.A)(function*(an,Lt){try{const Un=(yield ts()).transaction(Rn,"readwrite");yield Un.objectStore(Rn).put(Lt,ns(an)),yield Un.done}catch(bn){if(bn instanceof Re.g)ve.warn(bn.message);else{const Un=Xr.create("idb-set",{originalErrorMessage:bn?.message});ve.warn(Un.message)}}})).apply(this,arguments)}function ns(an){return`${an.name}!${an.options.appId}`}class Pi{constructor(Lt){this.container=Lt,this._heartbeatsCache=null;const bn=this.container.getProvider("app").getImmediate();this._storage=new Bi(bn),this._heartbeatsCachePromise=this._storage.read().then(Un=>(this._heartbeatsCache=Un,Un))}triggerHeartbeat(){var Lt=this;return(0,w.A)(function*(){var bn,Un;try{const er=Lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$n=bi();if(null==(null===(bn=Lt._heartbeatsCache)||void 0===bn?void 0:bn.heartbeats)&&(Lt._heartbeatsCache=yield Lt._heartbeatsCachePromise,null==(null===(Un=Lt._heartbeatsCache)||void 0===Un?void 0:Un.heartbeats))||Lt._heartbeatsCache.lastSentHeartbeatDate===$n||Lt._heartbeatsCache.heartbeats.some(Br=>Br.date===$n))return;if(Lt._heartbeatsCache.heartbeats.push({date:$n,agent:er}),Lt._heartbeatsCache.heartbeats.length>30){const Br=function Wi(an){if(0===an.length)return-1;let Lt=0,bn=an[0].date;for(let Un=1;Un<an.length;Un++)an[Un].date<bn&&(bn=an[Un].date,Lt=Un);return Lt}(Lt._heartbeatsCache.heartbeats);Lt._heartbeatsCache.heartbeats.splice(Br,1)}return Lt._storage.overwrite(Lt._heartbeatsCache)}catch(vn){ve.warn(vn)}})()}getHeartbeatsHeader(){var Lt=this;return(0,w.A)(function*(){var bn;try{if(null===Lt._heartbeatsCache&&(yield Lt._heartbeatsCachePromise),null==(null===(bn=Lt._heartbeatsCache)||void 0===bn?void 0:bn.heartbeats)||0===Lt._heartbeatsCache.heartbeats.length)return"";const Un=bi(),{heartbeatsToSend:vn,unsentEntries:er}=function ho(an,Lt=1024){const bn=[];let Un=an.slice();for(const vn of an){const er=bn.find($n=>$n.agent===vn.agent);if(er){if(er.dates.push(vn.date),kr(bn)>Lt){er.dates.pop();break}}else if(bn.push({agent:vn.agent,dates:[vn.date]}),kr(bn)>Lt){bn.pop();break}Un=Un.slice(1)}return{heartbeatsToSend:bn,unsentEntries:Un}}(Lt._heartbeatsCache.heartbeats),$n=(0,Re.Uj)(JSON.stringify({version:2,heartbeats:vn}));return Lt._heartbeatsCache.lastSentHeartbeatDate=Un,er.length>0?(Lt._heartbeatsCache.heartbeats=er,yield Lt._storage.overwrite(Lt._heartbeatsCache)):(Lt._heartbeatsCache.heartbeats=[],Lt._storage.overwrite(Lt._heartbeatsCache)),$n}catch(Un){return ve.warn(Un),""}})()}}function bi(){return(new Date).toISOString().substring(0,10)}class Bi{constructor(Lt){this.app=Lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.A)(function*(){return!!(0,Re.zW)()&&(0,Re.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Lt=this;return(0,w.A)(function*(){if(yield Lt._canUseIndexedDBPromise){const Un=yield function ti(an){return On.apply(this,arguments)}(Lt.app);return Un?.heartbeats?Un:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Lt){var bn=this;return(0,w.A)(function*(){var Un;if(yield bn._canUseIndexedDBPromise){const er=yield bn.read();return An(bn.app,{lastSentHeartbeatDate:null!==(Un=Lt.lastSentHeartbeatDate)&&void 0!==Un?Un:er.lastSentHeartbeatDate,heartbeats:Lt.heartbeats})}})()}add(Lt){var bn=this;return(0,w.A)(function*(){var Un;if(yield bn._canUseIndexedDBPromise){const er=yield bn.read();return An(bn.app,{lastSentHeartbeatDate:null!==(Un=Lt.lastSentHeartbeatDate)&&void 0!==Un?Un:er.lastSentHeartbeatDate,heartbeats:[...er.heartbeats,...Lt.heartbeats]})}})()}}function kr(an){return(0,Re.Uj)(JSON.stringify({version:2,heartbeats:an})).length}!function qr(an){sn(new ne.uA("platform-logger",Lt=>new ye(Lt),"PRIVATE")),sn(new ne.uA("heartbeat",Lt=>new Pi(Lt),"PRIVATE")),gr(De,"0.13.2",an),gr(De,"0.13.2","esm2017"),gr("fire-js","")}("")},2489:(Xn,Tt,B)=>{"use strict";B.d(Tt,{h:()=>ye});var w=B(3806),ne=B(8621),ee=B(8448),Re=B(2363),re=B(4690);function ye(...Fe){const De=(0,Re.lI)(Fe),rt=(0,Re.R0)(Fe,1/0),ve=Fe;return ve.length?1===ve.length?(0,ne.Tg)(ve[0]):(0,w.U)(rt)((0,re.H)(ve,De)):ee.w}},2493:(Xn,Tt,B)=>{"use strict";B.d(Tt,{$:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2598:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Dk:()=>w.Dk,KO:()=>w.KO,Sx:()=>w.Sx,Wp:()=>w.Wp});var w=B(2470);(0,w.KO)("firebase","11.10.0","app")},2744:(Xn,Tt,B)=>{"use strict";var w=B(4357),ne=B(3038),ee=B(7728),Re=B(6978),re=B(1489);const ye=new re.nKC("");let Fe=(()=>{class a{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,s){this._zone=s,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,s,u,d){return this._findPluginFor(s).addEventListener(r,s,u,d)}getZone(){return this._zone}_findPluginFor(r){let s=this._eventNameToPlugin.get(r);if(s)return s;if(s=this._plugins.find(d=>d.supports(r)),!s)throw new re.wOt(5101,!1);return this._eventNameToPlugin.set(r,s),s}static \u0275fac=function(s){return new(s||a)(re.KVO(ye),re.KVO(re.SKi))};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})();class De{_doc;constructor(t){this._doc=t}manager}const rt="ng-app-id";function ve(a){for(const t of a)t.remove()}function Ie(a,t){const r=t.createElement("style");return r.textContent=a,r}function ht(a,t){const r=t.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",a),r}let mt=(()=>{class a{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,s,u,d={}){this.doc=r,this.appId=s,this.nonce=u,this.isServer=(0,ne.Vy)(d),function lt(a,t,r,s){const u=a.head?.querySelectorAll(`style[${rt}="${t}"],link[${rt}="${t}"]`);if(u)for(const d of u)d.removeAttribute(rt),d instanceof HTMLLinkElement?s.set(d.href.slice(d.href.lastIndexOf("/")+1),{usage:0,elements:[d]}):d.textContent&&r.set(d.textContent,{usage:0,elements:[d]})}(r,s,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,s){for(const u of r)this.addUsage(u,this.inline,Ie);s?.forEach(u=>this.addUsage(u,this.external,ht))}removeStyles(r,s){for(const u of r)this.removeUsage(u,this.inline);s?.forEach(u=>this.removeUsage(u,this.external))}addUsage(r,s,u){const d=s.get(r);d?d.usage++:s.set(r,{usage:1,elements:[...this.hosts].map(p=>this.addElement(p,u(r,this.doc)))})}removeUsage(r,s){const u=s.get(r);u&&(u.usage--,u.usage<=0&&(ve(u.elements),s.delete(r)))}ngOnDestroy(){for(const[,{elements:r}]of[...this.inline,...this.external])ve(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(const[s,{elements:u}]of this.inline)u.push(this.addElement(r,Ie(s,this.doc)));for(const[s,{elements:u}]of this.external)u.push(this.addElement(r,ht(s,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,s){return this.nonce&&s.setAttribute("nonce",this.nonce),this.isServer&&s.setAttribute(rt,this.appId),r.appendChild(s)}static \u0275fac=function(s){return new(s||a)(re.KVO(ee.q),re.KVO(re.sZ2),re.KVO(re.BIS,8),re.KVO(re.Agw))};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})();const Jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ht=/%COMP%/g,St=new re.nKC("",{providedIn:"root",factory:()=>!0});function Rt(a,t){return t.map(r=>r.replace(Ht,a))}let kn=(()=>{class a{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,s,u,d,p,I,P,x=null,X=null){this.eventManager=r,this.sharedStylesHost=s,this.appId=u,this.removeStylesOnCompDestroy=d,this.doc=p,this.platformId=I,this.ngZone=P,this.nonce=x,this.tracingService=X,this.platformIsServer=(0,ne.Vy)(I),this.defaultRenderer=new Or(r,p,P,this.platformIsServer,this.tracingService)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===re.gXe.ShadowDom&&(s={...s,encapsulation:re.gXe.Emulated});const u=this.getOrCreateRenderer(r,s);return u instanceof Pr?u.applyToHost(r):u instanceof Ur&&u.applyStyles(),u}getOrCreateRenderer(r,s){const u=this.rendererByCompId;let d=u.get(s.id);if(!d){const p=this.doc,I=this.ngZone,P=this.eventManager,x=this.sharedStylesHost,X=this.removeStylesOnCompDestroy,ae=this.platformIsServer,Se=this.tracingService;switch(s.encapsulation){case re.gXe.Emulated:d=new Pr(P,x,s,this.appId,X,p,I,ae,Se);break;case re.gXe.ShadowDom:return new Nr(P,x,r,s,p,I,this.nonce,ae,Se);default:d=new Ur(P,x,s,X,p,I,ae,Se)}u.set(s.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}static \u0275fac=function(s){return new(s||a)(re.KVO(Fe),re.KVO(mt),re.KVO(re.sZ2),re.KVO(St),re.KVO(ee.q),re.KVO(re.Agw),re.KVO(re.SKi),re.KVO(re.BIS),re.KVO(re.Lf2,8))};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})();class Or{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,r,s,u,d){this.eventManager=t,this.doc=r,this.ngZone=s,this.platformIsServer=u,this.tracingService=d}destroy(){}destroyNode=null;createElement(t,r){return r?this.doc.createElementNS(Jt[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(Wr(t)?t.content:t).appendChild(r)}insertBefore(t,r,s){t&&(Wr(t)?t.content:t).insertBefore(r,s)}removeChild(t,r){r.remove()}selectRootElement(t,r){let s="string"==typeof t?this.doc.querySelector(t):t;if(!s)throw new re.wOt(-5104,!1);return r||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,s,u){if(u){r=u+":"+r;const d=Jt[u];d?t.setAttributeNS(d,r,s):t.setAttribute(r,s)}else t.setAttribute(r,s)}removeAttribute(t,r,s){if(s){const u=Jt[s];u?t.removeAttributeNS(u,r):t.removeAttribute(`${s}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,s,u){u&(re.czy.DashCase|re.czy.Important)?t.style.setProperty(r,s,u&re.czy.Important?"important":""):t.style[r]=s}removeStyle(t,r,s){s&re.czy.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,s){null!=t&&(t[r]=s)}setValue(t,r){t.nodeValue=r}listen(t,r,s,u){if("string"==typeof t&&!(t=(0,w.rb)().getGlobalEventTarget(this.doc,t)))throw new re.wOt(5102,!1);let d=this.decoratePreventDefault(s);return this.tracingService?.wrapEventListener&&(d=this.tracingService.wrapEventListener(t,r,d)),this.eventManager.addEventListener(t,r,d,u)}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function Wr(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}class Nr extends Or{sharedStylesHost;hostEl;shadowRoot;constructor(t,r,s,u,d,p,I,P,x){super(t,d,p,P,x),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let X=u.styles;X=Rt(u.id,X);for(const Se of X){const Ze=document.createElement("style");I&&Ze.setAttribute("nonce",I),Ze.textContent=Se,this.shadowRoot.appendChild(Ze)}const ae=u.getExternalStyles?.();if(ae)for(const Se of ae){const Ze=ht(Se,d);I&&Ze.setAttribute("nonce",I),this.shadowRoot.appendChild(Ze)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,s){return super.insertBefore(this.nodeOrShadowRoot(t),r,s)}removeChild(t,r){return super.removeChild(null,r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ur extends Or{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,r,s,u,d,p,I,P,x){super(t,d,p,I,P),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=u;let X=s.styles;this.styles=x?Rt(x,X):X,this.styleUrls=s.getExternalStyles?.(x)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Pr extends Ur{contentAttr;hostAttr;constructor(t,r,s,u,d,p,I,P,x){const X=u+"-"+s.id;super(t,r,s,d,p,I,P,x,X),this.contentAttr=function pt(a){return"_ngcontent-%COMP%".replace(Ht,a)}(X),this.hostAttr=function kt(a){return"_nghost-%COMP%".replace(Ht,a)}(X)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const s=super.createElement(t,r);return super.setAttribute(s,this.contentAttr,""),s}}class yi extends w.qj{supportsDOMEvents=!0;static makeCurrent(){(0,w.ig)(new yi)}onAndCancel(t,r,s,u){return t.addEventListener(r,s,u),()=>{t.removeEventListener(r,s,u)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.remove()}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function Le(){return Ti=Ti||document.head.querySelector("base"),Ti?Ti.getAttribute("href"):null}();return null==r?null:function Ve(a){return new URL(a,document.baseURI).pathname}(r)}resetBaseElement(){Ti=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,ne.bS)(document.cookie,t)}}let Ti=null,Ge=(()=>{class a{build(){return new XMLHttpRequest}static \u0275fac=function(s){return new(s||a)};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})(),qe=(()=>{class a extends De{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,u,d){return r.addEventListener(s,u,d),()=>this.removeEventListener(r,s,u,d)}removeEventListener(r,s,u,d){return r.removeEventListener(s,u,d)}static \u0275fac=function(s){return new(s||a)(re.KVO(ee.q))};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})();const Nt=["alt","control","meta","shift"],Pn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sn={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let ur=(()=>{class a extends De{constructor(r){super(r)}supports(r){return null!=a.parseEventName(r)}addEventListener(r,s,u,d){const p=a.parseEventName(s),I=a.eventCallback(p.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.rb)().onAndCancel(r,p.domEventName,I,d))}static parseEventName(r){const s=r.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const d=a._normalizeKey(s.pop());let p="",I=s.indexOf("code");if(I>-1&&(s.splice(I,1),p="code."),Nt.forEach(x=>{const X=s.indexOf(x);X>-1&&(s.splice(X,1),p+=x+".")}),p+=d,0!=s.length||0===d.length)return null;const P={};return P.domEventName=u,P.fullKey=p,P}static matchEventFullKeyCode(r,s){let u=Pn[r.key]||r.key,d="";return s.indexOf("code.")>-1&&(u=r.code,d="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Nt.forEach(p=>{p!==u&&(0,sn[p])(r)&&(d+=p+".")}),d+=u,d===s)}static eventCallback(r,s,u){return d=>{a.matchEventFullKeyCode(d,r)&&u.runGuarded(()=>s(d))}}static _normalizeKey(r){return"esc"===r?"escape":r}static \u0275fac=function(s){return new(s||a)(re.KVO(ee.q))};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})();const Mn=(0,re.oH4)(re.fpN,"browser",[{provide:re.Agw,useValue:ne.Zn},{provide:re.PLl,useValue:function si(){yi.makeCurrent()},multi:!0},{provide:ee.q,useFactory:function ni(){return(0,re.TL$)(document),document}}]),nn=[{provide:re.e01,useClass:class He{addToWindow(t){re.JZv.getAngularTestability=(s,u=!0)=>{const d=t.findTestabilityInTree(s,u);if(null==d)throw new re.wOt(5103,!1);return d},re.JZv.getAllAngularTestabilities=()=>t.getAllTestabilities(),re.JZv.getAllAngularRootElements=()=>t.getAllRootElements(),re.JZv.frameworkStabilizers||(re.JZv.frameworkStabilizers=[]),re.JZv.frameworkStabilizers.push(s=>{const u=re.JZv.getAllAngularTestabilities();let d=u.length;const p=function(){d--,0==d&&s()};u.forEach(I=>{I.whenStable(p)})})}findTestabilityInTree(t,r,s){return null==r?null:t.getTestability(r)??(s?(0,w.rb)().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}}},{provide:re.WHO,useClass:re.NYb,deps:[re.SKi,re.giA,re.e01]},{provide:re.NYb,useClass:re.NYb,deps:[re.SKi,re.giA,re.e01]}],Yt=[{provide:re.H8p,useValue:"root"},{provide:re.zcH,useFactory:function Xr(){return new re.zcH}},{provide:ye,useClass:qe,multi:!0,deps:[ee.q]},{provide:ye,useClass:ur,multi:!0,deps:[ee.q]},kn,mt,Fe,{provide:re._9s,useExisting:kn},{provide:ne.N0,useClass:Ge},[]];let ft=(()=>{class a{constructor(){}static \u0275fac=function(s){return new(s||a)};static \u0275mod=re.$C({type:a});static \u0275inj=re.G2t({providers:[...Yt,...nn],imports:[Re.MD,re.Hbi]})}return a})();var ns,en=B(8832),Sn=B(1334),or=B(6362),gr=B(4227),on=B(1278),nr=B(6719),mr=B(1053),ei=B(2598),Rn=B(3308),Nn=B(2470),ts=B(6834),ti=B(7129),On=B(6383),An=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(ot,Ne,ze){ze||(ze=0);var vt=Array(16);if("string"==typeof Ne)for(var Ot=0;16>Ot;++Ot)vt[Ot]=Ne.charCodeAt(ze++)|Ne.charCodeAt(ze++)<<8|Ne.charCodeAt(ze++)<<16|Ne.charCodeAt(ze++)<<24;else for(Ot=0;16>Ot;++Ot)vt[Ot]=Ne[ze++]|Ne[ze++]<<8|Ne[ze++]<<16|Ne[ze++]<<24;var Ft=ot.g[3],nt=(Ne=ot.g[0])+(Ft^(ze=ot.g[1])&((Ot=ot.g[2])^Ft))+vt[0]+3614090360&4294967295;nt=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=(ze=(Ot=(Ft=(Ne=ze+(nt<<7&4294967295|nt>>>25))+((nt=Ft+(Ot^Ne&(ze^Ot))+vt[1]+3905402710&4294967295)<<12&4294967295|nt>>>20))+((nt=Ot+(ze^Ft&(Ne^ze))+vt[2]+606105819&4294967295)<<17&4294967295|nt>>>15))+((nt=ze+(Ne^Ot&(Ft^Ne))+vt[3]+3250441966&4294967295)<<22&4294967295|nt>>>10))+((nt=Ne+(Ft^ze&(Ot^Ft))+vt[4]+4118548399&4294967295)<<7&4294967295|nt>>>25))+((nt=Ft+(Ot^Ne&(ze^Ot))+vt[5]+1200080426&4294967295)<<12&4294967295|nt>>>20))+((nt=Ot+(ze^Ft&(Ne^ze))+vt[6]+2821735955&4294967295)<<17&4294967295|nt>>>15))+((nt=ze+(Ne^Ot&(Ft^Ne))+vt[7]+4249261313&4294967295)<<22&4294967295|nt>>>10))+((nt=Ne+(Ft^ze&(Ot^Ft))+vt[8]+1770035416&4294967295)<<7&4294967295|nt>>>25))+((nt=Ft+(Ot^Ne&(ze^Ot))+vt[9]+2336552879&4294967295)<<12&4294967295|nt>>>20))+((nt=Ot+(ze^Ft&(Ne^ze))+vt[10]+4294925233&4294967295)<<17&4294967295|nt>>>15))+((nt=ze+(Ne^Ot&(Ft^Ne))+vt[11]+2304563134&4294967295)<<22&4294967295|nt>>>10))+((nt=Ne+(Ft^ze&(Ot^Ft))+vt[12]+1804603682&4294967295)<<7&4294967295|nt>>>25))+((nt=Ft+(Ot^Ne&(ze^Ot))+vt[13]+4254626195&4294967295)<<12&4294967295|nt>>>20))+((nt=Ot+(ze^Ft&(Ne^ze))+vt[14]+2792965006&4294967295)<<17&4294967295|nt>>>15))+((nt=ze+(Ne^Ot&(Ft^Ne))+vt[15]+1236535329&4294967295)<<22&4294967295|nt>>>10))+((nt=Ne+(Ot^Ft&(ze^Ot))+vt[1]+4129170786&4294967295)<<5&4294967295|nt>>>27))+((nt=Ft+(ze^Ot&(Ne^ze))+vt[6]+3225465664&4294967295)<<9&4294967295|nt>>>23))+((nt=Ot+(Ne^ze&(Ft^Ne))+vt[11]+643717713&4294967295)<<14&4294967295|nt>>>18))+((nt=ze+(Ft^Ne&(Ot^Ft))+vt[0]+3921069994&4294967295)<<20&4294967295|nt>>>12))+((nt=Ne+(Ot^Ft&(ze^Ot))+vt[5]+3593408605&4294967295)<<5&4294967295|nt>>>27))+((nt=Ft+(ze^Ot&(Ne^ze))+vt[10]+38016083&4294967295)<<9&4294967295|nt>>>23))+((nt=Ot+(Ne^ze&(Ft^Ne))+vt[15]+3634488961&4294967295)<<14&4294967295|nt>>>18))+((nt=ze+(Ft^Ne&(Ot^Ft))+vt[4]+3889429448&4294967295)<<20&4294967295|nt>>>12))+((nt=Ne+(Ot^Ft&(ze^Ot))+vt[9]+568446438&4294967295)<<5&4294967295|nt>>>27))+((nt=Ft+(ze^Ot&(Ne^ze))+vt[14]+3275163606&4294967295)<<9&4294967295|nt>>>23))+((nt=Ot+(Ne^ze&(Ft^Ne))+vt[3]+4107603335&4294967295)<<14&4294967295|nt>>>18))+((nt=ze+(Ft^Ne&(Ot^Ft))+vt[8]+1163531501&4294967295)<<20&4294967295|nt>>>12))+((nt=Ne+(Ot^Ft&(ze^Ot))+vt[13]+2850285829&4294967295)<<5&4294967295|nt>>>27))+((nt=Ft+(ze^Ot&(Ne^ze))+vt[2]+4243563512&4294967295)<<9&4294967295|nt>>>23))+((nt=Ot+(Ne^ze&(Ft^Ne))+vt[7]+1735328473&4294967295)<<14&4294967295|nt>>>18))+((nt=ze+(Ft^Ne&(Ot^Ft))+vt[12]+2368359562&4294967295)<<20&4294967295|nt>>>12))+((nt=Ne+(ze^Ot^Ft)+vt[5]+4294588738&4294967295)<<4&4294967295|nt>>>28))+((nt=Ft+(Ne^ze^Ot)+vt[8]+2272392833&4294967295)<<11&4294967295|nt>>>21))+((nt=Ot+(Ft^Ne^ze)+vt[11]+1839030562&4294967295)<<16&4294967295|nt>>>16))+((nt=ze+(Ot^Ft^Ne)+vt[14]+4259657740&4294967295)<<23&4294967295|nt>>>9))+((nt=Ne+(ze^Ot^Ft)+vt[1]+2763975236&4294967295)<<4&4294967295|nt>>>28))+((nt=Ft+(Ne^ze^Ot)+vt[4]+1272893353&4294967295)<<11&4294967295|nt>>>21))+((nt=Ot+(Ft^Ne^ze)+vt[7]+4139469664&4294967295)<<16&4294967295|nt>>>16))+((nt=ze+(Ot^Ft^Ne)+vt[10]+3200236656&4294967295)<<23&4294967295|nt>>>9))+((nt=Ne+(ze^Ot^Ft)+vt[13]+681279174&4294967295)<<4&4294967295|nt>>>28))+((nt=Ft+(Ne^ze^Ot)+vt[0]+3936430074&4294967295)<<11&4294967295|nt>>>21))+((nt=Ot+(Ft^Ne^ze)+vt[3]+3572445317&4294967295)<<16&4294967295|nt>>>16))+((nt=ze+(Ot^Ft^Ne)+vt[6]+76029189&4294967295)<<23&4294967295|nt>>>9))+((nt=Ne+(ze^Ot^Ft)+vt[9]+3654602809&4294967295)<<4&4294967295|nt>>>28))+((nt=Ft+(Ne^ze^Ot)+vt[12]+3873151461&4294967295)<<11&4294967295|nt>>>21))+((nt=Ot+(Ft^Ne^ze)+vt[15]+530742520&4294967295)<<16&4294967295|nt>>>16))+((nt=ze+(Ot^Ft^Ne)+vt[2]+3299628645&4294967295)<<23&4294967295|nt>>>9))+((nt=Ne+(Ot^(ze|~Ft))+vt[0]+4096336452&4294967295)<<6&4294967295|nt>>>26))+((nt=Ft+(ze^(Ne|~Ot))+vt[7]+1126891415&4294967295)<<10&4294967295|nt>>>22))+((nt=Ot+(Ne^(Ft|~ze))+vt[14]+2878612391&4294967295)<<15&4294967295|nt>>>17))+((nt=ze+(Ft^(Ot|~Ne))+vt[5]+4237533241&4294967295)<<21&4294967295|nt>>>11))+((nt=Ne+(Ot^(ze|~Ft))+vt[12]+1700485571&4294967295)<<6&4294967295|nt>>>26))+((nt=Ft+(ze^(Ne|~Ot))+vt[3]+2399980690&4294967295)<<10&4294967295|nt>>>22))+((nt=Ot+(Ne^(Ft|~ze))+vt[10]+4293915773&4294967295)<<15&4294967295|nt>>>17))+((nt=ze+(Ft^(Ot|~Ne))+vt[1]+2240044497&4294967295)<<21&4294967295|nt>>>11))+((nt=Ne+(Ot^(ze|~Ft))+vt[8]+1873313359&4294967295)<<6&4294967295|nt>>>26))+((nt=Ft+(ze^(Ne|~Ot))+vt[15]+4264355552&4294967295)<<10&4294967295|nt>>>22))+((nt=Ot+(Ne^(Ft|~ze))+vt[6]+2734768916&4294967295)<<15&4294967295|nt>>>17))+((nt=ze+(Ft^(Ot|~Ne))+vt[13]+1309151649&4294967295)<<21&4294967295|nt>>>11))+((Ft=(Ne=ze+((nt=Ne+(Ot^(ze|~Ft))+vt[4]+4149444226&4294967295)<<6&4294967295|nt>>>26))+((nt=Ft+(ze^(Ne|~Ot))+vt[11]+3174756917&4294967295)<<10&4294967295|nt>>>22))^((Ot=Ft+((nt=Ot+(Ne^(Ft|~ze))+vt[2]+718787259&4294967295)<<15&4294967295|nt>>>17))|~Ne))+vt[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+Ne&4294967295,ot.g[1]=ot.g[1]+(Ot+(nt<<21&4294967295|nt>>>11))&4294967295,ot.g[2]=ot.g[2]+Ot&4294967295,ot.g[3]=ot.g[3]+Ft&4294967295}function p(ot,Ne){this.h=Ne;for(var ze=[],vt=!0,Ot=ot.length-1;0<=Ot;Ot--){var Ft=0|ot[Ot];vt&&Ft==Ne||(ze[Ot]=Ft,vt=!1)}this.g=ze}(function t(ot,Ne){function ze(){}ze.prototype=Ne.prototype,ot.D=Ne.prototype,ot.prototype=new ze,ot.prototype.constructor=ot,ot.C=function(vt,Ot,Ft){for(var nt=Array(arguments.length-2),$a=2;$a<arguments.length;$a++)nt[$a-2]=arguments[$a];return Ne.prototype[Ot].apply(vt,nt)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(ot,Ne){void 0===Ne&&(Ne=ot.length);for(var ze=Ne-this.blockSize,vt=this.B,Ot=this.h,Ft=0;Ft<Ne;){if(0==Ot)for(;Ft<=ze;)u(this,ot,Ft),Ft+=this.blockSize;if("string"==typeof ot){for(;Ft<Ne;)if(vt[Ot++]=ot.charCodeAt(Ft++),Ot==this.blockSize){u(this,vt),Ot=0;break}}else for(;Ft<Ne;)if(vt[Ot++]=ot[Ft++],Ot==this.blockSize){u(this,vt),Ot=0;break}}this.h=Ot,this.o+=Ne},s.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var Ne=1;Ne<ot.length-8;++Ne)ot[Ne]=0;var ze=8*this.o;for(Ne=ot.length-8;Ne<ot.length;++Ne)ot[Ne]=255&ze,ze/=256;for(this.u(ot),ot=Array(16),Ne=ze=0;4>Ne;++Ne)for(var vt=0;32>vt;vt+=8)ot[ze++]=this.g[Ne]>>>vt&255;return ot};var I={};function P(ot){return-128<=ot&&128>ot?function d(ot,Ne){var ze=I;return Object.prototype.hasOwnProperty.call(ze,ot)?ze[ot]:ze[ot]=Ne(ot)}(ot,function(Ne){return new p([0|Ne],0>Ne?-1:0)}):new p([0|ot],0>ot?-1:0)}function x(ot){if(isNaN(ot)||!isFinite(ot))return ae;if(0>ot)return mn(x(-ot));for(var Ne=[],ze=1,vt=0;ot>=ze;vt++)Ne[vt]=ot/ze|0,ze*=4294967296;return new p(Ne,0)}var ae=P(0),Se=P(1),Ze=P(16777216);function Dt(ot){if(0!=ot.h)return!1;for(var Ne=0;Ne<ot.g.length;Ne++)if(0!=ot.g[Ne])return!1;return!0}function Qt(ot){return-1==ot.h}function mn(ot){for(var Ne=ot.g.length,ze=[],vt=0;vt<Ne;vt++)ze[vt]=~ot.g[vt];return new p(ze,~ot.h).add(Se)}function sr(ot,Ne){return ot.add(mn(Ne))}function vr(ot,Ne){for(;(65535&ot[Ne])!=ot[Ne];)ot[Ne+1]+=ot[Ne]>>>16,ot[Ne]&=65535,Ne++}function wr(ot,Ne){this.g=ot,this.h=Ne}function Kr(ot,Ne){if(Dt(Ne))throw Error("division by zero");if(Dt(ot))return new wr(ae,ae);if(Qt(ot))return Ne=Kr(mn(ot),Ne),new wr(mn(Ne.g),mn(Ne.h));if(Qt(Ne))return Ne=Kr(ot,mn(Ne)),new wr(mn(Ne.g),Ne.h);if(30<ot.g.length){if(Qt(ot)||Qt(Ne))throw Error("slowDivide_ only works with positive integers.");for(var ze=Se,vt=Ne;0>=vt.l(ot);)ze=Hi(ze),vt=Hi(vt);var Ot=gi(ze,1),Ft=gi(vt,1);for(vt=gi(vt,2),ze=gi(ze,2);!Dt(vt);){var nt=Ft.add(vt);0>=nt.l(ot)&&(Ot=Ot.add(ze),Ft=nt),vt=gi(vt,1),ze=gi(ze,1)}return Ne=sr(ot,Ot.j(Ne)),new wr(Ot,Ne)}for(Ot=ae;0<=ot.l(Ne);){for(ze=Math.max(1,Math.floor(ot.m()/Ne.m())),vt=48>=(vt=Math.ceil(Math.log(ze)/Math.LN2))?1:Math.pow(2,vt-48),nt=(Ft=x(ze)).j(Ne);Qt(nt)||0<nt.l(ot);)nt=(Ft=x(ze-=vt)).j(Ne);Dt(Ft)&&(Ft=Se),Ot=Ot.add(Ft),ot=sr(ot,nt)}return new wr(Ot,ot)}function Hi(ot){for(var Ne=ot.g.length+1,ze=[],vt=0;vt<Ne;vt++)ze[vt]=ot.i(vt)<<1|ot.i(vt-1)>>>31;return new p(ze,ot.h)}function gi(ot,Ne){var ze=Ne>>5;Ne%=32;for(var vt=ot.g.length-ze,Ot=[],Ft=0;Ft<vt;Ft++)Ot[Ft]=0<Ne?ot.i(Ft+ze)>>>Ne|ot.i(Ft+ze+1)<<32-Ne:ot.i(Ft+ze);return new p(Ot,ot.h)}(a=p.prototype).m=function(){if(Qt(this))return-mn(this).m();for(var ot=0,Ne=1,ze=0;ze<this.g.length;ze++){var vt=this.i(ze);ot+=(0<=vt?vt:4294967296+vt)*Ne,Ne*=4294967296}return ot},a.toString=function(ot){if(2>(ot=ot||10)||36<ot)throw Error("radix out of range: "+ot);if(Dt(this))return"0";if(Qt(this))return"-"+mn(this).toString(ot);for(var Ne=x(Math.pow(ot,6)),ze=this,vt="";;){var Ot=Kr(ze,Ne).g,Ft=((0<(ze=sr(ze,Ot.j(Ne))).g.length?ze.g[0]:ze.h)>>>0).toString(ot);if(Dt(ze=Ot))return Ft+vt;for(;6>Ft.length;)Ft="0"+Ft;vt=Ft+vt}},a.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h},a.l=function(ot){return Qt(ot=sr(this,ot))?-1:Dt(ot)?0:1},a.abs=function(){return Qt(this)?mn(this):this},a.add=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),ze=[],vt=0,Ot=0;Ot<=Ne;Ot++){var Ft=vt+(65535&this.i(Ot))+(65535&ot.i(Ot)),nt=(Ft>>>16)+(this.i(Ot)>>>16)+(ot.i(Ot)>>>16);vt=nt>>>16,ze[Ot]=(nt&=65535)<<16|(Ft&=65535)}return new p(ze,-2147483648&ze[ze.length-1]?-1:0)},a.j=function(ot){if(Dt(this)||Dt(ot))return ae;if(Qt(this))return Qt(ot)?mn(this).j(mn(ot)):mn(mn(this).j(ot));if(Qt(ot))return mn(this.j(mn(ot)));if(0>this.l(Ze)&&0>ot.l(Ze))return x(this.m()*ot.m());for(var Ne=this.g.length+ot.g.length,ze=[],vt=0;vt<2*Ne;vt++)ze[vt]=0;for(vt=0;vt<this.g.length;vt++)for(var Ot=0;Ot<ot.g.length;Ot++){var Ft=this.i(vt)>>>16,nt=65535&this.i(vt),$a=ot.i(Ot)>>>16,Pl=65535&ot.i(Ot);ze[2*vt+2*Ot]+=nt*Pl,vr(ze,2*vt+2*Ot),ze[2*vt+2*Ot+1]+=Ft*Pl,vr(ze,2*vt+2*Ot+1),ze[2*vt+2*Ot+1]+=nt*$a,vr(ze,2*vt+2*Ot+1),ze[2*vt+2*Ot+2]+=Ft*$a,vr(ze,2*vt+2*Ot+2)}for(vt=0;vt<Ne;vt++)ze[vt]=ze[2*vt+1]<<16|ze[2*vt];for(vt=Ne;vt<2*Ne;vt++)ze[vt]=0;return new p(ze,0)},a.A=function(ot){return Kr(this,ot).h},a.and=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),ze=[],vt=0;vt<Ne;vt++)ze[vt]=this.i(vt)&ot.i(vt);return new p(ze,this.h&ot.h)},a.or=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),ze=[],vt=0;vt<Ne;vt++)ze[vt]=this.i(vt)|ot.i(vt);return new p(ze,this.h|ot.h)},a.xor=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),ze=[],vt=0;vt<Ne;vt++)ze[vt]=this.i(vt)^ot.i(vt);return new p(ze,this.h^ot.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ui.Md5=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=x,p.fromString=function X(ot,Ne){if(0==ot.length)throw Error("number format error: empty string");if(2>(Ne=Ne||10)||36<Ne)throw Error("radix out of range: "+Ne);if("-"==ot.charAt(0))return mn(X(ot.substring(1),Ne));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var ze=x(Math.pow(Ne,8)),vt=ae,Ot=0;Ot<ot.length;Ot+=8){var Ft=Math.min(8,ot.length-Ot),nt=parseInt(ot.substring(Ot,Ot+Ft),Ne);8>Ft?(Ft=x(Math.pow(Ne,Ft)),vt=vt.j(Ft).add(x(nt))):vt=(vt=vt.j(ze)).add(x(nt))}return vt},ns=Ui.Integer=p}).apply(typeof An<"u"?An:typeof self<"u"?self:typeof window<"u"?window:{});var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pi={};(function(){var a,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,V,J){return v==Array.prototype||v==Object.prototype||(v[V]=J.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof cs&&cs];for(var V=0;V<v.length;++V){var J=v[V];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}(this);!function u(v,V){if(V)e:{var J=s;v=v.split(".");for(var _e=0;_e<v.length-1;_e++){var Vt=v[_e];if(!(Vt in J))break e;J=J[Vt]}(V=V(_e=J[v=v[v.length-1]]))!=_e&&null!=V&&t(J,v,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(v){return v||function(){return function d(v,V){v instanceof String&&(v+="");var J=0,_e=!1,Vt={next:function(){if(!_e&&J<v.length){var cn=J++;return{value:V(cn,v[cn]),done:!1}}return _e=!0,{done:!0,value:void 0}}};return Vt[Symbol.iterator]=function(){return Vt},Vt}(this,function(V,J){return J})}});var p=p||{},I=this||self;function P(v){var V=typeof v;return"array"==(V="object"!=V?V:v?Array.isArray(v)?"array":V:"null")||"object"==V&&"number"==typeof v.length}function x(v){var V=typeof v;return"object"==V&&null!=v||"function"==V}function X(v,V,J){return v.call.apply(v.bind,arguments)}function ae(v,V,J){if(!v)throw Error();if(2<arguments.length){var _e=Array.prototype.slice.call(arguments,2);return function(){var Vt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Vt,_e),v.apply(V,Vt)}}return function(){return v.apply(V,arguments)}}function Se(v,V,J){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:ae).apply(null,arguments)}function Ze(v,V){var J=Array.prototype.slice.call(arguments,1);return function(){var _e=J.slice();return _e.push.apply(_e,arguments),v.apply(this,_e)}}function Dt(v,V){function J(){}J.prototype=V.prototype,v.aa=V.prototype,v.prototype=new J,v.prototype.constructor=v,v.Qb=function(_e,Vt,cn){for(var Er=Array(arguments.length-2),Ks=2;Ks<arguments.length;Ks++)Er[Ks-2]=arguments[Ks];return V.prototype[Vt].apply(_e,Er)}}function Qt(v){const V=v.length;if(0<V){const J=Array(V);for(let _e=0;_e<V;_e++)J[_e]=v[_e];return J}return[]}function mn(v,V){for(let J=1;J<arguments.length;J++){const _e=arguments[J];if(P(_e)){const Vt=v.length||0,cn=_e.length||0;v.length=Vt+cn;for(let Er=0;Er<cn;Er++)v[Vt+Er]=_e[Er]}else v.push(_e)}}function vr(v){return/^[\s\xa0]*$/.test(v)}function wr(){var v=I.navigator;return v&&(v=v.userAgent)?v:""}function Kr(v){return Kr[" "](v),v}Kr[" "]=function(){};var Hi=!(-1==wr().indexOf("Gecko")||-1!=wr().toLowerCase().indexOf("webkit")&&-1==wr().indexOf("Edge")||-1!=wr().indexOf("Trident")||-1!=wr().indexOf("MSIE")||-1!=wr().indexOf("Edge"));function gi(v,V,J){for(const _e in v)V.call(J,v[_e],_e,v)}function Ne(v){const V={};for(const J in v)V[J]=v[J];return V}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(v,V){let J,_e;for(let Vt=1;Vt<arguments.length;Vt++){for(J in _e=arguments[Vt],_e)v[J]=_e[J];for(let cn=0;cn<ze.length;cn++)J=ze[cn],Object.prototype.hasOwnProperty.call(_e,J)&&(v[J]=_e[J])}}function Ot(v){var V=1;v=v.split(":");const J=[];for(;0<V&&v.length;)J.push(v.shift()),V--;return v.length&&J.push(v.join(":")),J}function Ft(v){I.setTimeout(()=>{throw v},0)}function nt(){var v=as;let V=null;return v.g&&(V=v.g,v.g=v.g.next,v.g||(v.h=null),V.next=null),V}var Pl=new class sr{constructor(V,J){this.i=V,this.j=J,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new $r,v=>v.reset());class $r{constructor(){this.next=this.g=this.h=null}set(V,J){this.h=V,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let Yr,ai=!1,as=new class $a{constructor(){this.h=this.g=null}add(V,J){const _e=Pl.get();_e.set(V,J),this.h?this.h.next=_e:this.g=_e,this.h=_e}},Io=()=>{const v=I.Promise.resolve(void 0);Yr=()=>{v.then(yc)}};var yc=()=>{for(var v;v=nt();){try{v.h.call(v.g)}catch(J){Ft(J)}var V=Pl;V.j(v),100>V.h&&(V.h++,v.next=V.g,V.g=v)}ai=!1};function No(){this.s=this.s,this.C=this.C}function mo(v,V){this.type=v,this.g=this.target=V,this.defaultPrevented=!1}No.prototype.s=!1,No.prototype.ma=function(){this.s||(this.s=!0,this.N())},No.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},mo.prototype.h=function(){this.defaultPrevented=!0};var Gs=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var v=!1,V=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const J=()=>{};I.addEventListener("test",J,V),I.removeEventListener("test",J,V)}catch{}return v}();function Ed(v,V){if(mo.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var J=this.type=v.type,_e=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=V,V=v.relatedTarget){if(Hi){e:{try{Kr(V.nodeName);var Vt=!0;break e}catch{}Vt=!1}Vt||(V=null)}}else"mouseover"==J?V=v.fromElement:"mouseout"==J&&(V=v.toElement);this.relatedTarget=V,_e?(this.clientX=void 0!==_e.clientX?_e.clientX:_e.pageX,this.clientY=void 0!==_e.clientY?_e.clientY:_e.pageY,this.screenX=_e.screenX||0,this.screenY=_e.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:yE[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ed.aa.h.call(this)}}Dt(Ed,mo);var yE={2:"touch",3:"pen",4:"mouse"};Ed.prototype.h=function(){Ed.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),Ah=0;function Eu(v,V,J,_e,Vt){this.listener=v,this.proxy=null,this.src=V,this.type=J,this.capture=!!_e,this.ha=Vt,this.key=++Ah,this.da=this.fa=!1}function el(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ch(v){this.src=v,this.g={},this.h=0}function Ml(v,V){var J=V.type;if(J in v.g){var cn,_e=v.g[J],Vt=Array.prototype.indexOf.call(_e,V,void 0);(cn=0<=Vt)&&Array.prototype.splice.call(_e,Vt,1),cn&&(el(V),0==v.g[J].length&&(delete v.g[J],v.h--))}}function vE(v,V,J,_e){for(var Vt=0;Vt<v.length;++Vt){var cn=v[Vt];if(!cn.da&&cn.listener==V&&cn.capture==!!J&&cn.ha==_e)return Vt}return-1}Ch.prototype.add=function(v,V,J,_e,Vt){var cn=v.toString();(v=this.g[cn])||(v=this.g[cn]=[],this.h++);var Er=vE(v,V,_e,Vt);return-1<Er?(V=v[Er],J||(V.fa=!1)):((V=new Eu(V,this.src,cn,!!_e,Vt)).fa=J,v.push(V)),V};var ry="closure_lm_"+(1e6*Math.random()|0),EE={};function IE(v,V,J,_e,Vt){if(_e&&_e.once)return bE(v,V,J,_e,Vt);if(Array.isArray(V)){for(var cn=0;cn<V.length;cn++)IE(v,V[cn],J,_e,Vt);return null}return J=ym(J),v&&v[xo]?v.K(V,J,x(_e)?!!_e.capture:!!_e,Vt):TE(v,V,J,!1,_e,Vt)}function TE(v,V,J,_e,Vt,cn){if(!V)throw Error("Invalid event type");var Er=x(Vt)?!!Vt.capture:!!Vt,Ks=AE(v);if(Ks||(v[ry]=Ks=new Ch(v)),(J=Ks.add(V,J,_e,Er,cn)).proxy)return J;if(_e=function Bp(){const V=tS;return function v(J){return V.call(v.src,v.listener,J)}}(),J.proxy=_e,_e.src=v,_e.listener=J,v.addEventListener)Gs||(Vt=Er),void 0===Vt&&(Vt=!1),v.addEventListener(V.toString(),_e,Vt);else if(v.attachEvent)v.attachEvent(_m(V.toString()),_e);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(_e)}return J}function bE(v,V,J,_e,Vt){if(Array.isArray(V)){for(var cn=0;cn<V.length;cn++)bE(v,V[cn],J,_e,Vt);return null}return J=ym(J),v&&v[xo]?v.L(V,J,x(_e)?!!_e.capture:!!_e,Vt):TE(v,V,J,!0,_e,Vt)}function iy(v,V,J,_e,Vt){if(Array.isArray(V))for(var cn=0;cn<V.length;cn++)iy(v,V[cn],J,_e,Vt);else _e=x(_e)?!!_e.capture:!!_e,J=ym(J),v&&v[xo]?(v=v.i,(V=String(V).toString())in v.g&&-1<(J=vE(cn=v.g[V],J,_e,Vt))&&(el(cn[J]),Array.prototype.splice.call(cn,J,1),0==cn.length&&(delete v.g[V],v.h--))):v&&(v=AE(v))&&(V=v.g[V.toString()],v=-1,V&&(v=vE(V,J,_e,Vt)),(J=-1<v?V[v]:null)&&wE(J))}function wE(v){if("number"!=typeof v&&v&&!v.da){var V=v.src;if(V&&V[xo])Ml(V.i,v);else{var J=v.type,_e=v.proxy;V.removeEventListener?V.removeEventListener(J,_e,v.capture):V.detachEvent?V.detachEvent(_m(J),_e):V.addListener&&V.removeListener&&V.removeListener(_e),(J=AE(V))?(Ml(J,v),0==J.h&&(J.src=null,V[ry]=null)):el(v)}}}function _m(v){return v in EE?EE[v]:EE[v]="on"+v}function tS(v,V){if(v.da)v=!0;else{V=new Ed(V,this);var J=v.listener,_e=v.ha||v.src;v.fa&&wE(v),v=J.call(_e,V)}return v}function AE(v){return(v=v[ry])instanceof Ch?v:null}var sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(v){return"function"==typeof v?v:(v[sy]||(v[sy]=function(V){return v.handleEvent(V)}),v[sy])}function Ha(){No.call(this),this.i=new Ch(this),this.M=this,this.F=null}function Jo(v,V){var J,_e=v.F;if(_e)for(J=[];_e;_e=_e.F)J.push(_e);if(v=v.M,_e=V.type||V,"string"==typeof V)V=new mo(V,v);else if(V instanceof mo)V.target=V.target||v;else{var Vt=V;vt(V=new mo(_e,v),Vt)}if(Vt=!0,J)for(var cn=J.length-1;0<=cn;cn--){var Er=V.g=J[cn];Vt=Dh(Er,_e,!0,V)&&Vt}if(Vt=Dh(Er=V.g=v,_e,!0,V)&&Vt,Vt=Dh(Er,_e,!1,V)&&Vt,J)for(cn=0;cn<J.length;cn++)Vt=Dh(Er=V.g=J[cn],_e,!1,V)&&Vt}function Dh(v,V,J,_e){if(!(V=v.i.g[String(V)]))return!0;V=V.concat();for(var Vt=!0,cn=0;cn<V.length;++cn){var Er=V[cn];if(Er&&!Er.da&&Er.capture==J){var Ks=Er.listener,ba=Er.ha||Er.src;Er.fa&&Ml(v.i,Er),Vt=!1!==Ks.call(ba,_e)&&Vt}}return Vt&&!_e.defaultPrevented}function gb(v,V,J){if("function"==typeof v)J&&(v=Se(v,J));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Se(v.handleEvent,v)}return 2147483647<Number(V)?-1:I.setTimeout(v,V||0)}function mb(v){v.g=gb(()=>{v.g=null,v.i&&(v.i=!1,mb(v))},v.l);const V=v.h;v.h=null,v.m.apply(null,V)}Dt(Ha,No),Ha.prototype[xo]=!0,Ha.prototype.removeEventListener=function(v,V,J,_e){iy(this,v,V,J,_e)},Ha.prototype.N=function(){if(Ha.aa.N.call(this),this.i){var V,v=this.i;for(V in v.g){for(var J=v.g[V],_e=0;_e<J.length;_e++)el(J[_e]);delete v.g[V],v.h--}}this.F=null},Ha.prototype.K=function(v,V,J,_e){return this.i.add(String(v),V,!1,J,_e)},Ha.prototype.L=function(v,V,J,_e){return this.i.add(String(v),V,!0,J,_e)};class D0 extends No{constructor(V,J){super(),this.m=V,this.l=J,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:mb(this)}N(){super.N(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vm(v){No.call(this),this.h=v,this.g={}}Dt(vm,No);var _b=[];function yb(v){gi(v.g,function(V,J){this.g.hasOwnProperty(J)&&wE(V)},v),v.g={}}vm.prototype.N=function(){vm.aa.N.call(this),yb(this)},vm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var CE=I.JSON.stringify,S0=I.JSON.parse,DE=class{stringify(v){return I.JSON.stringify(v,void 0)}parse(v){return I.JSON.parse(v,void 0)}};function SE(){}function Eb(){}SE.prototype.h=null;var Sf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function RE(){mo.call(this,"d")}function oy(){mo.call(this,"c")}Dt(RE,mo),Dt(oy,mo);var Rf={},Ib=null;function ay(){return Ib=Ib||new Ha}function Tb(v){mo.call(this,Rf.La,v)}function Em(v){const V=ay();Jo(V,new Tb(V))}function bb(v,V){mo.call(this,Rf.STAT_EVENT,v),this.stat=V}function iu(v){const V=ay();Jo(V,new bb(V,v))}function wb(v,V){mo.call(this,Rf.Ma,v),this.size=V}function Im(v,V){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){v()},V)}function Tm(){this.g=!0}function jp(v,V,J,_e){v.info(function(){return"XMLHTTP TEXT ("+V+"): "+function PE(v,V){if(!v.g)return V;if(!V)return null;try{var J=JSON.parse(V);if(J)for(v=0;v<J.length;v++)if(Array.isArray(J[v])){var _e=J[v];if(!(2>_e.length)){var Vt=_e[1];if(Array.isArray(Vt)&&!(1>Vt.length)){var cn=Vt[0];if("noop"!=cn&&"stop"!=cn&&"close"!=cn)for(var Er=1;Er<Vt.length;Er++)Vt[Er]=""}}}return CE(J)}catch{return V}}(v,J)+(_e?" "+_e:"")})}Rf.La="serverreachability",Dt(Tb,mo),Rf.STAT_EVENT="statevent",Dt(bb,mo),Rf.Ma="timingevent",Dt(wb,mo),Tm.prototype.xa=function(){this.g=!1},Tm.prototype.info=function(){};var ME,uy={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function cy(){}function Sh(v,V,J,_e){this.j=v,this.i=V,this.l=J,this.R=_e||1,this.U=new vm(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Db}function Db(){this.i=null,this.g="",this.h=!1}Dt(cy,SE),cy.prototype.g=function(){return new XMLHttpRequest},cy.prototype.i=function(){return{}},ME=new cy;var Sb={},kE={};function OE(v,V,J){v.L=1,v.v=Cm(Rh(V)),v.m=J,v.P=!0,NE(v,null)}function NE(v,V){v.F=Date.now(),ly(v),v.A=Rh(v.v);var J=v.A,_e=v.R;Array.isArray(_e)||(_e=[String(_e)]),gy(J.i,"t",_e),v.C=0,J=v.j.J,v.h=new Db,v.g=Nf(v.j,J?V:null,!v.m),0<v.O&&(v.M=new D0(Se(v.Y,v,v.g),v.O)),V=v.U,J=v.g,_e=v.ca;var Vt="readystatechange";Array.isArray(Vt)||(Vt&&(_b[0]=Vt.toString()),Vt=_b);for(var cn=0;cn<Vt.length;cn++){var Er=IE(J,Vt[cn],_e||V.handleEvent,!1,V.h||V);if(!Er)break;V.g[Er.key]=Er}V=v.H?Ne(v.H):{},v.m?(v.u||(v.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,V)):(v.u="GET",v.g.ea(v.A,v.u,null,V)),Em(),function R0(v,V,J,_e,Vt,cn){v.info(function(){if(v.g)if(cn)for(var Er="",Ks=cn.split("&"),ba=0;ba<Ks.length;ba++){var Es=Ks[ba].split("=");if(1<Es.length){var aa=Es[0];Es=Es[1];var Lo=aa.split("_");Er=2<=Lo.length&&"type"==Lo[1]?Er+(aa+"=")+Es+"&":Er+(aa+"=redacted&")}}else Er=null;else Er=cn;return"XMLHTTP REQ ("+_e+") [attempt "+Vt+"]: "+V+"\n"+J+"\n"+Er})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Rb(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function Pb(v,V){var J=v.C,_e=V.indexOf("\n",J);return-1==_e?kE:(J=Number(V.substring(J,_e)),isNaN(J)?Sb:(_e+=1)+J>V.length?kE:(V=V.slice(_e,_e+J),v.C=_e+J,V))}function ly(v){v.S=Date.now()+v.I,xE(v,v.I)}function xE(v,V){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Im(Se(v.ba,v),V)}function Mb(v){v.B&&(I.clearTimeout(v.B),v.B=null)}function bm(v){0==v.j.G||v.J||Jb(v.j,v)}function $p(v){Mb(v);var V=v.M;V&&"function"==typeof V.ma&&V.ma(),v.M=null,yb(v.U),v.g&&(V=v.g,v.g=null,V.abort(),V.ma())}function dy(v,V){try{var J=v.j;if(0!=J.G&&(J.g==v||VE(J.h,v)))if(!v.K&&VE(J.h,v)&&3==J.G){try{var _e=J.Da.g.parse(V)}catch{_e=null}if(Array.isArray(_e)&&3==_e.length){var Vt=_e;if(0==Vt[0]){e:if(!J.u){if(J.g){if(!(J.g.F+3e3<v.F))break e;vy(J),_y(J)}GE(J),iu(18)}}else J.za=Vt[1],0<J.za-J.T&&37500>Vt[2]&&J.F&&0==J.v&&!J.C&&(J.C=Im(Se(J.Za,J),6e3));if(1>=LE(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else kf(J,11)}else if((v.K||J.g==v)&&vy(J),!vr(V))for(Vt=J.Da.g.parse(V),V=0;V<Vt.length;V++){let Es=Vt[V];if(J.T=Es[0],Es=Es[1],2==J.G)if("c"==Es[0]){J.K=Es[1],J.ia=Es[2];const aa=Es[3];null!=aa&&(J.la=aa,J.j.info("VER="+J.la));const Lo=Es[4];null!=Lo&&(J.Aa=Lo,J.j.info("SVER="+J.Aa));const zp=Es[5];null!=zp&&"number"==typeof zp&&0<zp&&(J.L=_e=1.5*zp,J.j.info("backChannelRequestTimeoutMs_="+_e)),_e=J;const rl=v.g;if(rl){const Gp=rl.g?rl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gp){var cn=_e.h;cn.g||-1==Gp.indexOf("spdy")&&-1==Gp.indexOf("quic")&&-1==Gp.indexOf("h2")||(cn.j=cn.l,cn.g=new Set,cn.h&&(wm(cn,cn.h),cn.h=null))}if(_e.D){const Mh=rl.g?rl.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(_e.ya=Mh,_o(_e.I,_e.D,Mh))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-v.F,J.j.info("Handshake RTT: "+J.R+"ms"));var Er=v;if((_e=J).qa=Of(_e,_e.J?_e.ia:null,_e.W),Er.K){UE(_e.h,Er);var Ks=Er,ba=_e.L;ba&&(Ks.I=ba),Ks.B&&(Mb(Ks),ly(Ks)),_e.g=Er}else Xb(_e);0<J.i.length&&yy(J)}else"stop"!=Es[0]&&"close"!=Es[0]||kf(J,7);else 3==J.G&&("stop"==Es[0]||"close"==Es[0]?"stop"==Es[0]?kf(J,7):zE(J):"noop"!=Es[0]&&J.l&&J.l.ta(Es),J.v=0)}Em()}catch{}}Sh.prototype.ca=function(v){v=v.target;const V=this.M;V&&3==Ad(v)?V.j():this.Y(v)},Sh.prototype.Y=function(v){try{if(v==this.g)e:{const Lo=Ad(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>Lo)&&(3!=Lo||this.g&&(this.h.h||this.g.oa()||zb(this.g)))){this.J||4!=Lo||7==V||Em(),Mb(this);var J=this.g.Z();this.X=J;t:if(Rb(this)){var _e=zb(this.g);v="";var Vt=_e.length,cn=4==Ad(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$p(this),bm(this);var Er="";break t}this.h.i=new I.TextDecoder}for(V=0;V<Vt;V++)this.h.h=!0,v+=this.h.i.decode(_e[V],{stream:!(cn&&V==Vt-1)});_e.length=0,this.h.g+=v,this.C=0,Er=this.h.g}else Er=this.g.oa();if(this.o=200==J,function P0(v,V,J,_e,Vt,cn,Er){v.info(function(){return"XMLHTTP RESP ("+_e+") [ attempt "+Vt+"]: "+V+"\n"+J+"\n"+cn+" "+Er})}(this.i,this.u,this.A,this.l,this.R,Lo,J),this.o){if(this.T&&!this.K){t:{if(this.g){var Ks,ba=this.g;if((Ks=ba.g?ba.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(Ks)){var Es=Ks;break t}}Es=null}if(!(J=Es)){this.o=!1,this.s=3,iu(12),$p(this),bm(this);break e}jp(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dy(this,J)}if(this.P){let rl;for(J=!0;!this.J&&this.C<Er.length;){if(rl=Pb(this,Er),rl==kE){4==Lo&&(this.s=4,iu(14),J=!1),jp(this.i,this.l,null,"[Incomplete Response]");break}if(rl==Sb){this.s=4,iu(15),jp(this.i,this.l,Er,"[Invalid Chunk]"),J=!1;break}jp(this.i,this.l,rl,null),dy(this,rl)}if(Rb(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Lo||0!=Er.length||this.h.h||(this.s=1,iu(16),J=!1),this.o=this.o&&J,J){if(0<Er.length&&!this.W){this.W=!0;var aa=this.j;aa.g==this&&aa.ba&&!aa.M&&(aa.j.info("Great, no buffering proxy detected. Bytes received: "+Er.length),KE(aa),aa.M=!0,iu(11))}}else jp(this.i,this.l,Er,"[Invalid Chunked Response]"),$p(this),bm(this)}else jp(this.i,this.l,Er,null),dy(this,Er);4==Lo&&$p(this),this.o&&!this.J&&(4==Lo?Jb(this.j,this):(this.o=!1,ly(this)))}else(function U0(v){const V={};v=(v.g&&2<=Ad(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let _e=0;_e<v.length;_e++){if(vr(v[_e]))continue;var J=Ot(v[_e]);const Vt=J[0];if("string"!=typeof(J=J[1]))continue;J=J.trim();const cn=V[Vt]||[];V[Vt]=cn,cn.push(J)}!function ot(v,V){for(const J in v)V.call(void 0,v[J],J,v)}(V,function(_e){return _e.join(", ")})})(this.g),400==J&&0<Er.indexOf("Unknown SID")?(this.s=3,iu(12)):(this.s=0,iu(13)),$p(this),bm(this)}}}catch{}},Sh.prototype.cancel=function(){this.J=!0,$p(this)},Sh.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Ab(v,V){v.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(Em(),iu(17)),$p(this),this.s=2,bm(this)):xE(this,this.S-v)};var kb=class{constructor(v,V){this.g=v,this.map=V}};function FE(v){this.l=v||10,v=I.PerformanceNavigationTiming?0<(v=I.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(I.chrome&&I.chrome.loadTimes&&I.chrome.loadTimes()&&I.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ob(v){return!!v.h||!!v.g&&v.g.size>=v.j}function LE(v){return v.h?1:v.g?v.g.size:0}function VE(v,V){return v.h?v.h==V:!!v.g&&v.g.has(V)}function wm(v,V){v.g?v.g.add(V):v.h=V}function UE(v,V){v.h&&v.h==V?v.h=null:v.g&&v.g.has(V)&&v.g.delete(V)}function Nb(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let V=v.i;for(const J of v.g.values())V=V.concat(J.D);return V}return Qt(v.i)}function jE(v,V){if(v.forEach&&"function"==typeof v.forEach)v.forEach(V,void 0);else if(P(v)||"string"==typeof v)Array.prototype.forEach.call(v,V,void 0);else for(var J=function xb(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(P(v)||"string"==typeof v){var V=[];v=v.length;for(var J=0;J<v;J++)V.push(J);return V}V=[],J=0;for(const _e in v)V[J++]=_e;return V}}}(v),_e=function BE(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(P(v)){for(var V=[],J=v.length,_e=0;_e<J;_e++)V.push(v[_e]);return V}for(_e in V=[],J=0,v)V[J++]=v[_e];return V}(v),Vt=_e.length,cn=0;cn<Vt;cn++)V.call(void 0,_e[cn],J&&J[cn],v)}FE.prototype.cancel=function(){if(this.i=Nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Fb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof tl){this.h=v.h,Am(this,v.j),this.o=v.o,this.g=v.g,hy(this,v.s),this.l=v.l;var V=v.i,J=new Pf;J.i=V.i,V.g&&(J.g=new Map(V.g),J.h=V.h),M0(this,J),this.m=v.m}else v&&(V=String(v).match(Fb))?(this.h=!1,Am(this,V[1]||"",!0),this.o=Na(V[2]||""),this.g=Na(V[3]||"",!0),hy(this,V[4]),this.l=Na(V[5]||"",!0),M0(this,V[6]||"",!0),this.m=Na(V[7]||"")):(this.h=!1,this.i=new Pf(null,this.h))}function Rh(v){return new tl(v)}function Am(v,V,J){v.j=J?Na(V,!0):V,v.j&&(v.j=v.j.replace(/:$/,""))}function hy(v,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);v.s=V}else v.s=null}function M0(v,V,J){V instanceof Pf?(v.i=V,function $E(v,V){V&&!v.j&&(Id(v),v.i=null,v.g.forEach(function(J,_e){var Vt=_e.toLowerCase();_e!=Vt&&(Ph(this,_e),gy(this,Vt,J))},v)),v.j=V}(v.i,v.h)):(J||(V=fy(V,jb)),v.i=new Pf(V,v.h))}function _o(v,V,J){v.i.set(V,J)}function Cm(v){return _o(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Na(v,V){return v?V?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function fy(v,V,J){return"string"==typeof v?(v=encodeURI(v).replace(V,py),J&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function py(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}tl.prototype.toString=function(){var v=[],V=this.j;V&&v.push(fy(V,Vb,!0),":");var J=this.g;return(J||"file"==V)&&(v.push("//"),(V=this.o)&&v.push(fy(V,Vb,!0),"@"),v.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(J=this.s)&&v.push(":",String(J))),(J=this.l)&&(this.g&&"/"!=J.charAt(0)&&v.push("/"),v.push(fy(J,"/"==J.charAt(0)?Bb:Ub,!0))),(J=this.i.toString())&&v.push("?",J),(J=this.m)&&v.push("#",fy(J,Dm)),v.join("")};var Vb=/[#\/\?@]/g,Ub=/[#\?:]/g,Bb=/[#\?]/g,jb=/[#\?@]/g,Dm=/#/g;function Pf(v,V){this.h=this.g=null,this.i=v||null,this.j=!!V}function Id(v){v.g||(v.g=new Map,v.h=0,v.i&&function Lb(v,V){if(v){v=v.split("&");for(var J=0;J<v.length;J++){var _e=v[J].indexOf("="),Vt=null;if(0<=_e){var cn=v[J].substring(0,_e);Vt=v[J].substring(_e+1)}else cn=v[J];V(cn,Vt?decodeURIComponent(Vt.replace(/\+/g," ")):"")}}}(v.i,function(V,J){v.add(decodeURIComponent(V.replace(/\+/g," ")),J)}))}function Ph(v,V){Id(v),V=Mf(v,V),v.g.has(V)&&(v.i=null,v.h-=v.g.get(V).length,v.g.delete(V))}function Td(v,V){return Id(v),V=Mf(v,V),v.g.has(V)}function gy(v,V,J){Ph(v,V),0<J.length&&(v.i=null,v.g.set(Mf(v,V),Qt(J)),v.h+=J.length)}function Mf(v,V){return V=String(V),v.j&&(V=V.toLowerCase()),V}function bd(v,V,J,_e,Vt){try{Vt&&(Vt.onload=null,Vt.onerror=null,Vt.onabort=null,Vt.ontimeout=null),_e(J)}catch{}}function N0(){this.g=new DE}function x0(v,V,J){const _e=J||"";try{jE(v,function(Vt,cn){let Er=Vt;x(Vt)&&(Er=CE(Vt)),V.push(_e+cn+"="+encodeURIComponent(Er))})}catch(Vt){throw V.push(_e+"type="+encodeURIComponent("_badmap")),Vt}}function Sm(v){this.l=v.Ub||null,this.j=v.eb||!1}function Hp(v,V){Ha.call(this),this.D=v,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function $b(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function lo(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Wp(v)}function Wp(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function wd(v){let V="";return gi(v,function(J,_e){V+=_e,V+=":",V+=J,V+="\r\n"}),V}function HE(v,V,J){e:{for(_e in J){var _e=!1;break e}_e=!0}_e||(J=wd(J),"string"==typeof v?null!=J&&encodeURIComponent(String(J)):_o(v,V,J))}function Fo(v){Ha.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Pf.prototype).add=function(v,V){Id(this),this.i=null,v=Mf(this,v);var J=this.g.get(v);return J||this.g.set(v,J=[]),J.push(V),this.h+=1,this},a.forEach=function(v,V){Id(this),this.g.forEach(function(J,_e){J.forEach(function(Vt){v.call(V,Vt,_e,this)},this)},this)},a.na=function(){Id(this);const v=Array.from(this.g.values()),V=Array.from(this.g.keys()),J=[];for(let _e=0;_e<V.length;_e++){const Vt=v[_e];for(let cn=0;cn<Vt.length;cn++)J.push(V[_e])}return J},a.V=function(v){Id(this);let V=[];if("string"==typeof v)Td(this,v)&&(V=V.concat(this.g.get(Mf(this,v))));else{v=Array.from(this.g.values());for(let J=0;J<v.length;J++)V=V.concat(v[J])}return V},a.set=function(v,V){return Id(this),this.i=null,Td(this,v=Mf(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[V]),this.h+=1,this},a.get=function(v,V){return v&&0<(v=this.V(v)).length?String(v[0]):V},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],V=Array.from(this.g.keys());for(var J=0;J<V.length;J++){var _e=V[J];const cn=encodeURIComponent(String(_e)),Er=this.V(_e);for(_e=0;_e<Er.length;_e++){var Vt=cn;""!==Er[_e]&&(Vt+="="+encodeURIComponent(String(Er[_e]))),v.push(Vt)}}return this.i=v.join("&")},Dt(Sm,SE),Sm.prototype.g=function(){return new Hp(this.l,this.j)},Sm.prototype.i=function(v){return function(){return v}}({}),Dt(Hp,Ha),(a=Hp.prototype).open=function(v,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=V,this.readyState=1,Wp(this)},a.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(V.body=v),(this.D||I).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=0},a.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Wp(this)),this.g&&(this.readyState=3,Wp(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$b(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var V=v.value?v.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!v.done}))&&(this.response=this.responseText+=V)}v.done?lo(this):Wp(this),3==this.readyState&&$b(this)}},a.Ra=function(v){this.g&&(this.response=this.responseText=v,lo(this))},a.Qa=function(v){this.g&&(this.response=v,lo(this))},a.ga=function(){this.g&&lo(this)},a.setRequestHeader=function(v,V){this.u.append(v,V)},a.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],V=this.h.entries();for(var J=V.next();!J.done;)v.push((J=J.value)[0]+": "+J[1]),J=V.next();return v.join("\r\n")},Object.defineProperty(Hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Dt(Fo,Ha);var F0=/^https?$/i,L0=["POST","PUT"];function Hb(v,V){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=V,v.m=5,WE(v),my(v)}function WE(v){v.A||(v.A=!0,Jo(v,"complete"),Jo(v,"error"))}function V0(v){if(v.h&&typeof p<"u"&&(!v.v[1]||4!=Ad(v)||2!=v.Z()))if(v.u&&4==Ad(v))gb(v.Ea,0,v);else if(Jo(v,"readystatechange"),4==Ad(v)){v.h=!1;try{const Er=v.Z();e:switch(Er){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var J;if(!(J=V)){var _e;if(_e=0===Er){var Vt=String(v.D).match(Fb)[1]||null;!Vt&&I.self&&I.self.location&&(Vt=I.self.location.protocol.slice(0,-1)),_e=!F0.test(Vt?Vt.toLowerCase():"")}J=_e}if(J)Jo(v,"complete"),Jo(v,"success");else{v.m=6;try{var cn=2<Ad(v)?v.g.statusText:""}catch{cn=""}v.l=cn+" ["+v.Z()+"]",WE(v)}}finally{my(v)}}}function my(v,V){if(v.g){Wb(v);const J=v.g,_e=v.v[0]?()=>{}:null;v.g=null,v.v=null,V||Jo(v,"ready");try{J.onreadystatechange=_e}catch{}}}function Wb(v){v.I&&(I.clearTimeout(v.I),v.I=null)}function Ad(v){return v.g?v.g.readyState:0}function zb(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Rm(v,V,J){return J&&J.internalChannelParams&&J.internalChannelParams[v]||V}function Gb(v){this.Aa=0,this.i=[],this.j=new Tm,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rm("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rm("baseRetryDelayMs",5e3,v),this.cb=Rm("retryDelaySeedMs",1e4,v),this.Wa=Rm("forwardChannelMaxRetries",2,v),this.wa=Rm("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new FE(v&&v.concurrentRequestLimit),this.Da=new N0,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function zE(v){if(Kb(v),3==v.G){var V=v.U++,J=Rh(v.I);if(_o(J,"SID",v.K),_o(J,"RID",V),_o(J,"TYPE","terminate"),Pm(v,J),(V=new Sh(v,v.j,V)).L=2,V.v=Cm(Rh(J)),J=!1,I.navigator&&I.navigator.sendBeacon)try{J=I.navigator.sendBeacon(V.v.toString(),"")}catch{}!J&&I.Image&&((new Image).src=V.v,J=!0),J||(V.g=Nf(V.j,null),V.g.ea(V.v)),V.F=Date.now(),ly(V)}Ey(v)}function _y(v){v.g&&(KE(v),v.g.cancel(),v.g=null)}function Kb(v){_y(v),v.u&&(I.clearTimeout(v.u),v.u=null),vy(v),v.h.cancel(),v.s&&("number"==typeof v.s&&I.clearTimeout(v.s),v.s=null)}function yy(v){if(!Ob(v.h)&&!v.s){v.s=!0;var V=v.Ga;Yr||Io(),ai||(Yr(),ai=!0),as.add(V,v),v.B=0}}function qb(v,V){var J;J=V?V.l:v.U++;const _e=Rh(v.I);_o(_e,"SID",v.K),_o(_e,"RID",J),_o(_e,"AID",v.T),Pm(v,_e),v.m&&v.o&&HE(_e,v.m,v.o),J=new Sh(v,v.j,J,v.B+1),null===v.m&&(J.H=v.o),V&&(v.i=V.D.concat(v.i)),V=Qb(v,J,1e3),J.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),wm(v.h,J),OE(J,_e,V)}function Pm(v,V){v.H&&gi(v.H,function(J,_e){_o(V,_e,J)}),v.l&&jE({},function(J,_e){_o(V,_e,J)})}function Qb(v,V,J){J=Math.min(v.i.length,J);var _e=v.l?Se(v.l.Na,v.l,v):null;e:{var Vt=v.i;let cn=-1;for(;;){const Er=["count="+J];-1==cn?0<J?(cn=Vt[0].g,Er.push("ofs="+cn)):cn=0:Er.push("ofs="+cn);let Ks=!0;for(let ba=0;ba<J;ba++){let Es=Vt[ba].g;const aa=Vt[ba].map;if(Es-=cn,0>Es)cn=Math.max(0,Vt[ba].g-100),Ks=!1;else try{x0(aa,Er,"req"+Es+"_")}catch{_e&&_e(aa)}}if(Ks){_e=Er.join("&");break e}}}return v=v.i.splice(0,J),V.D=v,_e}function Xb(v){if(!v.g&&!v.u){v.Y=1;var V=v.Fa;Yr||Io(),ai||(Yr(),ai=!0),as.add(V,v),v.v=0}}function GE(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Im(Se(v.Fa,v),Zb(v,v.v)),v.v++,0))}function KE(v){null!=v.A&&(I.clearTimeout(v.A),v.A=null)}function Yb(v){v.g=new Sh(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var V=Rh(v.qa);_o(V,"RID","rpc"),_o(V,"SID",v.K),_o(V,"AID",v.T),_o(V,"CI",v.F?"0":"1"),!v.F&&v.ja&&_o(V,"TO",v.ja),_o(V,"TYPE","xmlhttp"),Pm(v,V),v.m&&v.o&&HE(V,v.m,v.o),v.L&&(v.g.I=v.L);var J=v.g;v=v.ia,J.L=1,J.v=Cm(Rh(V)),J.m=null,J.P=!0,NE(J,v)}function vy(v){null!=v.C&&(I.clearTimeout(v.C),v.C=null)}function Jb(v,V){var J=null;if(v.g==V){vy(v),KE(v),v.g=null;var _e=2}else{if(!VE(v.h,V))return;J=V.D,UE(v.h,V),_e=1}if(0!=v.G)if(V.o)if(1==_e){J=V.m?V.m.length:0,V=Date.now()-V.F;var Vt=v.B;Jo(_e=ay(),new wb(_e,J)),yy(v)}else Xb(v);else if(3==(Vt=V.s)||0==Vt&&0<V.X||!(1==_e&&function B0(v,V){return!(LE(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=V.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Im(Se(v.Ga,v,V),Zb(v,v.B)),v.B++,0)))}(v,V)||2==_e&&GE(v)))switch(J&&0<J.length&&(V=v.h,V.i=V.i.concat(J)),Vt){case 1:kf(v,5);break;case 4:kf(v,10);break;case 3:kf(v,6);break;default:kf(v,2)}}function Zb(v,V){let J=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(J*=2),J*V}function kf(v,V){if(v.j.info("Error code "+V),2==V){var J=Se(v.fb,v),_e=v.Xa;const Vt=!_e;_e=new tl(_e||"//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||Am(_e,"https"),Cm(_e),Vt?function k0(v,V){const J=new Tm;if(I.Image){const _e=new Image;_e.onload=Ze(bd,J,"TestLoadImage: loaded",!0,V,_e),_e.onerror=Ze(bd,J,"TestLoadImage: error",!1,V,_e),_e.onabort=Ze(bd,J,"TestLoadImage: abort",!1,V,_e),_e.ontimeout=Ze(bd,J,"TestLoadImage: timeout",!1,V,_e),I.setTimeout(function(){_e.ontimeout&&_e.ontimeout()},1e4),_e.src=v}else V(!1)}(_e.toString(),J):function O0(v,V){new Tm;const _e=new AbortController,Vt=setTimeout(()=>{_e.abort(),bd(0,0,!1,V)},1e4);fetch(v,{signal:_e.signal}).then(cn=>{clearTimeout(Vt),bd(0,0,!!cn.ok,V)}).catch(()=>{clearTimeout(Vt),bd(0,0,!1,V)})}(_e.toString(),J)}else iu(2);v.G=0,v.l&&v.l.sa(V),Ey(v),Kb(v)}function Ey(v){if(v.G=0,v.ka=[],v.l){const V=Nb(v.h);(0!=V.length||0!=v.i.length)&&(mn(v.ka,V),mn(v.ka,v.i),v.h.i.length=0,Qt(v.i),v.i.length=0),v.l.ra()}}function Of(v,V,J){var _e=J instanceof tl?Rh(J):new tl(J);if(""!=_e.g)V&&(_e.g=V+"."+_e.g),hy(_e,_e.s);else{var Vt=I.location;_e=Vt.protocol,V=V?V+"."+Vt.hostname:Vt.hostname,Vt=+Vt.port;var cn=new tl(null);_e&&Am(cn,_e),V&&(cn.g=V),Vt&&hy(cn,Vt),J&&(cn.l=J),_e=cn}return V=v.ya,(J=v.D)&&V&&_o(_e,J,V),_o(_e,"VER",v.la),Pm(v,_e),_e}function Nf(v,V,J){if(V&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new Fo(v.Ca&&!v.pa?new Sm({eb:J}):v.pa)).Ha(v.J),V}function xf(){}function Cd(){}function Ta(v,V){Ha.call(this),this.g=new Gb(V),this.l=v,this.h=V&&V.messageUrlParams||null,v=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(v?v["X-WebChannel-Content-Type"]=V.messageContentType:v={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(v?v["X-WebChannel-Client-Profile"]=V.va:v={"X-WebChannel-Client-Profile":V.va}),this.g.S=v,(v=V&&V.Sb)&&!vr(v)&&(this.g.m=v),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!vr(V)&&(this.g.D=V,null!==(v=this.h)&&V in v&&V in(v=this.h)&&delete v[V]),this.j=new nl(this)}function Ff(v){RE.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var V=v.__sm__;if(V){e:{for(const J in V){v=J;break e}v=void 0}(this.i=v)&&(v=this.i,V=null!==V&&v in V?V[v]:void 0),this.data=V}else this.data=v}function Lf(){oy.call(this),this.status=1}function nl(v){this.g=v}(a=Fo.prototype).Ha=function(v){this.J=v},a.ea=function(v,V,J,_e){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);V=V?V.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ME.g(),this.v=function vb(v){return v.h||(v.h=v.i())}(this.o?this.o:ME),this.g.onreadystatechange=Se(this.Ea,this);try{this.B=!0,this.g.open(V,String(v),!0),this.B=!1}catch(cn){return void Hb(this,cn)}if(v=J||"",J=new Map(this.headers),_e)if(Object.getPrototypeOf(_e)===Object.prototype)for(var Vt in _e)J.set(Vt,_e[Vt]);else{if("function"!=typeof _e.keys||"function"!=typeof _e.get)throw Error("Unknown input type for opt_headers: "+String(_e));for(const cn of _e.keys())J.set(cn,_e.get(cn))}_e=Array.from(J.keys()).find(cn=>"content-type"==cn.toLowerCase()),Vt=I.FormData&&v instanceof I.FormData,!(0<=Array.prototype.indexOf.call(L0,V,void 0))||_e||Vt||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[cn,Er]of J)this.g.setRequestHeader(cn,Er);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wb(this),this.u=!0,this.g.send(v),this.u=!1}catch(cn){Hb(this,cn)}},a.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Jo(this,"complete"),Jo(this,"abort"),my(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),my(this,!0)),Fo.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?V0(this):this.bb())},a.bb=function(){V0(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Ad(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(v){if(this.g){var V=this.g.responseText;return v&&0==V.indexOf(v)&&(V=V.substring(v.length)),S0(V)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Gb.prototype).la=8,a.G=1,a.connect=function(v,V,J,_e){iu(0),this.W=v,this.H=V||{},J&&void 0!==_e&&(this.H.OSID=J,this.H.OAID=_e),this.F=this.X,this.I=Of(this,null,this.W),yy(this)},a.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Vt=new Sh(this,this.j,v);let cn=this.o;if(this.S&&(cn?(cn=Ne(cn),vt(cn,this.S)):cn=this.S),null!==this.m||this.O||(Vt.H=cn,cn=null),this.P)e:{for(var V=0,J=0;J<this.i.length;J++){var _e=this.i[J];if(void 0===(_e="__data__"in _e.map&&"string"==typeof(_e=_e.map.__data__)?_e.length:void 0))break;if(4096<(V+=_e)){V=J;break e}if(4096===V||J===this.i.length-1){V=J+1;break e}}V=1e3}else V=1e3;V=Qb(this,Vt,V),_o(J=Rh(this.I),"RID",v),_o(J,"CVER",22),this.D&&_o(J,"X-HTTP-Session-Id",this.D),Pm(this,J),cn&&(this.O?V="headers="+encodeURIComponent(String(wd(cn)))+"&"+V:this.m&&HE(J,this.m,cn)),wm(this.h,Vt),this.Ua&&_o(J,"TYPE","init"),this.P?(_o(J,"$req",V),_o(J,"SID","null"),Vt.T=!0,OE(Vt,J,null)):OE(Vt,J,V),this.G=2}}else 3==this.G&&(v?qb(this,v):0==this.i.length||Ob(this.h)||qb(this))},a.Fa=function(){if(this.u=null,Yb(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Im(Se(this.ab,this),v)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,iu(10),_y(this),Yb(this))},a.Za=function(){null!=this.C&&(this.C=null,_y(this),GE(this),iu(19))},a.fb=function(v){v?(this.j.info("Successfully pinged google.com"),iu(2)):(this.j.info("Failed to ping google.com"),iu(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=xf.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Cd.prototype.g=function(v,V){return new Ta(v,V)},Dt(Ta,Ha),Ta.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ta.prototype.close=function(){zE(this.g)},Ta.prototype.o=function(v){var V=this.g;if("string"==typeof v){var J={};J.__data__=v,v=J}else this.u&&((J={}).__data__=CE(v),v=J);V.i.push(new kb(V.Ya++,v)),3==V.G&&yy(V)},Ta.prototype.N=function(){this.g.l=null,delete this.j,zE(this.g),delete this.g,Ta.aa.N.call(this)},Dt(Ff,RE),Dt(Lf,oy),Dt(nl,xf),nl.prototype.ua=function(){Jo(this.g,"a")},nl.prototype.ta=function(v){Jo(this.g,new Ff(v))},nl.prototype.sa=function(v){Jo(this.g,new Lf)},nl.prototype.ra=function(){Jo(this.g,"b")},Cd.prototype.createWebChannel=Cd.prototype.g,Ta.prototype.send=Ta.prototype.o,Ta.prototype.open=Ta.prototype.m,Ta.prototype.close=Ta.prototype.close,Pi.createWebChannelTransport=function(){return new Cd},Pi.getStatEventTarget=function(){return ay()},Pi.Event=Rf,Pi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uy.NO_ERROR=0,uy.TIMEOUT=8,uy.HTTP_ERROR=6,Pi.ErrorCode=uy,Cb.COMPLETE="complete",Pi.EventType=Cb,Eb.EventType=Sf,Sf.OPEN="a",Sf.CLOSE="b",Sf.ERROR="c",Sf.MESSAGE="d",Ha.prototype.listen=Ha.prototype.K,Pi.WebChannel=Eb,Pi.FetchXmlHttpFactory=Sm,Fo.prototype.listenOnce=Fo.prototype.L,Fo.prototype.getLastError=Fo.prototype.Ka,Fo.prototype.getLastErrorCode=Fo.prototype.Ba,Fo.prototype.getStatus=Fo.prototype.Z,Fo.prototype.getResponseJson=Fo.prototype.Oa,Fo.prototype.getResponseText=Fo.prototype.oa,Fo.prototype.send=Fo.prototype.ea,Fo.prototype.setWithCredentials=Fo.prototype.Ha,Pi.XhrIo=Fo}).apply(typeof cs<"u"?cs:typeof self<"u"?self:typeof window<"u"?window:{});const Un="@firebase/firestore";class er{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let $n="11.10.0";const Br=new ti.Vy("@firebase/firestore");function he(a,...t){if(Br.logLevel<=ti.$b.DEBUG){const r=t.map(Zt);Br.debug(`Firestore (${$n}): ${a}`,...r)}}function be(a,...t){if(Br.logLevel<=ti.$b.ERROR){const r=t.map(Zt);Br.error(`Firestore (${$n}): ${a}`,...r)}}function Zt(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Oe(a,t,r){let s="Unexpected state";"string"==typeof t?s=t:r=t,tr(a,s,r)}function tr(a,t,r){let s=`FIRESTORE (${$n}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(void 0!==r)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw be(s),new Error(s)}function rn(a,t,r,s){let u="Unexpected state";"string"==typeof r?u=r:s=r,a||tr(t,u,s)}const Z_CANCELLED="cancelled",Z_INVALID_ARGUMENT="invalid-argument",Z_FAILED_PRECONDITION="failed-precondition";class fe extends On.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class it{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class At{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(er.UNAUTHENTICATED))}shutdown(){}}class Vn{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Yn{constructor(t){this.t=t,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var s=this;rn(void 0===this.o,42304);let u=this.i;const d=x=>this.i!==u?(u=this.i,r(x)):Promise.resolve();let p=new it;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new it,t.enqueueRetryable(()=>d(this.currentUser))};const I=()=>{const x=p;t.enqueueRetryable((0,Rn.A)(function*(){yield x.promise,yield d(s.currentUser)}))},P=x=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),I())};this.t.onInit(x=>P(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?P(x):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new it)}},0),I()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rn("string"==typeof s.accessToken,31837,{l:s}),new At(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return rn(null===t||"string"==typeof t,2055,{h:t}),new er(t)}}class ce{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new ce(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class te{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,Nn.xZ)(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){rn(void 0===this.o,3512);const s=d=>{null!=d.error&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.m;return this.m=d.token,he("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{t.enqueueRetryable(()=>s(d))};const u=d=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?u(d):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(rn("string"==typeof r.token,44558,{tokenResult:r}),this.m=r.token,new $(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gn(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class cr{static newId(){const r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=gn(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[d]%62))}return s}}function zt(a,t){return a<t?-1:a>t?1:0}function Gi(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function Pe(a,t){for(let r=0;r<a.length&&r<t.length;++r)if(a[r]!==t[r])return zt(a[r],t[r]);return zt(a.length,t.length)}const fn="__name__";class In{constructor(t,r,s){void 0===r?r=0:r>t.length&&Oe(637,{offset:r,range:t.length}),void 0===s?s=t.length-r:s>t.length-r&&Oe(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return 0===In.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof In?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let u=0;u<s;u++){const d=In.compareSegments(t.get(u),r.get(u));if(0!==d)return d}return zt(t.length,r.length)}static compareSegments(t,r){const s=In.isNumericId(t),u=In.isNumericId(r);return s&&!u?-1:!s&&u?1:s&&u?In.extractNumericId(t).compare(In.extractNumericId(r)):function fi(a,t){let r=0;for(;r<a.length&&r<t.length;){const s=a.codePointAt(r),u=t.codePointAt(r);if(s!==u){if(s<128&&u<128)return zt(s,u);{const d=new TextEncoder,p=Pe(d.encode(Gi(a,r)),d.encode(Gi(t,r)));return 0!==p?p:zt(s,u)}}r+=s>65535?2:1}return zt(a.length,t.length)}(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class En extends In{construct(t,r,s){return new En(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new fe(Z_INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new En(r)}static emptyPath(){return new En([])}}const Gr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends In{construct(t,r,s){return new Sr(t,r,s)}static isValidIdentifier(t){return Gr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===fn}static keyField(){return new Sr([fn])}static fromServerFormat(t){const r=[];let s="",u=0;const d=()=>{if(0===s.length)throw new fe(Z_INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;u<t.length;){const I=t[u];if("\\"===I){if(u+1===t.length)throw new fe(Z_INVALID_ARGUMENT,"Path has trailing escape character: "+t);const P=t[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new fe(Z_INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=P,u+=2}else"`"===I?(p=!p,u++):"."!==I||p?(s+=I,u++):(d(),u++)}if(d(),p)throw new fe(Z_INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Sr(r)}static emptyPath(){return new Sr([])}}class Tn{constructor(t){this.path=t}static fromPath(t){return new Tn(En.fromString(t))}static fromName(t){return new Tn(En.fromString(t).popFirst(5))}static empty(){return new Tn(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===En.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return En.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tn(new En(t.slice()))}}function jr(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new fe(Z_INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=function ms(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(s=a).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof a?"a function":Oe(12329,{type:typeof a})}(a);throw new fe(Z_INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function Ee(a,t){const r={typeString:a};return t&&(r.value=t),r}function ie(a,t){if(!function Qs(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}(a))throw new fe(Z_INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const u=t[s].typeString,d="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const p=a[s];if(u&&typeof p!==u){r=`JSON field '${s}' must be a ${u}.`;break}if(void 0!==d&&p!==d.value){r=`Expected '${s}' field to equal '${d.value}'`;break}}if(r)throw new fe(Z_INVALID_ARGUMENT,r);return!0}const ge=-62135596800;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(t){return bt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*r));return new bt(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new fe(Z_INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(Z_INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<ge)throw new fe(Z_INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(Z_INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ie(t,bt._jsonSchema))return new bt(t.seconds,t.nanoseconds)}valueOf(){return String(this.seconds-ge).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Ee("string",bt._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};const is="mutationQueues",Ns="mutations",Wo="documentMutations",na="remoteDocumentGlobal",vo="targets",Cs="targetDocuments",Qi="targetGlobal",U="collectionParents",N="clientMetadata",Ue="bundles",Fr="namedQueries";class Hn{constructor(t,r){this.comparator=t,this.root=r||_i.EMPTY}insert(t,r){return new Hn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(t){return new Hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_i.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fi(this.root,t,this.comparator,!0)}}class Fi{constructor(t,r,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!t.isEmpty();)if(d=r?s(t.key,r):1,r&&u&&(d*=-1),d<0)t=this.isReverse?t.left:t.right;else{if(0===d){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _i{constructor(t,r,s,u,d){this.key=t,this.value=r,this.color=s??_i.RED,this.left=u??_i.EMPTY,this.right=d??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,u,d){return new _i(t??this.key,r??this.value,s??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const d=s(t,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(t,r,s),null):0===d?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(t,u.key)){if(u.right.isEmpty())return _i.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Oe(27949);return t+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(t,r,s,u,d){return this}insert(t,r,s){return new _i(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(t){this.comparator=t,this.data=new Hn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new ri(this.data.getIterator())}getIteratorFrom(t){return new ri(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Lr)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Lr(this.comparator);return r.data=t,r}}class ri{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Iu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ss{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Iu("Invalid base64 string: "+d):d}}(t);return new ss(r)}static fromUint8Array(t){const r=function(u){let d="";for(let p=0;p<u.length;++p)d+=String.fromCharCode(u[p]);return d}(t);return new ss(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const gs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}const su="(default)";class _s{constructor(t,r){this.projectId=t,this.database=r||su}static empty(){return new _s("","")}get isDefaultDatabase(){return this.database===su}isEqual(t){return t instanceof _s&&t.projectId===this.projectId&&t.database===this.database}}class uu{constructor(t,r=null,s=[],u=[],d=null,p="F",I=null,P=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=p,this.startAt=I,this.endAt=P,this.Te=null,this.Ie=null,this.de=null}}var ys,$i,ph,t_;new Hn(Tn.comparator),new Hn(Tn.comparator),new Hn(Tn.comparator),new Lr(Tn.comparator),new Lr(zt),($i=ys||(ys={}))[$i.OK=0]="OK",$i[$i.CANCELLED=1]="CANCELLED",$i[$i.UNKNOWN=2]="UNKNOWN",$i[$i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$i[$i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$i[$i.NOT_FOUND=5]="NOT_FOUND",$i[$i.ALREADY_EXISTS=6]="ALREADY_EXISTS",$i[$i.PERMISSION_DENIED=7]="PERMISSION_DENIED",$i[$i.UNAUTHENTICATED=16]="UNAUTHENTICATED",$i[$i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$i[$i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$i[$i.ABORTED=10]="ABORTED",$i[$i.OUT_OF_RANGE=11]="OUT_OF_RANGE",$i[$i.UNIMPLEMENTED=12]="UNIMPLEMENTED",$i[$i.INTERNAL=13]="INTERNAL",$i[$i.UNAVAILABLE=14]="UNAVAILABLE",$i[$i.DATA_LOSS=15]="DATA_LOSS",new ns([4294967295,4294967295],0),Error;class Xa{constructor(){}bt(t,r){this.Dt(t,r),r.vt()}Dt(t,r){if("nullValue"in t)this.Ct(r,5);else if("booleanValue"in t)this.Ct(r,10),r.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(r,15),r.Ft(Xi(t.integerValue));else if("doubleValue"in t){const s=Xi(t.doubleValue);isNaN(s)?this.Ct(r,13):(this.Ct(r,15),function Ai(a){return 0===a&&1/a==-1/0}(s)?r.Ft(0):r.Ft(s))}else if("timestampValue"in t){let s=t.timestampValue;this.Ct(r,20),"string"==typeof s&&(s=function Go(a){if(rn(!!a,39018),"string"==typeof a){let t=0;const r=gs.exec(a);if(rn(!!r,46558,{timestamp:a}),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Xi(a.seconds),nanos:Xi(a.nanos)}}(s)),r.Mt(`${s.seconds||""}`),r.Ft(s.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,r),this.Ot(r);else if("bytesValue"in t)this.Ct(r,30),r.Nt(function Ao(a){return"string"==typeof a?ss.fromBase64String(a):ss.fromUint8Array(a)}(t.bytesValue)),this.Ot(r);else if("referenceValue"in t)this.Bt(t.referenceValue,r);else if("geoPointValue"in t){const s=t.geoPointValue;this.Ct(r,45),r.Ft(s.latitude||0),r.Ft(s.longitude||0)}else"mapValue"in t?function bc(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}(t)?this.Ct(r,Number.MAX_SAFE_INTEGER):function kl(a){var t,r;return"__vector__"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}(t)?this.Lt(t.mapValue,r):(this.kt(t.mapValue,r),this.Ot(r)):"arrayValue"in t?(this.qt(t.arrayValue,r),this.Ot(r)):Oe(19022,{Qt:t})}xt(t,r){this.Ct(r,25),this.$t(t,r)}$t(t,r){r.Mt(t)}kt(t,r){const s=t.fields||{};this.Ct(r,55);for(const u of Object.keys(s))this.xt(u,r),this.Dt(s[u],r)}Lt(t,r){var s,u;const d=t.fields||{};this.Ct(r,53);const p="value",I=(null===(u=null===(s=d[p].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Ct(r,15),r.Ft(Xi(I)),this.xt(p,r),this.Dt(d[p],r)}qt(t,r){const s=t.values||[];this.Ct(r,50);for(const u of s)this.Dt(u,r)}Bt(t,r){this.Ct(r,37),Tn.fromName(t).path.forEach(s=>{this.Ct(r,60),this.$t(s,r)})}Ct(t,r){t.Ft(r)}Ot(t){t.Ft(2)}}Xa.Ut=new Xa,new Uint8Array(0);class Fs{static withCacheSize(t){return new Fs(t,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}function nh(){return typeof document<"u"?document:null}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class up{constructor(t,r,s=1e3,u=1.5,d=6e4){this.Fi=t,this.timerId=r,this.d_=s,this.E_=u,this.A_=d,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const r=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),u=Math.max(0,r-s);u>0&&he("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,u,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}class hh{constructor(t,r,s,u,d){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new it,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,u,d){const p=Date.now()+s,I=new hh(t,r,p,u,d);return I.start(s),I}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Z_CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(t_=ph||(ph={})).Fa="default",t_.Cache="cache";const PI=new Map,MI="firestore.googleapis.com";class OI{constructor(t){var r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new fe(Z_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MI,this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.isUsingEmulator=void 0!==t.emulatorOptions,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fe(Z_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function mi(a,t,r,s){if(!0===t&&!0===s)throw new fe(Z_INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=function RI(a){const t={};return void 0!==a.timeoutSeconds&&(t.timeoutSeconds=a.timeoutSeconds),t}(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new fe(Z_INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new fe(Z_INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new fe(Z_INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ip{constructor(t,r,s,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new fe(Z_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new $t;switch(s.type){case"firstParty":return new H(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Z_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Rn.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=PI.get(r);s&&(he("ComponentProvider","Removing Datastore"),PI.delete(r),s.terminate())}(this),Promise.resolve()}}class Ea{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ea(this.firestore,t,this._query)}}class zs{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zs(this.firestore,t,this._key)}toJSON(){return{type:zs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(ie(r,zs._jsonSchema))return new zs(t,s||null,new Tn(En.fromString(r.referencePath)))}}zs._jsonSchemaVersion="firestore/documentReference/1.0",zs._jsonSchema={type:Ee("string",zs._jsonSchemaVersion),referencePath:Ee("string")};class Yc extends Ea{constructor(t,r,s){super(t,r,function cu(a){return new uu(a)}(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zs(this.firestore,null,new Tn(t))}withConverter(t){return new Yc(this.firestore,t,this._path)}}const xI="AsyncQueue";class FI{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new up(this,"async_queue_retry"),this.oc=()=>{const s=nh();s&&he(xI,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const r=nh();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const r=nh();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const r=new it;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){var t=this;return(0,Rn.A)(function*(){if(0!==t.Zu.length){try{yield t.Zu[0](),t.Zu.shift(),t.F_.reset()}catch(r){if(!function qn(a){return"IndexedDbTransactionError"===a.name}(r))throw r;he(xI,"Operation failed with retryable error: "+r)}t.Zu.length>0&&t.F_.g_(()=>t.cc())}})()}uc(t){const r=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,be("INTERNAL UNHANDLED ERROR: ",__(s)),s}).then(s=>(this.nc=!1,s))));return this._c=r,r}enqueueAfterDelay(t,r,s){this.ac(),this.sc.indexOf(t)>-1&&(r=0);const u=hh.createAndSchedule(this,t,r,s,d=>this.lc(d));return this.ec.push(u),u}ac(){this.tc&&Oe(47125,{hc:__(this.tc)})}verifyOperationInProgress(){}Pc(){var t=this;return(0,Rn.A)(function*(){let r;do{r=t._c,yield r}while(r!==t._c)})()}Tc(t){for(const r of this.ec)if(r.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.ec)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const r=this.ec.indexOf(t);this.ec.splice(r,1)}}function __(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),t}class Zs extends Ip{constructor(t,r,s,u){super(t,r,s,u),this.type="firestore",this._queue=new FI,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,Rn.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new FI(r),t._firestoreClient=void 0,yield r}})()}}function LI(a,t){const r="object"==typeof a?a:(0,Nn.Sx)(),s="string"==typeof a?a:t||su,u=(0,Nn.j6)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const d=(0,On.yU)("firestore");d&&function NI(a,t,r,s={}){var u;a=jr(a,Ip);const d=(0,On.zJ)(t),p=a._getSettings(),I=Object.assign(Object.assign({},p),{emulatorOptions:a._getEmulatorOptions()}),P=`${t}:${r}`;d&&((0,On.gE)(`https://${P}`),(0,On.P1)("Firestore",!0)),p.host!==MI&&p.host!==P&&function Ye(a,...t){if(Br.logLevel<=ti.$b.WARN){const r=t.map(Zt);Br.warn(`Firestore (${$n}): ${a}`,...r)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x=Object.assign(Object.assign({},p),{host:P,ssl:d,emulatorOptions:s});if(!(0,On.bD)(x,I)&&(a._setSettings(x),s.mockUserToken)){let X,ae;if("string"==typeof s.mockUserToken)X=s.mockUserToken,ae=er.MOCK_USER;else{X=(0,On.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const Se=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Se)throw new fe(Z_INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ae=new er(Se)}a._authCredentials=new Vn(new At(X,ae))}}(u,...d)}return u}class pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pc(ss.fromBase64String(t))}catch(r){throw new fe(Z_INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new pc(ss.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ie(t,pc._jsonSchema))return pc.fromBase64String(t.bytes)}}pc._jsonSchemaVersion="firestore/bytes/1.0",pc._jsonSchema={type:Ee("string",pc._jsonSchemaVersion),bytes:Ee("string")};class fd{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new fe(Z_INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pd{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new fe(Z_INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new fe(Z_INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pd._jsonSchemaVersion}}static fromJSON(t){if(ie(t,pd._jsonSchema))return new pd(t.latitude,t.longitude)}}pd._jsonSchemaVersion="firestore/geoPoint/1.0",pd._jsonSchema={type:Ee("string",pd._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};class Dl{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let d=0;d<s.length;++d)if(s[d]!==u[d])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Dl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ie(t,Dl._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>"number"==typeof r))return new Dl(t.vectorValues);throw new fe(Z_INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dl._jsonSchemaVersion="firestore/vectorValue/1.0",Dl._jsonSchema={type:Ee("string",Dl._jsonSchemaVersion),vectorValues:Ee("object")};const Bw=new RegExp("[~\\*/\\[\\]]");function E_(a,t,r,s,u){const d=s&&!s.isEmpty(),p=void 0!==u;let I=`Function ${t}() called with invalid data`;r&&(I+=" (via `toFirestore()`)"),I+=". ";let P="";return(d||p)&&(P+=" (found",d&&(P+=` in field ${s}`),p&&(P+=` in document ${u}`),P+=")"),new fe(Z_INVALID_ARGUMENT,I+a+P)}class nu{constructor(t,r,s,u,d){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Qg("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class jw extends nu{data(){return super.data()}}function Qg(a,t){return"string"==typeof t?function bp(a,t,r){if(t.search(Bw)>=0)throw E_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new fd(...t.split("."))._internalPath}catch{throw E_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}(a,t):t instanceof fd?t._internalPath:t._delegate._internalPath}class Jc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ru extends nu{constructor(t,r,s,u,d,p){super(t,r,s,u,p),this._firestore=t,this._firestoreImpl=t,this.metadata=d}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new b_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(Qg("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z_FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=ru._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),t&&t.isValidDocument()&&t.isFoundDocument()?(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle="NOT SUPPORTED",r):r}}ru._jsonSchemaVersion="firestore/documentSnapshot/1.0",ru._jsonSchema={type:Ee("string",ru._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class b_ extends ru{data(t={}){return super.data(t)}}class yu{constructor(t,r,s,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new Jc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new b_(this._firestore,this._userDataWriter,s.key,s,new Jc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(Z_INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let p=0;return u._snapshot.docChanges.map(I=>({type:"added",doc:new b_(u._firestore,u._userDataWriter,I.doc.key,I.doc,new Jc(u._snapshot.mutatedKeys.has(I.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:p++}))}{let p=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(I=>d||3!==I.type).map(I=>{const P=new b_(u._firestore,u._userDataWriter,I.doc.key,I.doc,new Jc(u._snapshot.mutatedKeys.has(I.doc.key),u._snapshot.fromCache),u.query.converter);let x=-1,X=-1;return 0!==I.type&&(x=p.indexOf(I.doc.key),p=p.delete(I.doc.key)),1!==I.type&&(p=p.add(I.doc),X=p.indexOf(I.doc.key)),{type:zw(I.type),doc:P,oldIndex:x,newIndex:X}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z_FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=cr.newId();const r=[],s=[],u=[];return this.docs.forEach(d=>{null!==d._document&&(r.push(d._document),s.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),u.push(d.ref.path))}),t.bundle="NOT SUPPORTED",t}}function zw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:a})}}yu._jsonSchemaVersion="firestore/querySnapshot/1.0",yu._jsonSchema={type:Ee("string",yu._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")},function(t,r=!0){$n=Nn.MF,(0,Nn.om)(new ts.uA("firestore",(s,{instanceIdentifier:u,options:d})=>{const p=s.getProvider("app").getImmediate(),I=new Zs(new Yn(s.getProvider("auth-internal")),new te(p,s.getProvider("app-check-internal")),function(x,X){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new fe(Z_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(x.options.projectId,X)}(p,u),p);return d=Object.assign({useFetchStreams:r},d),I._setSettings(d),I},"PUBLIC").setMultipleInstances(!0)),(0,Nn.KO)(Un,"4.8.0",t),(0,Nn.KO)(Un,"4.8.0","esm2017")}();class Ov{constructor(t){return t}}const uT="firestore",Nv=new re.nKC("angularfire2.firestore-instances");function cT(a){return(t,r)=>{const s=t.runOutsideAngular(()=>a(r));return new Ov(s)}}const lT={provide:class sA{constructor(){return(0,nr.CA)(uT)}},deps:[[new re.Xx1,Nv]]},aA={provide:Ov,useFactory:function oA(a,t){const r=(0,nr.lR)(uT,a,t);return r&&new Ov(r)},deps:[[new re.Xx1,Nv],gr.XU]};function uA(a,...t){return(0,ei.KO)("angularfire",nr.xv.full,"fst"),(0,re.EmA)([aA,lT,{provide:Nv,useFactory:cT(a),multi:!0,deps:[re.SKi,re.zZn,nr.u0,gr.gL,[new re.Xx1,on.DF],[new re.Xx1,mr.kR],...t]}])}const M_=(0,nr.S3)(LI,!0);var yT=B(8629),DA=B(3887);const SA=[{path:"",redirectTo:"tasks",pathMatch:"full"},{path:"auths",loadChildren:()=>Promise.all([B.e("default-src_app_guards_auth-guard_ts-node_modules_angular_cdk_fesm2022_a11y-module-BYox5gpI_m-59064a"),B.e("src_app_modules_auths_auths_module_ts")]).then(B.bind(B,1119)).then(a=>a.AuthsModule)},{path:"tasks",loadChildren:()=>Promise.all([B.e("default-src_app_guards_auth-guard_ts-node_modules_angular_cdk_fesm2022_a11y-module-BYox5gpI_m-59064a"),B.e("src_app_modules_tasks_tasks_module_ts")]).then(B.bind(B,8073)).then(a=>a.TasksModule)},{path:"errors",loadChildren:()=>B.e("src_app_modules_errors_errors_module_ts").then(B.bind(B,4407)).then(a=>a.ErrorsModule)},{path:"**",redirectTo:"errors/404/Oups%20!%20La%20page%20que%20vous%20recherchez%20n\u2019existe%20pas.",pathMatch:"full"}];let RA=(()=>{class a{static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275mod=re.$C({type:a})}static{this.\u0275inj=re.G2t({imports:[Re.MD,en.YN,DA.G,or.iI.forRoot(SA,{useHash:!1}),or.iI]})}}return a})();var vT=B(620),ET=B(6246),Uv=B(2928),sm=B(4690),IT=B(2831),TT=B(4526);let PA=(()=>{class a{constructor(r){this.userCtx=r,this.refreshMs=78e4}start(){this.sub&&!this.sub.closed||(this.sub=(0,Uv.Y)(this.refreshMs).pipe((0,IT.n)(()=>(0,sm.H)(this.userCtx.getIdToken(!0))),(0,TT.W)(r=>(console.error("Token refresh failed",r),[]))).subscribe(r=>{r&&console.debug("Token refreshed (client).")}))}stop(){this.sub?.unsubscribe()}ngOnDestroy(){this.stop()}static{this.\u0275fac=function(s){return new(s||a)(re.KVO(vT.i))}}static{this.\u0275prov=re.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var om=B(446),x_=B(6849),MA=B(3098);function kA(a,t){if(1&a){const r=re.RV6();re.j41(0,"header",3)(1,"div",4)(2,"h1",5),re.EFF(3,"Atlas Tech "),re.j41(4,"span",6),re.EFF(5,"\u2022 Kanban"),re.k0s()(),re.j41(6,"nav",7)(7,"button",8),re.EFF(8,"Overview"),re.k0s(),re.j41(9,"button",9),re.EFF(10,"Tasks"),re.k0s(),re.j41(11,"button",8),re.EFF(12,"Notes"),re.k0s(),re.j41(13,"button",8),re.EFF(14,"Questions"),re.k0s()()(),re.j41(15,"div",10)(16,"button",11),re.EFF(17,"Board "),re.nrm(18,"i",12),re.k0s(),re.j41(19,"button",13),re.bIt("click",function(){re.eBV(r);const u=re.XpG();return re.Njj(u.logout())}),re.EFF(20),re.nrm(21,"i",14),re.k0s()()()}if(2&a){let r;const s=re.XpG();re.R7$(20),re.SpI(" ",null!==(r=null!==(r=null==s.user.displayName||null==(r=s.user.displayName.split(" "))?null:r[0])&&void 0!==r?r:null==s.user.email||null==(r=s.user.email.split("."))?null:r[0])&&void 0!==r?r:"Logout"," ")}}let bT=(()=>{class a{constructor(r,s,u,d,p,I){this.userCtx=r,this.socket=s,this.tokenRefresher=u,this.api=d,this.authService=p,this.router=I,this.MAX_RETRIES=1,this.user=null}ngOnInit(){var r=this;return(0,Rn.A)(function*(){r.tokenRefresher.start(),yield r.userCtx.ensureInitialized(),r.sub=r.userCtx.user$.subscribe(function(){var s=(0,Rn.A)(function*(u){if(r.user=u,console.log(r.user),u)try{yield r.socket.connect(),r.initializeComponent()}catch(d){console.error("[AppInit] Socket connection failed",d)}else r.socket.disconnect()});return function(u){return s.apply(this,arguments)}}())})()}ngOnDestroy(){this.socket.disconnect(),this.sub?.unsubscribe()}initializeComponent(){var r=this;return(0,Rn.A)(function*(s=0){if(r.user){"4200"!==location.port&&console.log("[AppInit] Running outside dev environment");try{if(!(yield r.api.syncToServer("tasks")))return r.retryOrStop("syncToServer failed",s);if(!(yield r.api.syncFromServer("tasks")))return r.retryOrStop("syncTasksFromServer failed",s);if(!(yield r.api.syncFromServer("users",!1,!0)))return r.retryOrStop("syncUsersFromServer failed",s)}catch(u){return console.error("[AppInit] Initialization error:",u),r.retryOrStop("exception during sync",s)}}}).apply(this,arguments)}retryOrStop(r,s){var u=this;return(0,Rn.A)(function*(){if(s<u.MAX_RETRIES)return console.warn(`[AppInit] Retry (${s+1}/${u.MAX_RETRIES}) due to: ${r}`),u.initializeComponent(s+1);console.error(`[AppInit] Aborted after ${u.MAX_RETRIES} retries. Last reason: ${r}`)})()}logout(){var r=this;return(0,Rn.A)(function*(){if(confirm("Are you sure you want to log out?"))try{yield r.authService.logout(),yield r.router.navigate(["/auths/login"])}catch(u){console.error("Logout failed:",u)}})()}static{this.\u0275fac=function(s){return new(s||a)(re.rXU(vT.i),re.rXU(ET.L),re.rXU(PA),re.rXU(om.s),re.rXU(x_.u),re.rXU(MA.Ix))}}static{this.\u0275cmp=re.VBU({type:a,selectors:[["app-root"]],standalone:!1,decls:4,vars:1,consts:[[1,"app-shell"],["class","topbar",4,"ngIf"],[1,"content"],[1,"topbar"],[1,"left"],[1,"brand"],[1,"muted"],[1,"tabs"],[1,"tab"],["routerLink","/tasks",1,"tab","active"],[1,"right"],[1,"btn-ghost"],[1,"ri-dashboard-line"],[1,"btn-ghost",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(s,u){1&s&&(re.j41(0,"main",0),re.DNE(1,kA,22,1,"header",1),re.j41(2,"section",2),re.nrm(3,"router-outlet"),re.k0s()()),2&s&&(re.R7$(),re.Y8G("ngIf",u.user))},dependencies:[Re.bT,MA.n3,or.Wk],styles:['@charset "UTF-8";.app-shell[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 1rem;display:flex;flex-direction:column;min-height:100vh}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1.2rem .5rem;margin-bottom:1rem;background:transparent;border-bottom:1px solid rgba(0,0,0,.05)}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.25rem;margin:0;color:#07143a;letter-spacing:-.3px}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--muted, #6b7280);font-weight:500;margin-left:.5rem;font-size:.9rem}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.25rem}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{background:transparent;border:0;padding:.5rem .9rem;border-radius:8px;font-weight:600;color:var(--muted, #6b7280);transition:all .2s ease}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background-color:#0b4fff14;color:#0b4fff}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#0b4fff;box-shadow:inset 0 -2px #0b4fff1f}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-ghost[_ngcontent-%COMP%]{background:#eef4ff;border:0;padding:.5rem 1rem;border-radius:10px;font-weight:600;color:#0b4fff;display:flex;align-items:center;gap:6px;transition:all .25s ease;cursor:pointer}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-ghost[_ngcontent-%COMP%]:hover{background:#dbe8ff;transform:translateY(-1px);box-shadow:0 2px 6px #0b4fff1a}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-ghost[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.app-shell[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-ghost[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.app-shell[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;padding:.75rem .5rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}']})}}return a})();var Bv=B(472),ii=B(1064);function wT(a){return new re.wOt(3e3,!1)}function bh(a){switch(a.length){case 0:return new ii.sf;case 1:return a[0];default:return new ii.PZ(a)}}function OT(a,t,r=new Map,s=new Map){const u=[],d=[];let p=-1,I=null;if(t.forEach(P=>{const x=P.get("offset"),X=x==p,ae=X&&I||new Map;P.forEach((Se,Ze)=>{let Dt=Ze,Qt=Se;if("offset"!==Ze)switch(Dt=a.normalizePropertyName(Dt,u),Qt){case ii.FX:Qt=r.get(Ze);break;case ii.kp:Qt=s.get(Ze);break;default:Qt=a.normalizeStyleValue(Ze,Dt,Qt,u)}ae.set(Dt,Qt)}),X||d.push(ae),I=ae,p=x}),u.length)throw function RT(){return new re.wOt(3502,!1)}();return d}function V_(a,t,r,s){switch(t){case"start":a.onStart(()=>s(r&&Wv(r,"start",a)));break;case"done":a.onDone(()=>s(r&&Wv(r,"done",a)));break;case"destroy":a.onDestroy(()=>s(r&&Wv(r,"destroy",a)))}}function Wv(a,t,r){const d=zv(a.element,a.triggerName,a.fromState,a.toState,t||a.phaseName,r.totalTime??a.totalTime,!!r.disabled),p=a._data;return null!=p&&(d._data=p),d}function zv(a,t,r,s,u="",d=0,p){return{element:a,triggerName:t,fromState:r,toState:s,phaseName:u,totalTime:d,disabled:!!p}}function Ia(a,t,r){let s=a.get(t);return s||a.set(t,s=r),s}function NT(a){const t=a.indexOf(":");return[a.substring(1,t),a.slice(t+1)]}const xT=typeof document>"u"?null:document.documentElement;function Gv(a){const t=a.parentNode||a.host||null;return t===xT?null:t}let md=null,FT=!1;function wh(a,t){for(;t;){if(t===a)return!0;t=Gv(t)}return!1}function um(a,t,r){if(r)return Array.from(a.querySelectorAll(t));const s=a.querySelector(t);return s?[s]:[]}const VT="ng-enter",UT="ng-leave",B_="ng-trigger",Zc=".ng-trigger",Op="ng-animating",cm=".ng-animating";function vu(a){if("number"==typeof a)return a;const t=a.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lm(parseFloat(t[1]),t[2])}function lm(a,t){return"s"===t?1e3*a:a}function _d(a,t,r){return a.hasOwnProperty("duration")?a:function BT(a,t,r){let u,d=0,p="";if("string"==typeof a){const I=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===I)return t.push(wT()),{duration:0,delay:0,easing:""};u=lm(parseFloat(I[1]),I[2]);const P=I[3];null!=P&&(d=lm(parseFloat(P),I[4]));const x=I[5];x&&(p=x)}else u=a;if(!r){let I=!1,P=t.length;u<0&&(t.push(function NA(){return new re.wOt(3100,!1)}()),I=!0),d<0&&(t.push(function xA(){return new re.wOt(3101,!1)}()),I=!0),I&&t.splice(P,0,wT())}return{duration:u,delay:d,easing:p}}(a,t,r)}function Sl(a,t,r){t.forEach((s,u)=>{const d=j_(u);r&&!r.has(u)&&r.set(u,a.style[d]),a.style[d]=s})}function Df(a,t){t.forEach((r,s)=>{const u=j_(s);a.style[u]=""})}function dm(a){return Array.isArray(a)?1==a.length?a[0]:(0,ii.K2)(a):a}const Qv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xv(a){let t=[];if("string"==typeof a){let r;for(;r=Qv.exec(a);)t.push(r[1]);Qv.lastIndex=0}return t}function Np(a,t,r){const s=`${a}`,u=s.replace(Qv,(d,p)=>{let I=t[p];return null==I&&(r.push(function CT(){return new re.wOt(3003,!1)}()),I=""),I.toString()});return u==s?a:u}const jT=/-+([a-z0-9])/g;function j_(a){return a.replace(jT,(...t)=>t[1].toUpperCase())}function Wu(a,t,r){switch(t.type){case ii.If.Trigger:return a.visitTrigger(t,r);case ii.If.State:return a.visitState(t,r);case ii.If.Transition:return a.visitTransition(t,r);case ii.If.Sequence:return a.visitSequence(t,r);case ii.If.Group:return a.visitGroup(t,r);case ii.If.Animate:return a.visitAnimate(t,r);case ii.If.Keyframes:return a.visitKeyframes(t,r);case ii.If.Style:return a.visitStyle(t,r);case ii.If.Reference:return a.visitReference(t,r);case ii.If.AnimateChild:return a.visitAnimateChild(t,r);case ii.If.AnimateRef:return a.visitAnimateRef(t,r);case ii.If.Query:return a.visitQuery(t,r);case ii.If.Stagger:return a.visitStagger(t,r);default:throw function DT(){return new re.wOt(3004,!1)}()}}function Yv(a,t){return window.getComputedStyle(a)[t]}let $T=(()=>{class a{validateStyleProperty(r){return function YA(a){md||(md=function Kv(){return typeof document<"u"?document.body:null}()||{},FT=!!md.style&&"WebkitAppearance"in md.style);let t=!0;return md.style&&!function U_(a){return"ebkit"==a.substring(1,6)}(a)&&(t=a in md.style,!t&&FT&&(t="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in md.style)),t}(r)}containsElement(r,s){return wh(r,s)}getParentElement(r){return Gv(r)}query(r,s,u){return um(r,s,u)}computeStyle(r,s,u){return u||""}animate(r,s,u,d,p,I=[],P){return new ii.sf(u,d)}static \u0275fac=function(s){return new(s||a)};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})();class $_{static NOOP=new $T}class H_{}const n0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WT extends H_{normalizePropertyName(t,r){return j_(t)}normalizeStyleValue(t,r,s,u){let d="";const p=s.toString().trim();if(n0.has(r)&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const I=s.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&u.push(function jv(){return new re.wOt(3005,!1)}())}return p+d}}const K_=new Set(["true","1"]),hm=new Set(["false","0"]);function Jv(a,t){const r=K_.has(a)||hm.has(a),s=K_.has(t)||hm.has(t);return(u,d)=>{let p="*"==a||a==u,I="*"==t||t==d;return!p&&r&&"boolean"==typeof u&&(p=u?K_.has(a):hm.has(a)),!I&&s&&"boolean"==typeof d&&(I=d?K_.has(t):hm.has(t)),p&&I}}const GT=new RegExp("s*:selfs*,?","g");function Zv(a,t,r,s){return new tE(a).build(t,r,s)}class tE{_driver;constructor(t){this._driver=t}build(t,r,s){const u=new o0(r);return this._resetContextStyleTimingState(u),Wu(this,dm(t),u)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,r){let s=r.queryCount=0,u=r.depCount=0;const d=[],p=[];return"@"==t.name.charAt(0)&&r.errors.push(function FA(){return new re.wOt(3006,!1)}()),t.definitions.forEach(I=>{if(this._resetContextStyleTimingState(r),I.type==ii.If.State){const P=I,x=P.name;x.toString().split(/\s*,\s*/).forEach(X=>{P.name=X,d.push(this.visitState(P,r))}),P.name=x}else if(I.type==ii.If.Transition){const P=this.visitTransition(I,r);s+=P.queryCount,u+=P.depCount,p.push(P)}else r.errors.push(function LA(){return new re.wOt(3007,!1)}())}),{type:ii.If.Trigger,name:t.name,states:d,transitions:p,queryCount:s,depCount:u,options:null}}visitState(t,r){const s=this.visitStyle(t.styles,r),u=t.options&&t.options.params||null;if(s.containsDynamicStyles){const d=new Set,p=u||{};s.styles.forEach(I=>{I instanceof Map&&I.forEach(P=>{Xv(P).forEach(x=>{p.hasOwnProperty(x)||d.add(x)})})}),d.size&&r.errors.push(function VA(){return new re.wOt(3008,!1)}(0,d.values()))}return{type:ii.If.State,name:t.name,style:s,options:u?{params:u}:null}}visitTransition(t,r){r.queryCount=0,r.depCount=0;const s=Wu(this,dm(t.animation),r),u=function r0(a,t){const r=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(s=>function G_(a,t,r){if(":"==a[0]){const P=function s0(a,t){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,s)=>parseFloat(s)>parseFloat(r);case":decrement":return(r,s)=>parseFloat(s)<parseFloat(r);default:return t.push(function Hv(){return new re.wOt(3016,!1)}()),"* => *"}}(a,r);if("function"==typeof P)return void t.push(P);a=P}const s=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return r.push(function am(){return new re.wOt(3015,!1)}()),t;const u=s[1],d=s[2],p=s[3];t.push(Jv(u,p)),"<"==d[0]&&("*"!=u||"*"!=p)&&t.push(Jv(p,u))}(s,r,t)):r.push(a),r}(t.expr,r.errors);return{type:ii.If.Transition,matchers:u,animation:s,queryCount:r.queryCount,depCount:r.depCount,options:yd(t.options)}}visitSequence(t,r){return{type:ii.If.Sequence,steps:t.steps.map(s=>Wu(this,s,r)),options:yd(t.options)}}visitGroup(t,r){const s=r.currentTime;let u=0;const d=t.steps.map(p=>{r.currentTime=s;const I=Wu(this,p,r);return u=Math.max(u,r.currentTime),I});return r.currentTime=u,{type:ii.If.Group,steps:d,options:yd(t.options)}}visitAnimate(t,r){const s=function u0(a,t){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return fm(_d(a,t).duration,0,"");const r=a;if(r.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=fm(0,0,"");return d.dynamic=!0,d.strValue=r,d}const u=_d(r,t);return fm(u.duration,u.delay,u.easing)}(t.timings,r.errors);r.currentAnimateTimings=s;let u,d=t.styles?t.styles:(0,ii.iF)({});if(d.type==ii.If.Keyframes)u=this.visitKeyframes(d,r);else{let p=t.styles,I=!1;if(!p){I=!0;const x={};s.easing&&(x.easing=s.easing),p=(0,ii.iF)(x)}r.currentTime+=s.duration+s.delay;const P=this.visitStyle(p,r);P.isEmptyStep=I,u=P}return r.currentAnimateTimings=null,{type:ii.If.Animate,timings:s,style:u,options:null}}visitStyle(t,r){const s=this._makeStyleAst(t,r);return this._validateStyleAst(s,r),s}_makeStyleAst(t,r){const s=[],u=Array.isArray(t.styles)?t.styles:[t.styles];for(let I of u)"string"==typeof I?I===ii.kp?s.push(I):r.errors.push(new re.wOt(3002,!1)):s.push(new Map(Object.entries(I)));let d=!1,p=null;return s.forEach(I=>{if(I instanceof Map&&(I.has("easing")&&(p=I.get("easing"),I.delete("easing")),!d))for(let P of I.values())if(P.toString().indexOf("{{")>=0){d=!0;break}}),{type:ii.If.Style,styles:s,easing:p,offset:t.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(t,r){const s=r.currentAnimateTimings;let u=r.currentTime,d=r.currentTime;s&&d>0&&(d-=s.duration+s.delay),t.styles.forEach(p=>{"string"!=typeof p&&p.forEach((I,P)=>{const x=r.collectedStyles.get(r.currentQuerySelector),X=x.get(P);let ae=!0;X&&(d!=u&&d>=X.startTime&&u<=X.endTime&&(r.errors.push(function BA(){return new re.wOt(3010,!1)}()),ae=!1),d=X.startTime),ae&&x.set(P,{startTime:d,endTime:u}),r.options&&function ZA(a,t,r){const s=t.params||{},u=Xv(a);u.length&&u.forEach(d=>{s.hasOwnProperty(d)||r.push(function AT(){return new re.wOt(3001,!1)}())})}(I,r.options,r.errors)})})}visitKeyframes(t,r){const s={type:ii.If.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function jA(){return new re.wOt(3011,!1)}()),s;let d=0;const p=[];let I=!1,P=!1,x=0;const X=t.steps.map(sr=>{const vr=this._makeStyleAst(sr,r);let wr=null!=vr.offset?vr.offset:function a0(a){if("string"==typeof a)return null;let t=null;if(Array.isArray(a))a.forEach(r=>{if(r instanceof Map&&r.has("offset")){const s=r;t=parseFloat(s.get("offset")),s.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const r=a;t=parseFloat(r.get("offset")),r.delete("offset")}return t}(vr.styles),Kr=0;return null!=wr&&(d++,Kr=vr.offset=wr),P=P||Kr<0||Kr>1,I=I||Kr<x,x=Kr,p.push(Kr),vr});P&&r.errors.push(function $v(){return new re.wOt(3012,!1)}()),I&&r.errors.push(function $A(){return new re.wOt(3200,!1)}());const ae=t.steps.length;let Se=0;d>0&&d<ae?r.errors.push(function HA(){return new re.wOt(3202,!1)}()):0==d&&(Se=1/(ae-1));const Ze=ae-1,Dt=r.currentTime,Qt=r.currentAnimateTimings,mn=Qt.duration;return X.forEach((sr,vr)=>{const wr=Se>0?vr==Ze?1:Se*vr:p[vr],Kr=wr*mn;r.currentTime=Dt+Qt.delay+Kr,Qt.duration=Kr,this._validateStyleAst(sr,r),sr.offset=wr,s.styles.push(sr)}),s}visitReference(t,r){return{type:ii.If.Reference,animation:Wu(this,dm(t.animation),r),options:yd(t.options)}}visitAnimateChild(t,r){return r.depCount++,{type:ii.If.AnimateChild,options:yd(t.options)}}visitAnimateRef(t,r){return{type:ii.If.AnimateRef,animation:this.visitReference(t.animation,r),options:yd(t.options)}}visitQuery(t,r){const s=r.currentQuerySelector,u=t.options||{};r.queryCount++,r.currentQuery=t;const[d,p]=function KT(a){const t=!!a.split(/\s*,\s*/).find(r=>":self"==r);return t&&(a=a.replace(GT,"")),a=a.replace(/@\*/g,Zc).replace(/@\w+/g,r=>Zc+"-"+r.slice(1)).replace(/:animating/g,cm),[a,t]}(t.selector);r.currentQuerySelector=s.length?s+" "+d:d,Ia(r.collectedStyles,r.currentQuerySelector,new Map);const I=Wu(this,dm(t.animation),r);return r.currentQuery=null,r.currentQuerySelector=s,{type:ii.If.Query,selector:d,limit:u.limit||0,optional:!!u.optional,includeSelf:p,animation:I,originalSelector:t.selector,options:yd(t.options)}}visitStagger(t,r){r.currentQuery||r.errors.push(function WA(){return new re.wOt(3013,!1)}());const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:_d(t.timings,r.errors,!0);return{type:ii.If.Stagger,animation:Wu(this,dm(t.animation),r),timings:s,options:null}}}class o0{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}}function yd(a){return a?(a={...a}).params&&(a.params=function qT(a){return a?{...a}:null}(a.params)):a={},a}function fm(a,t,r){return{duration:a,delay:t,easing:r}}function Q_(a,t,r,s,u,d,p=null,I=!1){return{type:1,element:a,keyframes:t,preStyleProps:r,postStyleProps:s,duration:u,delay:d,totalTime:u+d,easing:p,subTimeline:I}}class xp{_map=new Map;get(t){return this._map.get(t)||[]}append(t,r){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...r)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const l0=new RegExp(":enter","g"),h0=new RegExp(":leave","g");function X_(a,t,r,s,u,d=new Map,p=new Map,I,P,x=[]){return(new rE).buildKeyframes(a,t,r,s,u,d,p,I,P,x)}class rE{buildKeyframes(t,r,s,u,d,p,I,P,x,X=[]){x=x||new xp;const ae=new Y_(t,r,x,u,d,X,[]);ae.options=P;const Se=P.delay?vu(P.delay):0;ae.currentTimeline.delayNextStep(Se),ae.currentTimeline.setStyles([p],null,ae.errors,P),Wu(this,s,ae);const Ze=ae.timelines.filter(Dt=>Dt.containsAnimation());if(Ze.length&&I.size){let Dt;for(let Qt=Ze.length-1;Qt>=0;Qt--){const mn=Ze[Qt];if(mn.element===r){Dt=mn;break}}Dt&&!Dt.allowOnlyTimelineStyles()&&Dt.setStyles([I],null,ae.errors,P)}return Ze.length?Ze.map(Dt=>Dt.buildKeyframes()):[Q_(r,[],[],[],0,Se,"",!1)]}visitTrigger(t,r){}visitState(t,r){}visitTransition(t,r){}visitAnimateChild(t,r){const s=r.subInstructions.get(r.element);if(s){const u=r.createSubContext(t.options),d=r.currentTimeline.currentTime,p=this._visitSubInstructions(s,u,u.options);d!=p&&r.transformIntoNewTimeline(p)}r.previousNode=t}visitAnimateRef(t,r){const s=r.createSubContext(t.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],r,s),this.visitReference(t.animation,s),r.transformIntoNewTimeline(s.currentTimeline.currentTime),r.previousNode=t}_applyAnimationRefDelays(t,r,s){for(const u of t){const d=u?.delay;if(d){const p="number"==typeof d?d:vu(Np(d,u?.params??{},r.errors));s.delayNextStep(p)}}}_visitSubInstructions(t,r,s){let d=r.currentTimeline.currentTime;const p=null!=s.duration?vu(s.duration):null,I=null!=s.delay?vu(s.delay):null;return 0!==p&&t.forEach(P=>{const x=r.appendInstructionToTimeline(P,p,I);d=Math.max(d,x.duration+x.delay)}),d}visitReference(t,r){r.updateOptions(t.options,!0),Wu(this,t.animation,r),r.previousNode=t}visitSequence(t,r){const s=r.subContextCount;let u=r;const d=t.options;if(d&&(d.params||d.delay)&&(u=r.createSubContext(d),u.transformIntoNewTimeline(),null!=d.delay)){u.previousNode.type==ii.If.Style&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Fp);const p=vu(d.delay);u.delayNextStep(p)}t.steps.length&&(t.steps.forEach(p=>Wu(this,p,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>s&&u.transformIntoNewTimeline()),r.previousNode=t}visitGroup(t,r){const s=[];let u=r.currentTimeline.currentTime;const d=t.options&&t.options.delay?vu(t.options.delay):0;t.steps.forEach(p=>{const I=r.createSubContext(t.options);d&&I.delayNextStep(d),Wu(this,p,I),u=Math.max(u,I.currentTimeline.currentTime),s.push(I.currentTimeline)}),s.forEach(p=>r.currentTimeline.mergeTimelineCollectedStyles(p)),r.transformIntoNewTimeline(u),r.previousNode=t}_visitTiming(t,r){if(t.dynamic){const s=t.strValue;return _d(r.params?Np(s,r.params,r.errors):s,r.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,r){const s=r.currentAnimateTimings=this._visitTiming(t.timings,r),u=r.currentTimeline;s.delay&&(r.incrementTime(s.delay),u.snapshotCurrentStyles());const d=t.style;d.type==ii.If.Keyframes?this.visitKeyframes(d,r):(r.incrementTime(s.duration),this.visitStyle(d,r),u.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=t}visitStyle(t,r){const s=r.currentTimeline,u=r.currentAnimateTimings;!u&&s.hasCurrentStyleProperties()&&s.forwardFrame();const d=u&&u.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(d):s.setStyles(t.styles,d,r.errors,r.options),r.previousNode=t}visitKeyframes(t,r){const s=r.currentAnimateTimings,u=r.currentTimeline.duration,d=s.duration,I=r.createSubContext().currentTimeline;I.easing=s.easing,t.styles.forEach(P=>{I.forwardTime((P.offset||0)*d),I.setStyles(P.styles,P.easing,r.errors,r.options),I.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(I),r.transformIntoNewTimeline(u+d),r.previousNode=t}visitQuery(t,r){const s=r.currentTimeline.currentTime,u=t.options||{},d=u.delay?vu(u.delay):0;d&&(r.previousNode.type===ii.If.Style||0==s&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Fp);let p=s;const I=r.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!u.optional,r.errors);r.currentQueryTotal=I.length;let P=null;I.forEach((x,X)=>{r.currentQueryIndex=X;const ae=r.createSubContext(t.options,x);d&&ae.delayNextStep(d),x===r.element&&(P=ae.currentTimeline),Wu(this,t.animation,ae),ae.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,ae.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(p),P&&(r.currentTimeline.mergeTimelineCollectedStyles(P),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=t}visitStagger(t,r){const s=r.parentContext,u=r.currentTimeline,d=t.timings,p=Math.abs(d.duration),I=p*(r.currentQueryTotal-1);let P=p*r.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":P=I-P;break;case"full":P=s.currentStaggerTime}const X=r.currentTimeline;P&&X.delayNextStep(P);const ae=X.currentTime;Wu(this,t.animation,r),r.previousNode=t,s.currentStaggerTime=u.currentTime-ae+(u.startTime-s.currentTimeline.startTime)}}const Fp={};class Y_{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Fp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,r,s,u,d,p,I,P){this._driver=t,this.element=r,this.subInstructions=s,this._enterClassName=u,this._leaveClassName=d,this.errors=p,this.timelines=I,this.currentTimeline=P||new pm(this._driver,r,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,r){if(!t)return;const s=t;let u=this.options;null!=s.duration&&(u.duration=vu(s.duration)),null!=s.delay&&(u.delay=vu(s.delay));const d=s.params;if(d){let p=u.params;p||(p=this.options.params={}),Object.keys(d).forEach(I=>{(!r||!p.hasOwnProperty(I))&&(p[I]=Np(d[I],p,this.errors))})}}_copyOptions(){const t={};if(this.options){const r=this.options.params;if(r){const s=t.params={};Object.keys(r).forEach(u=>{s[u]=r[u]})}}return t}createSubContext(t=null,r,s){const u=r||this.element,d=new Y_(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(t),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(t){return this.previousNode=Fp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,r,s){const u={duration:r??t.duration,delay:this.currentTimeline.currentTime+(s??0)+t.delay,easing:""},d=new QT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,u,t.stretchStartingKeyframe);return this.timelines.push(d),u}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,r,s,u,d,p){let I=[];if(u&&I.push(this.element),t.length>0){t=(t=t.replace(l0,"."+this._enterClassName)).replace(h0,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=s);0!==s&&(x=s<0?x.slice(x.length+s,x.length):x.slice(0,s)),I.push(...x)}return!d&&0==I.length&&p.push(function Cf(){return new re.wOt(3014,!1)}()),I}}class pm{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,r,s,u){this._driver=t,this.element=r,this.startTime=s,this._elementTimelineStylesLookup=u,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+t),r&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,r){return this.applyStylesToKeyframe(),new pm(this._driver,t,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,r){this._localTimelineStyles.set(t,r),this._globalTimelineStyles.set(t,r),this._styleSummary.set(t,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[r,s]of this._globalTimelineStyles)this._backFill.set(r,s||ii.kp),this._currentKeyframe.set(r,ii.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,r,s,u){r&&this._previousKeyframe.set("easing",r);const d=u&&u.params||{},p=function YT(a,t){const r=new Map;let s;return a.forEach(u=>{if("*"===u){s??=t.keys();for(let d of s)r.set(d,ii.kp)}else for(let[d,p]of u)r.set(d,p)}),r}(t,this._globalTimelineStyles);for(let[I,P]of p){const x=Np(P,d,s);this._pendingStyles.set(I,x),this._localTimelineStyles.has(I)||this._backFill.set(I,this._globalTimelineStyles.get(I)??ii.kp),this._updateStyle(I,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,r)=>{this._currentKeyframe.set(r,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,t)}))}snapshotCurrentStyles(){for(let[t,r]of this._localTimelineStyles)this._pendingStyles.set(t,r),this._updateStyle(t,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let r in this._currentKeyframe)t.push(r);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((r,s)=>{const u=this._styleSummary.get(s);(!u||r.time>u.time)&&this._updateStyle(s,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((I,P)=>{const x=new Map([...this._backFill,...I]);x.forEach((X,ae)=>{X===ii.FX?t.add(ae):X===ii.kp&&r.add(ae)}),s||x.set("offset",P/this.duration),u.push(x)});const d=[...t.values()],p=[...r.values()];if(s){const I=u[0],P=new Map(I);I.set("offset",0),P.set("offset",1),u=[I,P]}return Q_(this.element,u,d,p,this.duration,this.startTime,this.easing,!1)}}class QT extends pm{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,r,s,u,d,p,I=!1){super(t,r,p.delay),this.keyframes=s,this.preStyleProps=u,this.postStyleProps=d,this._stretchStartingKeyframe=I,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:r,duration:s,easing:u}=this.timings;if(this._stretchStartingKeyframe&&r){const d=[],p=s+r,I=r/p,P=new Map(t[0]);P.set("offset",0),d.push(P);const x=new Map(t[0]);x.set("offset",XT(I)),d.push(x);const X=t.length-1;for(let ae=1;ae<=X;ae++){let Se=new Map(t[ae]);const Ze=Se.get("offset");Se.set("offset",XT((r+Ze*s)/p)),d.push(Se)}s=p,r=0,u="",t=d}return Q_(this.element,t,this.preStyleProps,this.postStyleProps,s,r,u,!0)}}function XT(a,t=3){const r=Math.pow(10,t-1);return Math.round(a*r)/r}function JT(a,t,r,s,u,d,p,I,P,x,X,ae,Se){return{type:0,element:a,triggerName:t,isRemovalTransition:u,fromState:r,fromStyles:d,toState:s,toStyles:p,timelines:I,queriedElements:P,preStyleProps:x,postStyleProps:X,totalTime:ae,errors:Se}}const gm={};class iE{_triggerName;ast;_stateStyles;constructor(t,r,s){this._triggerName=t,this.ast=r,this._stateStyles=s}match(t,r,s,u){return function eb(a,t,r,s,u){return a.some(d=>d(t,r,s,u))}(this.ast.matchers,t,r,s,u)}buildStyles(t,r,s){let u=this._stateStyles.get("*");return void 0!==t&&(u=this._stateStyles.get(t?.toString())||u),u?u.buildStyles(r,s):new Map}build(t,r,s,u,d,p,I,P,x,X){const ae=[],Se=this.ast.options&&this.ast.options.params||gm,Dt=this.buildStyles(s,I&&I.params||gm,ae),Qt=P&&P.params||gm,mn=this.buildStyles(u,Qt,ae),sr=new Set,vr=new Map,wr=new Map,Kr="void"===u,Hi={params:sE(Qt,Se),delay:this.ast.options?.delay},gi=X?[]:X_(t,r,this.ast.animation,d,p,Dt,mn,Hi,x,ae);let ot=0;return gi.forEach(Ne=>{ot=Math.max(Ne.duration+Ne.delay,ot)}),ae.length?JT(r,this._triggerName,s,u,Kr,Dt,mn,[],[],vr,wr,ot,ae):(gi.forEach(Ne=>{const ze=Ne.element,vt=Ia(vr,ze,new Set);Ne.preStyleProps.forEach(Ft=>vt.add(Ft));const Ot=Ia(wr,ze,new Set);Ne.postStyleProps.forEach(Ft=>Ot.add(Ft)),ze!==r&&sr.add(ze)}),JT(r,this._triggerName,s,u,Kr,Dt,mn,gi,[...sr.values()],vr,wr,ot))}}function sE(a,t){const r={...t};return Object.entries(a).forEach(([s,u])=>{null!=u&&(r[s]=u)}),r}class tb{styles;defaultParams;normalizer;constructor(t,r,s){this.styles=t,this.defaultParams=r,this.normalizer=s}buildStyles(t,r){const s=new Map,u=sE(t,this.defaultParams);return this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,I)=>{p&&(p=Np(p,u,r));const P=this.normalizer.normalizePropertyName(I,r);p=this.normalizer.normalizeStyleValue(I,P,p,r),s.set(I,p)})}),s}}class f0{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,r,s){this.name=t,this.ast=r,this._normalizer=s,r.states.forEach(u=>{this.states.set(u.name,new tb(u.style,u.options&&u.options.params||{},s))}),p0(this.states,"true","1"),p0(this.states,"false","0"),r.transitions.forEach(u=>{this.transitionFactories.push(new iE(t,u,this.states))}),this.fallbackTransition=function HD(a,t){return new iE(a,{type:ii.If.Transition,animation:{type:ii.If.Sequence,steps:[],options:null},matchers:[(p,I)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,r,s,u){return this.transitionFactories.find(p=>p.match(t,r,s,u))||null}matchStyles(t,r,s){return this.fallbackTransition.buildStyles(t,r,s)}}function p0(a,t,r){a.has(t)?a.has(r)||a.set(r,a.get(t)):a.has(r)&&a.set(t,a.get(r))}const WD=new xp;class zD{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,r,s){this.bodyNode=t,this._driver=r,this._normalizer=s}register(t,r){const s=[],d=Zv(this._driver,r,s,[]);if(s.length)throw function zA(){return new re.wOt(3503,!1)}();this._animations.set(t,d)}_buildPlayer(t,r,s){const u=t.element,d=OT(this._normalizer,t.keyframes,r,s);return this._driver.animate(u,d,t.duration,t.delay,t.easing,[],!0)}create(t,r,s={}){const u=[],d=this._animations.get(t);let p;const I=new Map;if(d?(p=X_(this._driver,r,d,VT,UT,new Map,new Map,s,WD,u),p.forEach(X=>{const ae=Ia(I,X.element,new Map);X.postStyleProps.forEach(Se=>ae.set(Se,null))})):(u.push(function GA(){return new re.wOt(3300,!1)}()),p=[]),u.length)throw function KA(){return new re.wOt(3504,!1)}();I.forEach((X,ae)=>{X.forEach((Se,Ze)=>{X.set(Ze,this._driver.computeStyle(ae,Ze,ii.kp))})});const x=bh(p.map(X=>{const ae=I.get(X.element);return this._buildPlayer(X,new Map,ae)}));return this._playersById.set(t,x),x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const r=this._getPlayer(t);r.destroy(),this._playersById.delete(t);const s=this.players.indexOf(r);s>=0&&this.players.splice(s,1)}_getPlayer(t){const r=this._playersById.get(t);if(!r)throw function qA(){return new re.wOt(3301,!1)}();return r}listen(t,r,s,u){const d=zv(r,"","","");return V_(this._getPlayer(t),s,d,u),()=>{}}command(t,r,s,u){if("register"==s)return void this.register(t,u[0]);if("create"==s)return void this.create(t,r,u[0]||{});const d=this._getPlayer(t);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(t)}}}const oE="ng-animate-queued",aE="ng-animate-disabled",KD=[],m0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qD={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rl="__ng_removed";class sb{namespaceId;value;options;get params(){return this.options.params}constructor(t,r=""){this.namespaceId=r;const s=t&&t.hasOwnProperty("value");if(this.value=function mm(a){return a??null}(s?t.value:t),s){const{value:d,...p}=t;this.options=p}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const r=t.params;if(r){const s=this.options.params;Object.keys(r).forEach(u=>{null==s[u]&&(s[u]=r[u])})}}}const J_="void",ob=new sb(J_);class QD{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,r,s){this.id=t,this.hostElement=r,this._engine=s,this._hostClassName="ng-tns-"+t,_c(r,this._hostClassName)}listen(t,r,s,u){if(!this._triggers.has(r))throw function QA(){return new re.wOt(3302,!1)}();if(null==s||0==s.length)throw function PT(){return new re.wOt(3303,!1)}();if(!function YD(a){return"start"==a||"done"==a}(s))throw function XA(){return new re.wOt(3400,!1)}();const d=Ia(this._elementListeners,t,[]),p={name:r,phase:s,callback:u};d.push(p);const I=Ia(this._engine.statesByElement,t,new Map);return I.has(r)||(_c(t,B_),_c(t,B_+"-"+r),I.set(r,ob)),()=>{this._engine.afterFlush(()=>{const P=d.indexOf(p);P>=0&&d.splice(P,1),this._triggers.has(r)||I.delete(r)})}}register(t,r){return!this._triggers.has(t)&&(this._triggers.set(t,r),!0)}_getTrigger(t){const r=this._triggers.get(t);if(!r)throw function MT(){return new re.wOt(3401,!1)}();return r}trigger(t,r,s,u=!0){const d=this._getTrigger(r),p=new uE(this.id,r,t);let I=this._engine.statesByElement.get(t);I||(_c(t,B_),_c(t,B_+"-"+r),this._engine.statesByElement.set(t,I=new Map));let P=I.get(r);const x=new sb(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&P&&x.absorbOptions(P.options),I.set(r,x),P||(P=ob),x.value!==J_&&P.value===x.value){if(!function v0(a,t){const r=Object.keys(a),s=Object.keys(t);if(r.length!=s.length)return!1;for(let u=0;u<r.length;u++){const d=r[u];if(!t.hasOwnProperty(d)||a[d]!==t[d])return!1}return!0}(P.params,x.params)){const Qt=[],mn=d.matchStyles(P.value,P.params,Qt),sr=d.matchStyles(x.value,x.params,Qt);Qt.length?this._engine.reportError(Qt):this._engine.afterFlush(()=>{Df(t,mn),Sl(t,sr)})}return}const Se=Ia(this._engine.playersByElement,t,[]);Se.forEach(Qt=>{Qt.namespaceId==this.id&&Qt.triggerName==r&&Qt.queued&&Qt.destroy()});let Ze=d.matchTransition(P.value,x.value,t,x.params),Dt=!1;if(!Ze){if(!u)return;Ze=d.fallbackTransition,Dt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:Ze,fromState:P,toState:x,player:p,isFallbackTransition:Dt}),Dt||(_c(t,oE),p.onStart(()=>{Vp(t,oE)})),p.onDone(()=>{let Qt=this.players.indexOf(p);Qt>=0&&this.players.splice(Qt,1);const mn=this._engine.playersByElement.get(t);if(mn){let sr=mn.indexOf(p);sr>=0&&mn.splice(sr,1)}}),this.players.push(p),Se.push(p),p}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(r=>r.delete(t)),this._elementListeners.forEach((r,s)=>{this._elementListeners.set(s,r.filter(u=>u.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const r=this._engine.playersByElement.get(t);r&&(r.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,r){const s=this._engine.driver.query(t,Zc,!0);s.forEach(u=>{if(u[Rl])return;const d=this._engine.fetchNamespacesByElement(u);d.size?d.forEach(p=>p.triggerLeaveAnimation(u,r,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(t,r,s,u){const d=this._engine.statesByElement.get(t),p=new Map;if(d){const I=[];if(d.forEach((P,x)=>{if(p.set(x,P.value),this._triggers.has(x)){const X=this.trigger(t,x,J_,u);X&&I.push(X)}}),I.length)return this._engine.markElementAsRemoved(this.id,t,!0,r,p),s&&bh(I).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const r=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(r&&s){const u=new Set;r.forEach(d=>{const p=d.name;if(u.has(p))return;u.add(p);const P=this._triggers.get(p).fallbackTransition,x=s.get(p)||ob,X=new sb(J_),ae=new uE(this.id,p,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:p,transition:P,fromState:x,toState:X,player:ae,isFallbackTransition:!0})})}}removeNode(t,r){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,r),this.triggerLeaveAnimation(t,r,!0))return;let u=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(t):[];if(d&&d.length)u=!0;else{let p=t;for(;p=p.parentNode;)if(s.statesByElement.get(p)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(t),u)s.markElementAsRemoved(this.id,t,!1,r);else{const d=t[Rl];(!d||d===m0)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,r))}}insertNode(t,r){_c(t,this._hostClassName)}drainQueuedTransitions(t){const r=[];return this._queue.forEach(s=>{const u=s.player;if(u.destroyed)return;const d=s.element,p=this._elementListeners.get(d);p&&p.forEach(I=>{if(I.name==s.triggerName){const P=zv(d,s.triggerName,s.fromState.value,s.toState.value);P._data=t,V_(s.player,I.phase,P,I.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):r.push(s)}),this._queue=[],r.sort((s,u)=>{const d=s.transition.ast.depCount,p=u.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(s.element,u.element)?1:-1})}destroy(t){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class XD{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,r)=>{};_onRemovalComplete(t,r){this.onRemovalComplete(t,r)}constructor(t,r,s){this.bodyNode=t,this.driver=r,this._normalizer=s}get queuedPlayers(){const t=[];return this._namespaceList.forEach(r=>{r.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,r){const s=new QD(t,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(s,r):(this.newHostElements.set(r,s),this.collectEnterElement(r)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,r){const s=this._namespaceList,u=this.namespacesByHostElement;if(s.length-1>=0){let p=!1,I=this.driver.getParentElement(r);for(;I;){const P=u.get(I);if(P){const x=s.indexOf(P);s.splice(x+1,0,t),p=!0;break}I=this.driver.getParentElement(I)}p||s.unshift(t)}else s.push(t);return u.set(r,t),t}register(t,r){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,r)),s}registerTrigger(t,r,s){let u=this._namespaceLookup[t];u&&u.register(r,s)&&this.totalAnimations++}destroy(t,r){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const s=this._fetchNamespace(t);this.namespacesByHostElement.delete(s.hostElement);const u=this._namespaceList.indexOf(s);u>=0&&this._namespaceList.splice(u,1),s.destroy(r),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const r=new Set,s=this.statesByElement.get(t);if(s)for(let u of s.values())if(u.namespaceId){const d=this._fetchNamespace(u.namespaceId);d&&r.add(d)}return r}trigger(t,r,s,u){if(Z_(r)){const d=this._fetchNamespace(t);if(d)return d.trigger(r,s,u),!0}return!1}insertNode(t,r,s,u){if(!Z_(r))return;const d=r[Rl];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(r);p>=0&&this.collectedLeaveElements.splice(p,1)}if(t){const p=this._fetchNamespace(t);p&&p.insertNode(r,s)}u&&this.collectEnterElement(r)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,r){r?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_c(t,aE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vp(t,aE))}removeNode(t,r,s){if(Z_(r)){const u=t?this._fetchNamespace(t):null;u?u.removeNode(r,s):this.markElementAsRemoved(t,r,!1,s);const d=this.namespacesByHostElement.get(r);d&&d.id!==t&&d.removeNode(r,s)}else this._onRemovalComplete(r,s)}markElementAsRemoved(t,r,s,u,d){this.collectedLeaveElements.push(r),r[Rl]={namespaceId:t,setForRemoval:u,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:d}}listen(t,r,s,u,d){return Z_(r)?this._fetchNamespace(t).listen(r,s,u,d):()=>{}}_buildInstruction(t,r,s,u,d){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,u,t.fromState.options,t.toState.options,r,d)}destroyInnerAnimations(t){let r=this.driver.query(t,Zc,!0);r.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(t,cm,!0),r.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const r=this.playersByElement.get(t);r&&r.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const r=this.playersByQueriedElement.get(t);r&&r.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return bh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const r=t[Rl];if(r&&r.setForRemoval){if(t[Rl]=m0,r.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}t.classList?.contains(aE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,u)=>this._balanceNamespaceList(s,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)_c(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{r=this._flushAnimations(s,t)}finally{for(let u=0;u<s.length;u++)s[u]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],r.length?bh(r).onDone(()=>{s.forEach(u=>u())}):s.forEach(u=>u())}}reportError(t){throw function F_(){return new re.wOt(3402,!1)}()}_flushAnimations(t,r){const s=new xp,u=[],d=new Map,p=[],I=new Map,P=new Map,x=new Map,X=new Set;this.disabledNodes.forEach($r=>{X.add($r);const Yr=this.driver.query($r,".ng-animate-queued",!0);for(let ai=0;ai<Yr.length;ai++)X.add(Yr[ai])});const ae=this.bodyNode,Se=Array.from(this.statesByElement.keys()),Ze=_0(Se,this.collectedEnterElements),Dt=new Map;let Qt=0;Ze.forEach(($r,Yr)=>{const ai=VT+Qt++;Dt.set(Yr,ai),$r.forEach(as=>_c(as,ai))});const mn=[],sr=new Set,vr=new Set;for(let $r=0;$r<this.collectedLeaveElements.length;$r++){const Yr=this.collectedLeaveElements[$r],ai=Yr[Rl];ai&&ai.setForRemoval&&(mn.push(Yr),sr.add(Yr),ai.hasAnimation?this.driver.query(Yr,".ng-star-inserted",!0).forEach(as=>sr.add(as)):vr.add(Yr))}const wr=new Map,Kr=_0(Se,Array.from(sr));Kr.forEach(($r,Yr)=>{const ai=UT+Qt++;wr.set(Yr,ai),$r.forEach(as=>_c(as,ai))}),t.push(()=>{Ze.forEach(($r,Yr)=>{const ai=Dt.get(Yr);$r.forEach(as=>Vp(as,ai))}),Kr.forEach(($r,Yr)=>{const ai=wr.get(Yr);$r.forEach(as=>Vp(as,ai))}),mn.forEach($r=>{this.processLeaveNode($r)})});const Hi=[],gi=[];for(let $r=this._namespaceList.length-1;$r>=0;$r--)this._namespaceList[$r].drainQueuedTransitions(r).forEach(ai=>{const as=ai.player,Io=ai.element;if(Hi.push(as),this.collectedEnterElements.length){const xo=Io[Rl];if(xo&&xo.setForMove){if(xo.previousTriggersValues&&xo.previousTriggersValues.has(ai.triggerName)){const Ah=xo.previousTriggersValues.get(ai.triggerName),Eu=this.statesByElement.get(ai.element);if(Eu&&Eu.has(ai.triggerName)){const el=Eu.get(ai.triggerName);el.value=Ah,Eu.set(ai.triggerName,el)}}return void as.destroy()}}const yc=!ae||!this.driver.containsElement(ae,Io),No=wr.get(Io),mo=Dt.get(Io),Gs=this._buildInstruction(ai,s,mo,No,yc);if(Gs.errors&&Gs.errors.length)return void gi.push(Gs);if(yc)return as.onStart(()=>Df(Io,Gs.fromStyles)),as.onDestroy(()=>Sl(Io,Gs.toStyles)),void u.push(as);if(ai.isFallbackTransition)return as.onStart(()=>Df(Io,Gs.fromStyles)),as.onDestroy(()=>Sl(Io,Gs.toStyles)),void u.push(as);const Ed=[];Gs.timelines.forEach(xo=>{xo.stretchStartingKeyframe=!0,this.disabledNodes.has(xo.element)||Ed.push(xo)}),Gs.timelines=Ed,s.append(Io,Gs.timelines),p.push({instruction:Gs,player:as,element:Io}),Gs.queriedElements.forEach(xo=>Ia(I,xo,[]).push(as)),Gs.preStyleProps.forEach((xo,Ah)=>{if(xo.size){let Eu=P.get(Ah);Eu||P.set(Ah,Eu=new Set),xo.forEach((el,Ch)=>Eu.add(Ch))}}),Gs.postStyleProps.forEach((xo,Ah)=>{let Eu=x.get(Ah);Eu||x.set(Ah,Eu=new Set),xo.forEach((el,Ch)=>Eu.add(Ch))})});if(gi.length){const $r=[];gi.forEach(Yr=>{$r.push(function L_(){return new re.wOt(3505,!1)}())}),Hi.forEach(Yr=>Yr.destroy()),this.reportError($r)}const ot=new Map,Ne=new Map;p.forEach($r=>{const Yr=$r.element;s.has(Yr)&&(Ne.set(Yr,Yr),this._beforeAnimationBuild($r.player.namespaceId,$r.instruction,ot))}),u.forEach($r=>{const Yr=$r.element;this._getPreviousPlayers(Yr,!1,$r.namespaceId,$r.triggerName,null).forEach(as=>{Ia(ot,Yr,[]).push(as),as.destroy()})});const ze=mn.filter($r=>hE($r,P,x)),vt=new Map;ab(vt,this.driver,vr,x,ii.kp).forEach($r=>{hE($r,P,x)&&ze.push($r)});const Ft=new Map;Ze.forEach(($r,Yr)=>{ab(Ft,this.driver,new Set($r),P,ii.FX)}),ze.forEach($r=>{const Yr=vt.get($r),ai=Ft.get($r);vt.set($r,new Map([...Yr?.entries()??[],...ai?.entries()??[]]))});const nt=[],$a=[],Pl={};p.forEach($r=>{const{element:Yr,player:ai,instruction:as}=$r;if(s.has(Yr)){if(X.has(Yr))return ai.onDestroy(()=>Sl(Yr,as.toStyles)),ai.disabled=!0,ai.overrideTotalTime(as.totalTime),void u.push(ai);let Io=Pl;if(Ne.size>1){let No=Yr;const mo=[];for(;No=No.parentNode;){const Gs=Ne.get(No);if(Gs){Io=Gs;break}mo.push(No)}mo.forEach(Gs=>Ne.set(Gs,Io))}const yc=this._buildAnimation(ai.namespaceId,as,ot,d,Ft,vt);if(ai.setRealPlayer(yc),Io===Pl)nt.push(ai);else{const No=this.playersByElement.get(Io);No&&No.length&&(ai.parentPlayer=bh(No)),u.push(ai)}}else Df(Yr,as.fromStyles),ai.onDestroy(()=>Sl(Yr,as.toStyles)),$a.push(ai),X.has(Yr)&&u.push(ai)}),$a.forEach($r=>{const Yr=d.get($r.element);if(Yr&&Yr.length){const ai=bh(Yr);$r.setRealPlayer(ai)}}),u.forEach($r=>{$r.parentPlayer?$r.syncPlayerEvents($r.parentPlayer):$r.destroy()});for(let $r=0;$r<mn.length;$r++){const Yr=mn[$r],ai=Yr[Rl];if(Vp(Yr,UT),ai&&ai.hasAnimation)continue;let as=[];if(I.size){let yc=I.get(Yr);yc&&yc.length&&as.push(...yc);let No=this.driver.query(Yr,cm,!0);for(let mo=0;mo<No.length;mo++){let Gs=I.get(No[mo]);Gs&&Gs.length&&as.push(...Gs)}}const Io=as.filter(yc=>!yc.destroyed);Io.length?y0(this,Yr,Io):this.processLeaveNode(Yr)}return mn.length=0,nt.forEach($r=>{this.players.push($r),$r.onDone(()=>{$r.destroy();const Yr=this.players.indexOf($r);this.players.splice(Yr,1)}),$r.play()}),nt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,r,s,u,d){let p=[];if(r){const I=this.playersByQueriedElement.get(t);I&&(p=I)}else{const I=this.playersByElement.get(t);if(I){const P=!d||d==J_;I.forEach(x=>{x.queued||!P&&x.triggerName!=u||p.push(x)})}}return(s||u)&&(p=p.filter(I=>!(s&&s!=I.namespaceId||u&&u!=I.triggerName))),p}_beforeAnimationBuild(t,r,s){const d=r.element,p=r.isRemovalTransition?void 0:t,I=r.isRemovalTransition?void 0:r.triggerName;for(const P of r.timelines){const x=P.element,X=x!==d,ae=Ia(s,x,[]);this._getPreviousPlayers(x,X,p,I,r.toState).forEach(Ze=>{const Dt=Ze.getRealPlayer();Dt.beforeDestroy&&Dt.beforeDestroy(),Ze.destroy(),ae.push(Ze)})}Df(d,r.fromStyles)}_buildAnimation(t,r,s,u,d,p){const I=r.triggerName,P=r.element,x=[],X=new Set,ae=new Set,Se=r.timelines.map(Dt=>{const Qt=Dt.element;X.add(Qt);const mn=Qt[Rl];if(mn&&mn.removedBeforeQueried)return new ii.sf(Dt.duration,Dt.delay);const sr=Qt!==P,vr=function lE(a){const t=[];return dE(a,t),t}((s.get(Qt)||KD).map(ot=>ot.getRealPlayer())).filter(ot=>!!ot.element&&ot.element===Qt),wr=d.get(Qt),Kr=p.get(Qt),Hi=OT(this._normalizer,Dt.keyframes,wr,Kr),gi=this._buildPlayer(Dt,Hi,vr);if(Dt.subTimeline&&u&&ae.add(Qt),sr){const ot=new uE(t,I,Qt);ot.setRealPlayer(gi),x.push(ot)}return gi});x.forEach(Dt=>{Ia(this.playersByQueriedElement,Dt.element,[]).push(Dt),Dt.onDone(()=>function Lp(a,t,r){let s=a.get(t);if(s){if(s.length){const u=s.indexOf(r);s.splice(u,1)}0==s.length&&a.delete(t)}return s}(this.playersByQueriedElement,Dt.element,Dt))}),X.forEach(Dt=>_c(Dt,Op));const Ze=bh(Se);return Ze.onDestroy(()=>{X.forEach(Dt=>Vp(Dt,Op)),Sl(P,r.toStyles)}),ae.forEach(Dt=>{Ia(u,Dt,[]).push(Ze)}),Ze}_buildPlayer(t,r,s){return r.length>0?this.driver.animate(t.element,r,t.duration,t.delay,t.easing,s):new ii.sf(t.duration,t.delay)}}class uE{namespaceId;triggerName;element;_player=new ii.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,r,s){this.namespaceId=t,this.triggerName=r,this.element=s}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((r,s)=>{r.forEach(u=>V_(t,s,void 0,u))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const r=this._player;r.triggerCallback&&t.onStart(()=>r.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,r){Ia(this._queuedCallbacks,t,[]).push(r)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const r=this._player;r.triggerCallback&&r.triggerCallback(t)}}function Z_(a){return a&&1===a.nodeType}function cE(a,t){const r=a.style.display;return a.style.display=t??"none",r}function ab(a,t,r,s,u){const d=[];r.forEach(P=>d.push(cE(P)));const p=[];s.forEach((P,x)=>{const X=new Map;P.forEach(ae=>{const Se=t.computeStyle(x,ae,u);X.set(ae,Se),(!Se||0==Se.length)&&(x[Rl]=qD,p.push(x))}),a.set(x,X)});let I=0;return r.forEach(P=>cE(P,d[I++])),p}function _0(a,t){const r=new Map;if(a.forEach(I=>r.set(I,[])),0==t.length)return r;const u=new Set(t),d=new Map;function p(I){if(!I)return 1;let P=d.get(I);if(P)return P;const x=I.parentNode;return P=r.has(x)?x:u.has(x)?1:p(x),d.set(I,P),P}return t.forEach(I=>{const P=p(I);1!==P&&r.get(P).push(I)}),r}function _c(a,t){a.classList?.add(t)}function Vp(a,t){a.classList?.remove(t)}function y0(a,t,r){bh(r).onDone(()=>a.processLeaveNode(t))}function dE(a,t){for(let r=0;r<a.length;r++){const s=a[r];s instanceof ii.PZ?dE(s.players,t):t.push(s)}}function hE(a,t,r){const s=r.get(a);if(!s)return!1;let u=t.get(a);return u?s.forEach(d=>u.add(d)):t.set(a,s),r.delete(a),!0}class Up{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,r)=>{};constructor(t,r,s){this._driver=r,this._normalizer=s,this._transitionEngine=new XD(t.body,r,s),this._timelineEngine=new zD(t.body,r,s),this._transitionEngine.onRemovalComplete=(u,d)=>this.onRemovalComplete(u,d)}registerTrigger(t,r,s,u,d){const p=t+"-"+u;let I=this._triggerCache[p];if(!I){const P=[],X=Zv(this._driver,d,P,[]);if(P.length)throw function Mp(){return new re.wOt(3404,!1)}();I=function nb(a,t,r){return new f0(a,t,r)}(u,X,this._normalizer),this._triggerCache[p]=I}this._transitionEngine.registerTrigger(r,u,I)}register(t,r){this._transitionEngine.register(t,r)}destroy(t,r){this._transitionEngine.destroy(t,r)}onInsert(t,r,s,u){this._transitionEngine.insertNode(t,r,s,u)}onRemove(t,r,s){this._transitionEngine.removeNode(t,r,s)}disableAnimations(t,r){this._transitionEngine.markElementAsDisabled(t,r)}process(t,r,s,u){if("@"==s.charAt(0)){const[d,p]=NT(s);this._timelineEngine.command(d,r,p,u)}else this._transitionEngine.trigger(t,r,s,u)}listen(t,r,s,u,d){if("@"==s.charAt(0)){const[p,I]=NT(s);return this._timelineEngine.listen(p,r,I,d)}return this._transitionEngine.listen(t,r,s,u,d)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let E0=(()=>{class a{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(r,s,u){this._element=r,this._startStyles=s,this._endStyles=u;let d=a.initialStylesByElement.get(r);d||a.initialStylesByElement.set(r,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Sl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sl(this._element,this._initialStyles),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&(Df(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Df(this._element,this._endStyles),this._endStyles=null),Sl(this._element,this._initialStyles),this._state=3)}}return a})();function vd(a){let t=null;return a.forEach((r,s)=>{(function ub(a){return"display"===a||"position"===a})(s)&&(t=t||new Map,t.set(s,r))}),t}class cb{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,r,s,u){this.element=t,this.keyframes=r,this.options=s,this._specialStyles=u,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const r=[];return t.forEach(s=>{r.push(Object.fromEntries(s))}),r}_triggerWebAnimation(t,r,s){return t.animate(this._convertKeyframesToObject(r),s)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,u)=>{"offset"!==u&&t.set(u,this._finished?s:Yv(this.element,u))}),this.currentSnapshot=t}triggerCallback(t){const r="start"===t?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class I0{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,r){return wh(t,r)}getParentElement(t){return Gv(t)}query(t,r,s){return um(t,r,s)}computeStyle(t,r,s){return Yv(t,r)}animate(t,r,s,u,d,p=[]){const P={duration:s,delay:u,fill:0==u?"both":"forwards"};d&&(P.easing=d);const x=new Map,X=p.filter(Ze=>Ze instanceof cb);(function e0(a,t){return 0===a||0===t})(s,u)&&X.forEach(Ze=>{Ze.currentSnapshot.forEach((Dt,Qt)=>x.set(Qt,Dt))});let ae=function qv(a){return a.length?a[0]instanceof Map?a:a.map(t=>new Map(Object.entries(t))):[]}(r).map(Ze=>new Map(Ze));ae=function t0(a,t,r){if(r.size&&t.length){let s=t[0],u=[];if(r.forEach((d,p)=>{s.has(p)||u.push(p),s.set(p,d)}),u.length)for(let d=1;d<t.length;d++){let p=t[d];u.forEach(I=>p.set(I,Yv(a,I)))}}return t}(t,ae,x);const Se=function JD(a,t){let r=null,s=null;return Array.isArray(t)&&t.length?(r=vd(t[0]),t.length>1&&(s=vd(t[t.length-1]))):t instanceof Map&&(r=vd(t)),r||s?new E0(a,r,s):null}(t,ae);return new cb(t,ae,P,Se)}}const fE="@.disabled";class ty{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,r,s,u){this.namespaceId=t,this.delegate=r,this.engine=s,this._onDestroy=u}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,r){this.delegate.appendChild(t,r),this.engine.onInsert(this.namespaceId,r,t,!1)}insertBefore(t,r,s,u=!0){this.delegate.insertBefore(t,r,s),this.engine.onInsert(this.namespaceId,r,t,u)}removeChild(t,r,s){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,s,u){this.delegate.setAttribute(t,r,s,u)}removeAttribute(t,r,s){this.delegate.removeAttribute(t,r,s)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,s,u){this.delegate.setStyle(t,r,s,u)}removeStyle(t,r,s){this.delegate.removeStyle(t,r,s)}setProperty(t,r,s){"@"==r.charAt(0)&&r==fE?this.disableAnimations(t,!!s):this.delegate.setProperty(t,r,s)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,s,u){return this.delegate.listen(t,r,s,u)}disableAnimations(t,r){this.engine.disableAnimations(t,r)}}class T0 extends ty{factory;constructor(t,r,s,u,d){super(r,s,u,d),this.factory=t,this.namespaceId=r}setProperty(t,r,s){"@"==r.charAt(0)?"."==r.charAt(1)&&r==fE?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,r.slice(1),s):this.delegate.setProperty(t,r,s)}listen(t,r,s,u){if("@"==r.charAt(0)){const d=function hb(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(t);let p=r.slice(1),I="";return"@"!=p.charAt(0)&&([p,I]=function b0(a){const t=a.indexOf(".");return[a.substring(0,t),a.slice(t+1)]}(p)),this.engine.listen(this.namespaceId,d,p,I,P=>{this.factory.scheduleListenerCallback(P._data||-1,s,P)})}return this.delegate.listen(t,r,s,u)}}class w0{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,r.onRemovalComplete=(u,d)=>{d?.removeChild(null,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!t||!r?.data?.animation){const x=this._rendererCache;let X=x.get(u);return X||(X=new ty("",u,this.engine,()=>x.delete(u)),x.set(u,X)),X}const d=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const I=x=>{Array.isArray(x)?x.forEach(I):this.engine.registerTrigger(d,p,t,x.name,x)};return r.data.animation.forEach(I),new T0(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>r(s));const u=this._animationCallbacksBuffer;0==u.length&&queueMicrotask(()=>{this._zone.run(()=>{u.forEach(d=>{const[p,I]=d;p(I)}),this._animationCallbacksBuffer=[]})}),u.push([r,s])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}}const gE=[{provide:H_,useFactory:function A0(){return new WT}},{provide:Up,useClass:(()=>{class a extends Up{constructor(r,s,u){super(r,s,u)}ngOnDestroy(){this.flush()}static \u0275fac=function(s){return new(s||a)(re.KVO(ee.q),re.KVO($_),re.KVO(H_))};static \u0275prov=re.jDH({token:a,factory:a.\u0275fac})}return a})()},{provide:re._9s,useFactory:function C0(a,t,r){return new w0(a,t,r)},deps:[kn,Up,re.SKi]}],mE=[{provide:$_,useClass:$T},{provide:re.bc$,useValue:"NoopAnimations"},...gE],ny=[{provide:$_,useFactory:()=>new I0},{provide:re.bc$,useFactory:()=>"BrowserAnimations"},...gE];let fb=(()=>{class a{static withConfig(r){return{ngModule:a,providers:r.disableAnimations?mE:ny}}static \u0275fac=function(s){return new(s||a)};static \u0275mod=re.$C({type:a});static \u0275inj=re.G2t({providers:ny,imports:[ft]})}return a})(),pb=(()=>{class a{static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275mod=re.$C({type:a,bootstrap:[bT]})}static{this.\u0275inj=re.G2t({providers:[ET.L,{provide:Sn.a7,useClass:Bv._,multi:!0},(0,gr.MW)(()=>(0,gr.Wp)(yT.c.firebaseConfig)),(0,on._q)(()=>(0,on.xI)()),uA(()=>M_())],imports:[ft,en.YN,en.X1,Sn.q1,or.iI,RA,fb]})}}return a})();yT.c.production&&(0,re.SmG)(),Mn().bootstrapModule(pb).catch(a=>console.error(a))},2831:(Xn,Tt,B)=>{"use strict";B.d(Tt,{n:()=>Re});var w=B(8621),ne=B(9867),ee=B(6111);function Re(re,ye){return(0,ne.N)((Fe,De)=>{let rt=null,ve=0,Ie=!1;const lt=()=>Ie&&!rt&&De.complete();Fe.subscribe((0,ee._)(De,ht=>{rt?.unsubscribe();let mt=0;const Jt=ve++;(0,w.Tg)(re(ht,Jt)).subscribe(rt=(0,ee._)(De,Ht=>De.next(ye?ye(ht,Ht,Jt,mt++):Ht),()=>{rt=null,lt()}))},()=>{Ie=!0,lt()}))})}},2895:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Y:()=>ee,l:()=>Re});var w=B(2493);let ne=null;function ee(re){if(w.$.useDeprecatedSynchronousErrorHandling){const ye=!ne;if(ye&&(ne={errorThrown:!1,error:null}),re(),ye){const{errorThrown:Fe,error:De}=ne;if(ne=null,Fe)throw De}}else re()}function Re(re){w.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=re)}},2928:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Y:()=>ee});var w=B(4929),ne=B(3229);function ee(Re=0,re=w.E){return Re<0&&(Re=0),(0,ne.O)(Re,Re,re)}},3038:(Xn,Tt,B)=>{"use strict";function w(Fe,De){De=encodeURIComponent(De);for(const rt of Fe.split(";")){const ve=rt.indexOf("="),[Ie,lt]=-1==ve?[rt,""]:[rt.slice(0,ve),rt.slice(ve+1)];if(Ie.trim()===De)return decodeURIComponent(lt)}return null}B.d(Tt,{N0:()=>ye,UE:()=>Re,Vy:()=>re,Zn:()=>ne,bS:()=>w});const ne="browser",ee="server";function Re(Fe){return Fe===ne}function re(Fe){return Fe===ee}class ye{}},3098:(Xn,Tt,B)=>{"use strict";B.d(Tt,{nX:()=>Us,Pu:()=>ca,Zp:()=>Ai,nU:()=>Oe,c1:()=>Ei,XR:()=>da,wF:()=>zr,lW:()=>Mi,mo:()=>vi,Z:()=>li,J2:()=>za,J_:()=>Eo,bw:()=>Zi,tD:()=>bs,Ix:()=>sl,D$:()=>os,n3:()=>Wo,OY:()=>rs,Sd:()=>Zt,bK:()=>il,gk:()=>wu,Lg:()=>bu,wO:()=>Pt,Us:()=>To,we:()=>js});var w=B(7728),ne=B(4357),ee=B(1489),Re=B(9406),re=B(4418),Fe=B(4690),De=B(756),rt=B(5981),ve=B(199),Ie=B(943),lt=B(7267),ht=B(8001),mt=B(6106),Jt=B(8823),Ht=B(8448),hn=B(2029),dn=B(9867),Kt=B(6111);function Ut(){return(0,dn.N)((S,k)=>{let M=null;S._refCount++;const O=(0,Kt._)(k,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(M=null);const Q=S._connection,Te=M;M=null,Q&&(!Te||Q===Te)&&Q.unsubscribe(),k.unsubscribe()});S.subscribe(O),O.closed||(M=S.connect())})}class Wt extends Re.c{constructor(k,M){super(),this.source=k,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,dn.S)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new hn.yU;const M=this.getSubject();k.add(this.source.subscribe((0,Kt._)(M,void 0,()=>{this._teardown(),M.complete()},O=>{this._teardown(),M.error(O)},()=>this._teardown()))),k.closed&&(this._connection=null,k=hn.yU.EMPTY)}return k}refCount(){return Ut()(this)}}var We=B(6104),St=B(3527),pt=B(2831),kt=B(8486),Rt=B(965),at=B(8503),kn=B(3422);function Or(S){return(0,dn.N)((k,M)=>{let O=!1;k.subscribe((0,Kt._)(M,Q=>{O=!0,M.next(Q)},()=>{O||M.next(S),M.complete()}))})}function Hr(S=pr){return(0,dn.N)((k,M)=>{let O=!1;k.subscribe((0,Kt._)(M,Q=>{O=!0,M.next(Q)},()=>O?M.complete():M.error(S())))})}function pr(){return new Ie.G}var Wr=B(9656);function Nr(S,k){const M=arguments.length>=2;return O=>O.pipe(S?(0,at.p)((Q,Te)=>S(Q,Te,O)):Wr.D,(0,kt.s)(1),M?Or(k):Hr(()=>new Ie.G))}var Ur=B(4807);function Pr(S,k,M){const O=(0,re.T)(S)||k||M?{next:S,error:k,complete:M}:S;return O?(0,dn.N)((Q,Te)=>{var me;null===(me=O.subscribe)||void 0===me||me.call(O);let dt=!0;Q.subscribe((0,Kt._)(Te,Xt=>{var Wn;null===(Wn=O.next)||void 0===Wn||Wn.call(O,Xt),Te.next(Xt)},()=>{var Xt;dt=!1,null===(Xt=O.complete)||void 0===Xt||Xt.call(O),Te.complete()},Xt=>{var Wn;dt=!1,null===(Wn=O.error)||void 0===Wn||Wn.call(O,Xt),Te.error(Xt)},()=>{var Xt,Wn;dt&&(null===(Xt=O.unsubscribe)||void 0===Xt||Xt.call(O)),null===(Wn=O.finalize)||void 0===Wn||Wn.call(O)}))}):Wr.D}var yi=B(4526);function Ve(S){return S<=0?()=>Ht.w:(0,dn.N)((k,M)=>{let O=[];k.subscribe((0,Kt._)(M,Q=>{O.push(Q),S<O.length&&O.shift()},()=>{for(const Q of O)M.next(Q);M.complete()},void 0,()=>{O=null}))})}var Ge=B(6347),qe=B(6340);let sn=(()=>{class S{_doc;constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static \u0275fac=function(O){return new(O||S)(ee.KVO(w.q))};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const On="primary",An=Symbol("RouteTitle");class Ui{params;constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const M=this.params[k];return Array.isArray(M)?M[0]:M}return null}getAll(k){if(this.has(k)){const M=this.params[k];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function ns(S){return new Ui(S)}function ws(S,k,M){const O=M.path.split("/");if(O.length>S.length||"full"===M.pathMatch&&(k.hasChildren()||O.length<S.length))return null;const Q={};for(let Te=0;Te<O.length;Te++){const me=O[Te],dt=S[Te];if(":"===me[0])Q[me.substring(1)]=dt;else if(me!==dt.path)return null}return{consumed:S.slice(0,O.length),posParams:Q}}function Pi(S,k){const M=S?bi(S):void 0,O=k?bi(k):void 0;if(!M||!O||M.length!=O.length)return!1;let Q;for(let Te=0;Te<M.length;Te++)if(Q=M[Te],!ho(S[Q],k[Q]))return!1;return!0}function bi(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function ho(S,k){if(Array.isArray(S)&&Array.isArray(k)){if(S.length!==k.length)return!1;const M=[...S].sort(),O=[...k].sort();return M.every((Q,Te)=>O[Te]===Q)}return S===k}function Bi(S){return S.length>0?S[S.length-1]:null}function kr(S){return function ye(S){return!!S&&(S instanceof Re.c||(0,re.T)(S.lift)&&(0,re.T)(S.subscribe))}(S)?S:(0,ee.jNT)(S)?(0,Fe.H)(Promise.resolve(S)):(0,De.of)(S)}const Wi={exact:function bn(S,k,M){if(!be(S.segments,k.segments)||!$n(S.segments,k.segments,M)||S.numberOfChildren!==k.numberOfChildren)return!1;for(const O in k.children)if(!S.children[O]||!bn(S.children[O],k.children[O],M))return!1;return!0},subset:vn},qr={exact:function Lt(S,k){return Pi(S,k)},subset:function Un(S,k){return Object.keys(k).length<=Object.keys(S).length&&Object.keys(k).every(M=>ho(S[M],k[M]))},ignored:()=>!0};function an(S,k,M){return Wi[M.paths](S.root,k.root,M.matrixParams)&&qr[M.queryParams](S.queryParams,k.queryParams)&&!("exact"===M.fragment&&S.fragment!==k.fragment)}function vn(S,k,M){return er(S,k,k.segments,M)}function er(S,k,M,O){if(S.segments.length>M.length){const Q=S.segments.slice(0,M.length);return!(!be(Q,M)||k.hasChildren()||!$n(Q,M,O))}if(S.segments.length===M.length){if(!be(S.segments,M)||!$n(S.segments,M,O))return!1;for(const Q in k.children)if(!S.children[Q]||!vn(S.children[Q],k.children[Q],O))return!1;return!0}{const Q=M.slice(0,S.segments.length),Te=M.slice(S.segments.length);return!!(be(S.segments,Q)&&$n(S.segments,Q,O)&&S.children[On])&&er(S.children[On],k,Te,O)}}function $n(S,k,M){return k.every((O,Q)=>qr[M](S[Q].parameters,O.parameters))}class Br{root;queryParams;fragment;_queryParamMap;constructor(k=new Vr([],{}),M={},O=null){this.root=k,this.queryParams=M,this.fragment=O}get queryParamMap(){return this._queryParamMap??=ns(this.queryParams),this._queryParamMap}toString(){return tr.serialize(this)}}class Vr{segments;children;parent=null;constructor(k,M){this.segments=k,this.children=M,Object.values(M).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class zi{path;parameters;_parameterMap;constructor(k,M){this.path=k,this.parameters=M}get parameterMap(){return this._parameterMap??=ns(this.parameters),this._parameterMap}toString(){return Vn(this)}}function be(S,k){return S.length===k.length&&S.every((M,O)=>M.path===k[O].path)}let Zt=(()=>{class S{static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:()=>new Oe,providedIn:"root"})}return S})();class Oe{parse(k){const M=new fi(k);return new Br(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(k){const M=`/${xr(k.root,!0)}`,O=function ce(S){const k=Object.entries(S).map(([M,O])=>Array.isArray(O)?O.map(Q=>`${Z(M)}=${Z(Q)}`).join("&"):`${Z(M)}=${Z(O)}`).filter(M=>M);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${M}${O}${"string"==typeof k.fragment?`#${function fe(S){return encodeURI(S)}(k.fragment)}`:""}`}}const tr=new Oe;function rn(S){return S.segments.map(k=>Vn(k)).join("/")}function xr(S,k){if(!S.hasChildren())return rn(S);if(k){const M=S.children[On]?xr(S.children[On],!1):"",O=[];return Object.entries(S.children).forEach(([Q,Te])=>{Q!==On&&O.push(`${Q}:${xr(Te,!1)}`)}),O.length>0?`${M}(${O.join("//")})`:M}{const M=function Ye(S,k){let M=[];return Object.entries(S.children).forEach(([O,Q])=>{O===On&&(M=M.concat(k(Q,O)))}),Object.entries(S.children).forEach(([O,Q])=>{O!==On&&(M=M.concat(k(Q,O)))}),M}(S,(O,Q)=>Q===On?[xr(S.children[On],!1)]:[`${Q}:${xr(O,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[On]?`${rn(S)}/${M[0]}`:`${rn(S)}/(${M.join("//")})`}}function se(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Z(S){return se(S).replace(/%3B/gi,";")}function it(S){return se(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function At(S){return decodeURIComponent(S)}function $t(S){return At(S.replace(/\+/g,"%20"))}function Vn(S){return`${it(S.path)}${function Yn(S){return Object.entries(S).map(([k,M])=>`;${it(k)}=${it(M)}`).join("")}(S.parameters)}`}const H=/^[^\/()?;#]+/;function $(S){const k=S.match(H);return k?k[0]:""}const te=/^[^\/()?;=#]+/,gn=/^[^=?&#]+/,cr=/^[^&#]+/;class fi{url;remaining;constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vr([],{}):new Vr([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(k.length>0||Object.keys(M).length>0)&&(O[On]=new Vr(k,M)),O}parseSegment(){const k=$(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new ee.wOt(4009,!1);return this.capture(k),new zi(At(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const M=function Je(S){const k=S.match(te);return k?k[0]:""}(this.remaining);if(!M)return;this.capture(M);let O="";if(this.consumeOptional("=")){const Q=$(this.remaining);Q&&(O=Q,this.capture(O))}k[At(M)]=At(O)}parseQueryParam(k){const M=function Cn(S){const k=S.match(gn);return k?k[0]:""}(this.remaining);if(!M)return;this.capture(M);let O="";if(this.consumeOptional("=")){const me=function zt(S){const k=S.match(cr);return k?k[0]:""}(this.remaining);me&&(O=me,this.capture(O))}const Q=$t(M),Te=$t(O);if(k.hasOwnProperty(Q)){let me=k[Q];Array.isArray(me)||(me=[me],k[Q]=me),me.push(Te)}else k[Q]=Te}parseParens(k){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=$(this.remaining),Q=this.remaining[O.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new ee.wOt(4010,!1);let Te;O.indexOf(":")>-1?(Te=O.slice(0,O.indexOf(":")),this.capture(Te),this.capture(":")):k&&(Te=On);const me=this.parseChildren();M[Te]=1===Object.keys(me).length?me[On]:new Vr([],me),this.consumeOptional("//")}return M}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new ee.wOt(4011,!1)}}function Gi(S){return S.segments.length>0?new Vr([],{[On]:S}):S}function Pe(S){const k={};for(const[O,Q]of Object.entries(S.children)){const Te=Pe(Q);if(O===On&&0===Te.segments.length&&Te.hasChildren())for(const[me,dt]of Object.entries(Te.children))k[me]=dt;else(Te.segments.length>0||Te.hasChildren())&&(k[O]=Te)}return function Qe(S){if(1===S.numberOfChildren&&S.children[On]){const k=S.children[On];return new Vr(S.segments.concat(k.segments),k.children)}return S}(new Vr(S.segments,k))}function Pt(S){return S instanceof Br}function In(S){let k;const Q=Gi(function M(Te){const me={};for(const Xt of Te.children){const Wn=M(Xt);me[Xt.outlet]=Wn}const dt=new Vr(Te.url,me);return Te===S&&(k=dt),dt}(S.root));return k??Q}function En(S,k,M,O){let Q=S;for(;Q.parent;)Q=Q.parent;if(0===k.length)return Tn(Q,Q,Q,M,O);const Te=function ls(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new mi(!0,0,S);let k=0,M=!1;const O=S.reduce((Q,Te,me)=>{if("object"==typeof Te&&null!=Te){if(Te.outlets){const dt={};return Object.entries(Te.outlets).forEach(([Xt,Wn])=>{dt[Xt]="string"==typeof Wn?Wn.split("/"):Wn}),[...Q,{outlets:dt}]}if(Te.segmentPath)return[...Q,Te.segmentPath]}return"string"!=typeof Te?[...Q,Te]:0===me?(Te.split("/").forEach((dt,Xt)=>{0==Xt&&"."===dt||(0==Xt&&""===dt?M=!0:".."===dt?k++:""!=dt&&Q.push(dt))}),Q):[...Q,Te]},[]);return new mi(M,k,O)}(k);if(Te.toRoot())return Tn(Q,Q,new Vr([],{}),M,O);const me=function Qs(S,k,M){if(S.isAbsolute)return new ks(k,!0,0);if(!M)return new ks(k,!1,NaN);if(null===M.parent)return new ks(M,!0,0);const O=Gr(S.commands[0])?0:1;return function ms(S,k,M){let O=S,Q=k,Te=M;for(;Te>Q;){if(Te-=Q,O=O.parent,!O)throw new ee.wOt(4005,!1);Q=O.segments.length}return new ks(O,!1,Q-Te)}(M,M.segments.length-1+O,S.numberOfDoubleDots)}(Te,Q,S),dt=me.processChildren?Ee(me.segmentGroup,me.index,Te.commands):K(me.segmentGroup,me.index,Te.commands);return Tn(Q,me.segmentGroup,dt,M,O)}function Gr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Sr(S){return"object"==typeof S&&null!=S&&S.outlets}function Tn(S,k,M,O,Q){let me,Te={};O&&Object.entries(O).forEach(([Xt,Wn])=>{Te[Xt]=Array.isArray(Wn)?Wn.map(Tr=>`${Tr}`):`${Wn}`}),me=S===k?M:ji(S,k,M);const dt=Gi(Pe(me));return new Br(dt,Te,Q)}function ji(S,k,M){const O={};return Object.entries(S.children).forEach(([Q,Te])=>{O[Q]=Te===k?M:ji(Te,k,M)}),new Vr(S.segments,O)}class mi{isAbsolute;numberOfDoubleDots;commands;constructor(k,M,O){if(this.isAbsolute=k,this.numberOfDoubleDots=M,this.commands=O,k&&O.length>0&&Gr(O[0]))throw new ee.wOt(4003,!1);const Q=O.find(Sr);if(Q&&Q!==Bi(O))throw new ee.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ks{segmentGroup;processChildren;index;constructor(k,M,O){this.segmentGroup=k,this.processChildren=M,this.index=O}}function K(S,k,M){if(S??=new Vr([],{}),0===S.segments.length&&S.hasChildren())return Ee(S,k,M);const O=function ie(S,k,M){let O=0,Q=k;const Te={match:!1,pathIndex:0,commandIndex:0};for(;Q<S.segments.length;){if(O>=M.length)return Te;const me=S.segments[Q],dt=M[O];if(Sr(dt))break;const Xt=`${dt}`,Wn=O<M.length-1?M[O+1]:null;if(Q>0&&void 0===Xt)break;if(Xt&&Wn&&"object"==typeof Wn&&void 0===Wn.outlets){if(!Bt(Xt,Wn,me))return Te;O+=2}else{if(!Bt(Xt,{},me))return Te;O++}Q++}return{match:!0,pathIndex:Q,commandIndex:O}}(S,k,M),Q=M.slice(O.commandIndex);if(O.match&&O.pathIndex<S.segments.length){const Te=new Vr(S.segments.slice(0,O.pathIndex),{});return Te.children[On]=new Vr(S.segments.slice(O.pathIndex),S.children),Ee(Te,0,Q)}return O.match&&0===Q.length?new Vr(S.segments,{}):O.match&&!S.hasChildren()?ge(S,k,M):O.match?Ee(S,0,Q):ge(S,k,M)}function Ee(S,k,M){if(0===M.length)return new Vr(S.segments,{});{const O=function jr(S){return Sr(S[0])?S[0].outlets:{[On]:S}}(M),Q={};if(Object.keys(O).some(Te=>Te!==On)&&S.children[On]&&1===S.numberOfChildren&&0===S.children[On].segments.length){const Te=Ee(S.children[On],k,M);return new Vr(S.segments,Te.children)}return Object.entries(O).forEach(([Te,me])=>{"string"==typeof me&&(me=[me]),null!==me&&(Q[Te]=K(S.children[Te],k,me))}),Object.entries(S.children).forEach(([Te,me])=>{void 0===O[Te]&&(Q[Te]=me)}),new Vr(S.segments,Q)}}function ge(S,k,M){const O=S.segments.slice(0,k);let Q=0;for(;Q<M.length;){const Te=M[Q];if(Sr(Te)){const Xt=ke(Te.outlets);return new Vr(O,Xt)}if(0===Q&&Gr(M[0])){O.push(new zi(S.segments[k].path,bt(M[0]))),Q++;continue}const me=Sr(Te)?Te.outlets[On]:`${Te}`,dt=Q<M.length-1?M[Q+1]:null;me&&dt&&Gr(dt)?(O.push(new zi(me,bt(dt))),Q+=2):(O.push(new zi(me,{})),Q++)}return new Vr(O,{})}function ke(S){const k={};return Object.entries(S).forEach(([M,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(k[M]=ge(new Vr([],{}),0,O))}),k}function bt(S){const k={};return Object.entries(S).forEach(([M,O])=>k[M]=`${O}`),k}function Bt(S,k,M){return S==M.path&&Pi(k,M.parameters)}const hr="imperative";var _r=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(_r||{});class oi{id;url;constructor(k,M){this.id=k,this.url=M}}class li extends oi{type=_r.NavigationStart;navigationTrigger;restoredState;constructor(k,M,O="imperative",Q=null){super(k,M),this.navigationTrigger=O,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zr extends oi{urlAfterRedirects;type=_r.NavigationEnd;constructor(k,M,O){super(k,M),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Jn=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(Jn||{}),vi=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(vi||{});class wi extends oi{reason;code;type=_r.NavigationCancel;constructor(k,M,O,Q){super(k,M),this.reason=O,this.code=Q}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mi extends oi{reason;code;type=_r.NavigationSkipped;constructor(k,M,O,Q){super(k,M),this.reason=O,this.code=Q}}class Os extends oi{error;target;type=_r.NavigationError;constructor(k,M,O,Q){super(k,M),this.error=O,this.target=Q}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ds extends oi{urlAfterRedirects;state;type=_r.RoutesRecognized;constructor(k,M,O,Q){super(k,M),this.urlAfterRedirects=O,this.state=Q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class we extends oi{urlAfterRedirects;state;type=_r.GuardsCheckStart;constructor(k,M,O,Q){super(k,M),this.urlAfterRedirects=O,this.state=Q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends oi{urlAfterRedirects;state;shouldActivate;type=_r.GuardsCheckEnd;constructor(k,M,O,Q,Te){super(k,M),this.urlAfterRedirects=O,this.state=Q,this.shouldActivate=Te}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ke extends oi{urlAfterRedirects;state;type=_r.ResolveStart;constructor(k,M,O,Q){super(k,M),this.urlAfterRedirects=O,this.state=Q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends oi{urlAfterRedirects;state;type=_r.ResolveEnd;constructor(k,M,O,Q){super(k,M),this.urlAfterRedirects=O,this.state=Q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn{route;type=_r.RouteConfigLoadStart;constructor(k){this.route=k}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xe{route;type=_r.RouteConfigLoadEnd;constructor(k){this.route=k}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ir{snapshot;type=_r.ChildActivationStart;constructor(k){this.snapshot=k}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{snapshot;type=_r.ChildActivationEnd;constructor(k){this.snapshot=k}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{snapshot;type=_r.ActivationStart;constructor(k){this.snapshot=k}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fa{snapshot;type=_r.ActivationEnd;constructor(k){this.snapshot=k}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{routerEvent;position;anchor;type=_r.Scroll;constructor(k,M,O){this.routerEvent=k,this.position=M,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fo{}class qn{url;navigationBehaviorOptions;constructor(k,M){this.url=k,this.navigationBehaviorOptions=M}}function To(S){switch(S.type){case _r.ActivationEnd:return`ActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case _r.ActivationStart:return`ActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case _r.ChildActivationEnd:return`ChildActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case _r.ChildActivationStart:return`ChildActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case _r.GuardsCheckEnd:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case _r.GuardsCheckStart:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case _r.NavigationCancel:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case _r.NavigationSkipped:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case _r.NavigationEnd:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case _r.NavigationError:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case _r.NavigationStart:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case _r.ResolveEnd:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case _r.ResolveStart:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case _r.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${S.route.path})`;case _r.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${S.route.path})`;case _r.RoutesRecognized:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case _r.Scroll:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}function Vs(S){return S.outlet||On}function Is(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let k=S.parent;k;k=k.parent){const M=k.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class yo{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Is(this.route?.snapshot)??this.rootInjector}constructor(k){this.rootInjector=k,this.children=new Ai(this.rootInjector)}}let Ai=(()=>{class S{rootInjector;contexts=new Map;constructor(M){this.rootInjector=M}onChildOutletCreated(M,O){const Q=this.getOrCreateContext(M);Q.outlet=O,this.contexts.set(M,Q)}onChildOutletDestroyed(M){const O=this.getContext(M);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let O=this.getContext(M);return O||(O=new yo(this.rootInjector),this.contexts.set(M,O)),O}getContext(M){return this.contexts.get(M)||null}static \u0275fac=function(O){return new(O||S)(ee.KVO(ee.uvJ))};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class to{_root;constructor(k){this._root=k}get root(){return this._root.value}parent(k){const M=this.pathFromRoot(k);return M.length>1?M[M.length-2]:null}children(k){const M=no(k,this._root);return M?M.children.map(O=>O.value):[]}firstChild(k){const M=no(k,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(k){const M=xi(k,this._root);return M.length<2?[]:M[M.length-2].children.map(Q=>Q.value).filter(Q=>Q!==k)}pathFromRoot(k){return xi(k,this._root).map(M=>M.value)}}function no(S,k){if(S===k.value)return k;for(const M of k.children){const O=no(S,M);if(O)return O}return null}function xi(S,k){if(S===k.value)return[k];for(const M of k.children){const O=xi(S,M);if(O.length)return O.unshift(k),O}return[]}class hs{value;children;constructor(k,M){this.value=k,this.children=M}toString(){return`TreeNode(${this.value})`}}function Uo(S){const k={};return S&&S.children.forEach(M=>k[M.value.outlet]=M),k}class us extends to{snapshot;constructor(k,M){super(k),this.snapshot=M,wo(this,k)}toString(){return this.snapshot.toString()}}function po(S){const k=function Zo(S){const Te=new ea([],{},{},"",{},On,S,null,{});return new Ns("",new hs(Te,[]))}(S),M=new rt.t([new zi("",{})]),O=new rt.t({}),Q=new rt.t({}),Te=new rt.t({}),me=new rt.t(""),dt=new Us(M,O,Te,me,Q,On,S,k.root);return dt.snapshot=k.root,new us(new hs(dt,[]),k)}class Us{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(k,M,O,Q,Te,me,dt,Xt){this.urlSubject=k,this.paramsSubject=M,this.queryParamsSubject=O,this.fragmentSubject=Q,this.dataSubject=Te,this.outlet=me,this.component=dt,this._futureSnapshot=Xt,this.title=this.dataSubject?.pipe((0,St.T)(Wn=>Wn[An]))??(0,De.of)(void 0),this.url=k,this.params=M,this.queryParams=O,this.fragment=Q,this.data=Te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,St.T)(k=>ns(k))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,St.T)(k=>ns(k))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(S,k,M="emptyOnly"){let O;const{routeConfig:Q}=S;return O=null===k||"always"!==M&&""!==Q?.path&&(k.component||k.routeConfig?.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...S._resolvedData??{}}}:{params:{...k.params,...S.params},data:{...k.data,...S.data},resolve:{...S.data,...k.data,...Q?.data,...S._resolvedData}},Q&&ua(Q)&&(O.resolve[An]=Q.title),O}class ea{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[An]}constructor(k,M,O,Q,Te,me,dt,Xt,Wn){this.url=k,this.params=M,this.queryParams=O,this.fragment=Q,this.data=Te,this.outlet=me,this.component=dt,this.routeConfig=Xt,this._resolve=Wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ns(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ns(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ns extends to{url;constructor(k,M){super(M),this.url=k,wo(this,M)}toString(){return As(this._root)}}function wo(S,k){k.value._routerState=S,k.children.forEach(M=>wo(S,M))}function As(S){const k=S.children.length>0?` { ${S.children.map(As).join(", ")} } `:"";return`${S.value}${k}`}function Di(S){if(S.snapshot){const k=S.snapshot,M=S._futureSnapshot;S.snapshot=M,Pi(k.queryParams,M.queryParams)||S.queryParamsSubject.next(M.queryParams),k.fragment!==M.fragment&&S.fragmentSubject.next(M.fragment),Pi(k.params,M.params)||S.paramsSubject.next(M.params),function cs(S,k){if(S.length!==k.length)return!1;for(let M=0;M<S.length;++M)if(!Pi(S[M],k[M]))return!1;return!0}(k.url,M.url)||S.urlSubject.next(M.url),Pi(k.data,M.data)||S.dataSubject.next(M.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Yi(S,k){const M=Pi(S.params,k.params)&&function he(S,k){return be(S,k)&&S.every((M,O)=>Pi(M.parameters,k[O].parameters))}(S.url,k.url);return M&&!(!S.parent!=!k.parent)&&(!S.parent||Yi(S.parent,k.parent))}function ua(S){return"string"==typeof S.title||null===S.title}const Aa=new ee.nKC("");let Wo=(()=>{class S{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=On;activateEvents=new ee.bkB;deactivateEvents=new ee.bkB;attachEvents=new ee.bkB;detachEvents=new ee.bkB;routerOutletData=(0,ee.hFB)(void 0);parentContexts=(0,ee.WQX)(Ai);location=(0,ee.WQX)(ee.c1b);changeDetector=(0,ee.WQX)(ee.gRc);inputBinder=(0,ee.WQX)(Ei,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(M){if(M.name){const{firstChange:O,previousValue:Q}=M.name;if(O)return;this.isTrackedInParentContexts(Q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee.wOt(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,O){this.activated=M,this._activatedRoute=O,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,O){if(this.isActivated)throw new ee.wOt(4013,!1);this._activatedRoute=M;const Q=this.location,me=M.snapshot.component,dt=this.parentContexts.getOrCreateContext(this.name).children,Xt=new Bs(M,dt,Q.injector,this.routerOutletData);this.activated=Q.createComponent(me,{index:Q.length,injector:Xt,environmentInjector:O}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(O){return new(O||S)};static \u0275dir=ee.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ee.OA$]})}return S})();class Bs{route;childContexts;parent;outletData;constructor(k,M,O,Q){this.route=k,this.childContexts=M,this.parent=O,this.outletData=Q}get(k,M){return k===Us?this.route:k===Ai?this.childContexts:k===Aa?this.outletData:this.parent.get(k,M)}}const Ei=new ee.nKC("");let bs=(()=>{class S{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:O}=M,Q=(0,ve.z)([O.queryParams,O.params,O.data]).pipe((0,pt.n)(([Te,me,dt],Xt)=>(dt={...Te,...me,...dt},0===Xt?(0,De.of)(dt):Promise.resolve(dt)))).subscribe(Te=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(M);const me=(0,ee.HJs)(O.component);if(me)for(const{templateName:dt}of me.inputs)M.activatedComponentRef.setInput(dt,Te[dt]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,Q)}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac})}return S})(),js=(()=>{class S{static \u0275fac=function(O){return new(O||S)};static \u0275cmp=ee.VBU({type:S,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(O,Q){1&O&&ee.nrm(0,"router-outlet")},dependencies:[Wo],encapsulation:2})}return S})();function ta(S){const k=S.children&&S.children.map(ta),M=k?{...S,children:k}:{...S};return!M.component&&!M.loadComponent&&(k||M.loadChildren)&&M.outlet&&M.outlet!==On&&(M.component=js),M}function na(S,k,M){if(M&&S.shouldReuseRoute(k.value,M.value.snapshot)){const O=M.value;O._futureSnapshot=k.value;const Q=function Wa(S,k,M){return k.children.map(O=>{for(const Q of M.children)if(S.shouldReuseRoute(O.value,Q.value.snapshot))return na(S,O,Q);return na(S,O)})}(S,k,M);return new hs(O,Q)}{if(S.shouldAttach(k.value)){const Te=S.retrieve(k.value);if(null!==Te){const me=Te.route;return me.value._futureSnapshot=k.value,me.children=k.children.map(dt=>na(S,dt)),me}}const O=function vo(S){return new Us(new rt.t(S.url),new rt.t(S.params),new rt.t(S.queryParams),new rt.t(S.fragment),new rt.t(S.data),S.outlet,S.component,S)}(k.value),Q=k.children.map(Te=>na(S,Te));return new hs(O,Q)}}class ro{redirectTo;navigationBehaviorOptions;constructor(k,M){this.redirectTo=k,this.navigationBehaviorOptions=M}}const Bo="ngNavigationCancelingError";function Cs(S,k){const{redirectTo:M,navigationBehaviorOptions:O}=Pt(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,Q=io(!1,Jn.Redirect);return Q.url=M,Q.navigationBehaviorOptions=O,Q}function io(S,k){const M=new Error(`NavigationCancelingError: ${S||""}`);return M[Bo]=!0,M.cancellationCode=k,M}function fs(S){return!!S&&S[Bo]}class U{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(k,M,O,Q,Te){this.routeReuseStrategy=k,this.futureState=M,this.currState=O,this.forwardEvent=Q,this.inputBindingEnabled=Te}activate(k){const M=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,O,k),Di(this.futureState.root),this.activateChildRoutes(M,O,k)}deactivateChildRoutes(k,M,O){const Q=Uo(M);k.children.forEach(Te=>{const me=Te.value.outlet;this.deactivateRoutes(Te,Q[me],O),delete Q[me]}),Object.values(Q).forEach(Te=>{this.deactivateRouteAndItsChildren(Te,O)})}deactivateRoutes(k,M,O){const Q=k.value,Te=M?M.value:null;if(Q===Te)if(Q.component){const me=O.getContext(Q.outlet);me&&this.deactivateChildRoutes(k,M,me.children)}else this.deactivateChildRoutes(k,M,O);else Te&&this.deactivateRouteAndItsChildren(M,O)}deactivateRouteAndItsChildren(k,M){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,M):this.deactivateRouteAndOutlet(k,M)}detachAndStoreRouteSubtree(k,M){const O=M.getContext(k.value.outlet),Q=O&&k.value.component?O.children:M,Te=Uo(k);for(const me of Object.values(Te))this.deactivateRouteAndItsChildren(me,Q);if(O&&O.outlet){const me=O.outlet.detach(),dt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:me,route:k,contexts:dt})}}deactivateRouteAndOutlet(k,M){const O=M.getContext(k.value.outlet),Q=O&&k.value.component?O.children:M,Te=Uo(k);for(const me of Object.values(Te))this.deactivateRouteAndItsChildren(me,Q);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(k,M,O){const Q=Uo(M);k.children.forEach(Te=>{this.activateRoutes(Te,Q[Te.value.outlet],O),this.forwardEvent(new Fa(Te.value.snapshot))}),k.children.length&&this.forwardEvent(new Ni(k.value.snapshot))}activateRoutes(k,M,O){const Q=k.value,Te=M?M.value:null;if(Di(Q),Q===Te)if(Q.component){const me=O.getOrCreateContext(Q.outlet);this.activateChildRoutes(k,M,me.children)}else this.activateChildRoutes(k,M,O);else if(Q.component){const me=O.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const dt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),me.children.onOutletReAttached(dt.contexts),me.attachRef=dt.componentRef,me.route=dt.route.value,me.outlet&&me.outlet.attach(dt.componentRef,dt.route.value),Di(dt.route.value),this.activateChildRoutes(k,null,me.children)}else me.attachRef=null,me.route=Q,me.outlet&&me.outlet.activateWith(Q,me.injector),this.activateChildRoutes(k,null,me.children)}else this.activateChildRoutes(k,null,O)}}class z{path;route;constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class N{component;route;constructor(k,M){this.component=k,this.route=M}}function ue(S,k,M){const O=S._root;return Fr(O,k?k._root:null,M,[O.value])}function rr(S,k){const M=Symbol(),O=k.get(S,M);return O===M?"function"!=typeof S||(0,ee.LfX)(S)?k.get(S):S:O}function Fr(S,k,M,O,Q={canDeactivateChecks:[],canActivateChecks:[]}){const Te=Uo(k);return S.children.forEach(me=>{(function qi(S,k,M,O,Q={canDeactivateChecks:[],canActivateChecks:[]}){const Te=S.value,me=k?k.value:null,dt=M?M.getContext(S.value.outlet):null;if(me&&Te.routeConfig===me.routeConfig){const Xt=function Ji(S,k,M){if("function"==typeof M)return M(S,k);switch(M){case"pathParamsChange":return!be(S.url,k.url);case"pathParamsOrQueryParamsChange":return!be(S.url,k.url)||!Pi(S.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yi(S,k)||!Pi(S.queryParams,k.queryParams);default:return!Yi(S,k)}}(me,Te,Te.routeConfig.runGuardsAndResolvers);Xt?Q.canActivateChecks.push(new z(O)):(Te.data=me.data,Te._resolvedData=me._resolvedData),Fr(S,k,Te.component?dt?dt.children:null:M,O,Q),Xt&&dt&&dt.outlet&&dt.outlet.isActivated&&Q.canDeactivateChecks.push(new N(dt.outlet.component,me))}else me&&Xs(k,dt,Q),Q.canActivateChecks.push(new z(O)),Fr(S,null,Te.component?dt?dt.children:null:M,O,Q)})(me,Te[me.value.outlet],M,O.concat([me.value]),Q),delete Te[me.value.outlet]}),Object.entries(Te).forEach(([me,dt])=>Xs(dt,M.getContext(me),Q)),Q}function Xs(S,k,M){const O=Uo(S),Q=S.value;Object.entries(O).forEach(([Te,me])=>{Xs(me,Q.component?k?k.children.getContext(Te):null:k,M)}),M.canDeactivateChecks.push(new N(Q.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,Q))}function E(S){return"function"==typeof S}function Be(S){return S instanceof Ie.G||"EmptyError"===S?.name}const et=Symbol("INITIAL_VALUE");function tt(){return(0,pt.n)(S=>(0,ve.z)(S.map(k=>k.pipe((0,kt.s)(1),(0,Rt.Z)(et)))).pipe((0,St.T)(k=>{for(const M of k)if(!0!==M){if(M===et)return et;if(!1===M||_t(M))return M}return!0}),(0,at.p)(k=>k!==et),(0,kt.s)(1)))}function _t(S){return Pt(S)||S instanceof ro}function tn(S){return(0,mt.F)(Pr(k=>{if("boolean"!=typeof k)throw Cs(0,k)}),(0,St.T)(k=>!0===k))}class zn{segmentGroup;constructor(k){this.segmentGroup=k||null}}class Gn extends Error{urlTree;constructor(k){super(),this.urlTree=k}}function Fn(S){return(0,Jt.$)(new zn(S))}class yn{urlSerializer;urlTree;constructor(k,M){this.urlSerializer=k,this.urlTree=M}lineralizeSegments(k,M){let O=[],Q=M.root;for(;;){if(O=O.concat(Q.segments),0===Q.numberOfChildren)return(0,De.of)(O);if(Q.numberOfChildren>1||!Q.children[On])return(0,Jt.$)(new ee.wOt(4e3,!1));Q=Q.children[On]}}applyRedirectCommands(k,M,O,Q,Te){if("string"!=typeof M){const dt=M,{queryParams:Xt,fragment:Wn,routeConfig:Tr,url:ui,outlet:Ws,params:ha,data:Ci,title:Va}=Q,di=(0,ee.N4e)(Te,()=>dt({params:ha,data:Ci,queryParams:Xt,fragment:Wn,routeConfig:Tr,url:ui,outlet:Ws,title:Va}));if(di instanceof Br)throw new Gn(di);M=di}const me=this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),k,O);if("/"===M[0])throw new Gn(me);return me}applyRedirectCreateUrlTree(k,M,O,Q){const Te=this.createSegmentGroup(k,M.root,O,Q);return new Br(Te,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(k,M){const O={};return Object.entries(k).forEach(([Q,Te])=>{if("string"==typeof Te&&":"===Te[0]){const dt=Te.substring(1);O[Q]=M[dt]}else O[Q]=Te}),O}createSegmentGroup(k,M,O,Q){const Te=this.createSegments(k,M.segments,O,Q);let me={};return Object.entries(M.children).forEach(([dt,Xt])=>{me[dt]=this.createSegmentGroup(k,Xt,O,Q)}),new Vr(Te,me)}createSegments(k,M,O,Q){return M.map(Te=>":"===Te.path[0]?this.findPosParam(k,Te,Q):this.findOrReturn(Te,O))}findPosParam(k,M,O){const Q=O[M.path.substring(1)];if(!Q)throw new ee.wOt(4001,!1);return Q}findOrReturn(k,M){let O=0;for(const Q of M){if(Q.path===k.path)return M.splice(O),Q;O++}return k}}const qt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ln(S,k,M,O,Q){const Te=Rr(S,k,M);return Te.matched?(O=function Ls(S,k){return S.providers&&!S._injector&&(S._injector=(0,ee.Ol2)(S.providers,k,`Route: ${S.path}`)),S._injector??k}(k,O),function xn(S,k,M,O){const Q=k.canMatch;if(!Q||0===Q.length)return(0,De.of)(!0);const Te=Q.map(me=>{const dt=rr(me,S);return kr(function Ce(S){return S&&E(S.canMatch)}(dt)?dt.canMatch(k,M):(0,ee.N4e)(S,()=>dt(k,M)))});return(0,De.of)(Te).pipe(tt(),tn())}(O,k,M).pipe((0,St.T)(me=>!0===me?Te:{...qt}))):(0,De.of)(Te)}function Rr(S,k,M){if("**"===k.path)return function Ri(S){return{matched:!0,parameters:S.length>0?Bi(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(M);if(""===k.path)return"full"===k.pathMatch&&(S.hasChildren()||M.length>0)?{...qt}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const Q=(k.matcher||ws)(M,S,k);if(!Q)return{...qt};const Te={};Object.entries(Q.posParams??{}).forEach(([dt,Xt])=>{Te[dt]=Xt.path});const me=Q.consumed.length>0?{...Te,...Q.consumed[Q.consumed.length-1].parameters}:Te;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:M.slice(Q.consumed.length),parameters:me,positionalParamSegments:Q.posParams??{}}}function Hn(S,k,M,O){return M.length>0&&function Lr(S,k,M){return M.some(O=>ps(S,k,O)&&Vs(O)!==On)}(S,M,O)?{segmentGroup:new Vr(k,_i(O,new Vr(M,S.children))),slicedSegments:[]}:0===M.length&&function ri(S,k,M){return M.some(O=>ps(S,k,O))}(S,M,O)?{segmentGroup:new Vr(S.segments,Fi(S,M,O,S.children)),slicedSegments:M}:{segmentGroup:new Vr(S.segments,S.children),slicedSegments:M}}function Fi(S,k,M,O){const Q={};for(const Te of M)if(ps(S,k,Te)&&!O[Vs(Te)]){const me=new Vr([],{});Q[Vs(Te)]=me}return{...O,...Q}}function _i(S,k){const M={};M[On]=k;for(const O of S)if(""===O.path&&Vs(O)!==On){const Q=new Vr([],{});M[Vs(O)]=Q}return M}function ps(S,k,M){return(!(S.hasChildren()||k.length>0)||"full"!==M.pathMatch)&&""===M.path}class Iu{}class gs{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(k,M,O,Q,Te,me,dt){this.injector=k,this.configLoader=M,this.rootComponentType=O,this.config=Q,this.urlTree=Te,this.paramsInheritanceStrategy=me,this.urlSerializer=dt,this.applyRedirects=new yn(this.urlSerializer,this.urlTree)}noMatchError(k){return new ee.wOt(4002,`'${k.segmentGroup}'`)}recognize(){const k=Hn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(k).pipe((0,St.T)(({children:M,rootSnapshot:O})=>{const Q=new hs(O,M),Te=new Ns("",Q),me=function fn(S,k,M=null,O=null){return En(In(S),k,M,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return me.queryParams=this.urlTree.queryParams,Te.url=this.urlSerializer.serialize(me),{state:Te,tree:me}}))}match(k){const M=new ea([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),On,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,k,On,M).pipe((0,St.T)(O=>({children:O,rootSnapshot:M})),(0,yi.W)(O=>{if(O instanceof Gn)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof zn?this.noMatchError(O):O}))}processSegmentGroup(k,M,O,Q,Te){return 0===O.segments.length&&O.hasChildren()?this.processChildren(k,M,O,Te):this.processSegment(k,M,O,O.segments,Q,!0,Te).pipe((0,St.T)(me=>me instanceof hs?[me]:[]))}processChildren(k,M,O,Q){const Te=[];for(const me of Object.keys(O.children))"primary"===me?Te.unshift(me):Te.push(me);return(0,Fe.H)(Te).pipe((0,Ur.H)(me=>{const dt=O.children[me],Xt=function Vi(S,k){const M=S.filter(O=>Vs(O)===k);return M.push(...S.filter(O=>Vs(O)!==k)),M}(M,me);return this.processSegmentGroup(k,Xt,dt,me,Q)}),function Le(S,k){return(0,dn.N)(function Ti(S,k,M,O,Q){return(Te,me)=>{let dt=M,Xt=k,Wn=0;Te.subscribe((0,Kt._)(me,Tr=>{const ui=Wn++;Xt=dt?S(Xt,Tr,ui):(dt=!0,Tr),O&&me.next(Xt)},Q&&(()=>{dt&&me.next(Xt),me.complete()})))}}(S,k,arguments.length>=2,!0))}((me,dt)=>(me.push(...dt),me)),Or(null),function He(S,k){const M=arguments.length>=2;return O=>O.pipe(S?(0,at.p)((Q,Te)=>S(Q,Te,O)):Wr.D,Ve(1),M?Or(k):Hr(()=>new Ie.G))}(),(0,kn.Z)(me=>{if(null===me)return Fn(O);const dt=Ao(me);return function Go(S){S.sort((k,M)=>k.value.outlet===On?-1:M.value.outlet===On?1:k.value.outlet.localeCompare(M.value.outlet))}(dt),(0,De.of)(dt)}))}processSegment(k,M,O,Q,Te,me,dt){return(0,Fe.H)(M).pipe((0,Ur.H)(Xt=>this.processSegmentAgainstRoute(Xt._injector??k,M,Xt,O,Q,Te,me,dt).pipe((0,yi.W)(Wn=>{if(Wn instanceof zn)return(0,De.of)(null);throw Wn}))),Nr(Xt=>!!Xt),(0,yi.W)(Xt=>{if(Be(Xt))return function Dr(S,k,M){return 0===k.length&&!S.children[M]}(O,Q,Te)?(0,De.of)(new Iu):Fn(O);throw Xt}))}processSegmentAgainstRoute(k,M,O,Q,Te,me,dt,Xt){return Vs(O)===me||me!==On&&ps(Q,Te,O)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(k,Q,O,Te,me,Xt):this.allowRedirects&&dt?this.expandSegmentAgainstRouteUsingRedirect(k,Q,M,O,Te,me,Xt):Fn(Q):Fn(Q)}expandSegmentAgainstRouteUsingRedirect(k,M,O,Q,Te,me,dt){const{matched:Xt,parameters:Wn,consumedSegments:Tr,positionalParamSegments:ui,remainingSegments:Ws}=Rr(M,Q,Te);if(!Xt)return Fn(M);"string"==typeof Q.redirectTo&&"/"===Q.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ha=new ea(Te,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ec(Q),Vs(Q),Q.component??Q._loadedComponent??null,Q,Ko(Q)),Ci=is(ha,dt,this.paramsInheritanceStrategy);ha.params=Object.freeze(Ci.params),ha.data=Object.freeze(Ci.data);const Va=this.applyRedirects.applyRedirectCommands(Tr,Q.redirectTo,ui,ha,k);return this.applyRedirects.lineralizeSegments(Q,Va).pipe((0,kn.Z)(di=>this.processSegment(k,O,M,di.concat(Ws),me,!1,dt)))}matchSegmentAgainstRoute(k,M,O,Q,Te,me){const dt=Ln(M,O,Q,k);return"**"===O.path&&(M.children={}),dt.pipe((0,pt.n)(Xt=>Xt.matched?this.getChildConfig(k=O._injector??k,O,Q).pipe((0,pt.n)(({routes:Wn})=>{const Tr=O._loadedInjector??k,{parameters:ui,consumedSegments:Ws,remainingSegments:ha}=Xt,Ci=new ea(Ws,ui,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ec(O),Vs(O),O.component??O._loadedComponent??null,O,Ko(O)),Va=is(Ci,me,this.paramsInheritanceStrategy);Ci.params=Object.freeze(Va.params),Ci.data=Object.freeze(Va.data);const{segmentGroup:di,slicedSegments:Au}=Hn(M,Ws,ha,Wn);if(0===Au.length&&di.hasChildren())return this.processChildren(Tr,Wn,di,Ci).pipe((0,St.T)(Si=>new hs(Ci,Si)));if(0===Wn.length&&0===Au.length)return(0,De.of)(new hs(Ci,[]));const fa=Vs(O)===Te;return this.processSegment(Tr,Wn,di,Au,fa?On:Te,!0,Ci).pipe((0,St.T)(Si=>new hs(Ci,Si instanceof hs?[Si]:[])))})):Fn(M)))}getChildConfig(k,M,O){return M.children?(0,De.of)({routes:M.children,injector:k}):M.loadChildren?void 0!==M._loadedRoutes?(0,De.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function pn(S,k,M,O){const Q=k.canLoad;if(void 0===Q||0===Q.length)return(0,De.of)(!0);const Te=Q.map(me=>{const dt=rr(me,S);return kr(function F(S){return S&&E(S.canLoad)}(dt)?dt.canLoad(k,M):(0,ee.N4e)(S,()=>dt(k,M)))});return(0,De.of)(Te).pipe(tt(),tn())}(k,M,O).pipe((0,kn.Z)(Q=>Q?this.configLoader.loadChildren(k,M).pipe(Pr(Te=>{M._loadedRoutes=Te.routes,M._loadedInjector=Te.injector})):function ir(){return(0,Jt.$)(io(!1,Jn.GuardRejected))}())):(0,De.of)({routes:[],injector:k})}}function Xi(S){const k=S.value.routeConfig;return k&&""===k.path}function Ao(S){const k=[],M=new Set;for(const O of S){if(!Xi(O)){k.push(O);continue}const Q=k.find(Te=>O.value.routeConfig===Te.value.routeConfig);void 0!==Q?(Q.children.push(...O.children),M.add(Q)):k.push(O)}for(const O of M){const Q=Ao(O.children);k.push(new hs(O.value,Q))}return k.filter(O=>!M.has(O))}function Ec(S){return S.data||{}}function Ko(S){return S.resolve||{}}function xs(S){const k=S.children.map(M=>xs(M)).flat();return[S,...k]}function _s(S){return(0,pt.n)(k=>{const M=S(k);return M?(0,Fe.H)(M).pipe((0,St.T)(()=>k)):(0,De.of)(k)})}let Da=(()=>{class S{buildTitle(M){let O,Q=M.root;for(;void 0!==Q;)O=this.getResolvedTitleForRoute(Q)??O,Q=Q.children.find(Te=>Te.outlet===On);return O}getResolvedTitleForRoute(M){return M.data[An]}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:()=>(0,ee.WQX)(Ku),providedIn:"root"})}return S})(),Ku=(()=>{class S extends Da{title;constructor(M){super(),this.title=M}updateTitle(M){const O=this.buildTitle(M);void 0!==O&&this.title.setTitle(O)}static \u0275fac=function(O){return new(O||S)(ee.KVO(sn))};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Eo=new ee.nKC("",{providedIn:"root",factory:()=>({})}),Zi=new ee.nKC("");let os=(()=>{class S{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,ee.WQX)(ee.Ql9);loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,De.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const O=kr(M.loadComponent()).pipe((0,St.T)(Hs),Pr(Te=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=Te}),(0,Ge.j)(()=>{this.componentLoaders.delete(M)})),Q=new Wt(O,()=>new We.B).pipe(Ut());return this.componentLoaders.set(M,Q),Q}loadChildren(M,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,De.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const Te=function Ds(S,k,M,O){return kr(S.loadChildren()).pipe((0,St.T)(Hs),(0,kn.Z)(Q=>Q instanceof ee.Co$||Array.isArray(Q)?(0,De.of)(Q):(0,Fe.H)(k.compileModuleAsync(Q))),(0,St.T)(Q=>{O&&O(S);let Te,me,dt=!1;return Array.isArray(Q)?(me=Q,!0):(Te=Q.create(M).injector,me=Te.get(Zi,[],{optional:!0,self:!0}).flat()),{routes:me.map(ta),injector:Te}}))}(O,this.compiler,M,this.onLoadEndListener).pipe((0,Ge.j)(()=>{this.childrenLoaders.delete(O)})),me=new Wt(Te,()=>new We.B).pipe(Ut());return this.childrenLoaders.set(O,me),me}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Hs(S){return function Sa(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let La=(()=>{class S{static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:()=>(0,ee.WQX)(so),providedIn:"root"})}return S})(),so=(()=>{class S{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,O){return M}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const ca=new ee.nKC(""),il=new ee.nKC("");function bu(S,k,M){const O=S.get(il),Q=S.get(w.q);return S.get(ee.SKi).runOutsideAngular(()=>{if(!Q.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,new Promise(Wn=>setTimeout(Wn));let Te;const me=new Promise(Wn=>{Te=Wn}),dt=Q.startViewTransition(()=>(Te(),function la(S){return new Promise(k=>{(0,ee.mal)({read:()=>setTimeout(k)},{injector:S})})}(S))),{onViewTransitionCreated:Xt}=O;return Xt&&(0,ee.N4e)(S,()=>Xt({transition:dt,from:k,to:M})),me})}const da=new ee.nKC("");let za=(()=>{class S{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new We.B;transitionAbortSubject=new We.B;configLoader=(0,ee.WQX)(os);environmentInjector=(0,ee.WQX)(ee.uvJ);destroyRef=(0,ee.WQX)(ee.abz);urlSerializer=(0,ee.WQX)(Zt);rootContexts=(0,ee.WQX)(Ai);location=(0,ee.WQX)(ne.aZ);inputBindingEnabled=null!==(0,ee.WQX)(Ei,{optional:!0});titleStrategy=(0,ee.WQX)(Da);options=(0,ee.WQX)(Eo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,ee.WQX)(La);createViewTransition=(0,ee.WQX)(ca,{optional:!0});navigationErrorHandler=(0,ee.WQX)(da,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,De.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=Q=>this.events.next(new xe(Q)),this.configLoader.onLoadStartListener=Q=>this.events.next(new Dn(Q)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(M){const O=++this.navigationId;this.transitions?.next({...M,extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:O})}setupNavigations(M){return this.transitions=new rt.t(null),this.transitions.pipe((0,at.p)(O=>null!==O),(0,pt.n)(O=>{let Q=!1,Te=!1;return(0,De.of)(O).pipe((0,pt.n)(me=>{if(this.navigationId>O.id)return this.cancelNavigationTransition(O,"",Jn.SupersededByNewNavigation),Ht.w;this.currentTransition=O,this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,targetBrowserUrl:"string"==typeof me.extras.browserUrl?this.urlSerializer.parse(me.extras.browserUrl):me.extras.browserUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const dt=!M.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!dt&&"reload"!==(me.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const Wn="";return this.events.next(new Mi(me.id,this.urlSerializer.serialize(me.rawUrl),Wn,vi.IgnoredSameUrlNavigation)),me.resolve(!1),Ht.w}if(this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return(0,De.of)(me).pipe((0,pt.n)(Wn=>(this.events.next(new li(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),Wn.source,Wn.restoredState)),Wn.id!==this.navigationId?Ht.w:Promise.resolve(Wn))),function Ic(S,k,M,O,Q,Te){return(0,kn.Z)(me=>function Tu(S,k,M,O,Q,Te,me="emptyOnly"){return new gs(S,k,M,O,Q,me,Te).recognize()}(S,k,M,O,me.extractedUrl,Q,Te).pipe((0,St.T)(({state:dt,tree:Xt})=>({...me,targetSnapshot:dt,urlAfterRedirects:Xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,this.paramsInheritanceStrategy),Pr(Wn=>{O.targetSnapshot=Wn.targetSnapshot,O.urlAfterRedirects=Wn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects};const Tr=new ds(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(Tr)}));if(dt&&this.urlHandlingStrategy.shouldProcessUrl(me.currentRawUrl)){const{id:Wn,extractedUrl:Tr,source:ui,restoredState:Ws,extras:ha}=me,Ci=new li(Wn,this.urlSerializer.serialize(Tr),ui,Ws);this.events.next(Ci);const Va=po(this.rootComponentType).snapshot;return this.currentTransition=O={...me,targetSnapshot:Va,urlAfterRedirects:Tr,extras:{...ha,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Tr,(0,De.of)(O)}{const Wn="";return this.events.next(new Mi(me.id,this.urlSerializer.serialize(me.extractedUrl),Wn,vi.IgnoredByUrlHandlingStrategy)),me.resolve(!1),Ht.w}}),Pr(me=>{const dt=new we(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot);this.events.next(dt)}),(0,St.T)(me=>(this.currentTransition=O={...me,guards:ue(me.targetSnapshot,me.currentSnapshot,this.rootContexts)},O)),function je(S,k){return(0,kn.Z)(M=>{const{targetSnapshot:O,currentSnapshot:Q,guards:{canActivateChecks:Te,canDeactivateChecks:me}}=M;return 0===me.length&&0===Te.length?(0,De.of)({...M,guardsResult:!0}):function Et(S,k,M,O){return(0,Fe.H)(S).pipe((0,kn.Z)(Q=>function Gt(S,k,M,O,Q){const Te=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!Te||0===Te.length)return(0,De.of)(!0);const me=Te.map(dt=>{const Xt=Is(k)??Q,Wn=rr(dt,Xt);return kr(function oe(S){return S&&E(S.canDeactivate)}(Wn)?Wn.canDeactivate(S,k,M,O):(0,ee.N4e)(Xt,()=>Wn(S,k,M,O))).pipe(Nr())});return(0,De.of)(me).pipe(tt())}(Q.component,Q.route,M,k,O)),Nr(Q=>!0!==Q,!0))}(me,O,Q,S).pipe((0,kn.Z)(dt=>dt&&function C(S){return"boolean"==typeof S}(dt)?function st(S,k,M,O){return(0,Fe.H)(k).pipe((0,Ur.H)(Q=>(0,lt.x)(function ut(S,k){return null!==S&&k&&k(new Ir(S)),(0,De.of)(!0)}(Q.route.parent,O),function yt(S,k){return null!==S&&k&&k(new Ki(S)),(0,De.of)(!0)}(Q.route,O),function xt(S,k,M){const O=k[k.length-1],Te=k.slice(0,k.length-1).reverse().map(me=>function Ue(S){const k=S.routeConfig?S.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:S,guards:k}:null}(me)).filter(me=>null!==me).map(me=>(0,ht.v)(()=>{const dt=me.guards.map(Xt=>{const Wn=Is(me.node)??M,Tr=rr(Xt,Wn);return kr(function q(S){return S&&E(S.canActivateChild)}(Tr)?Tr.canActivateChild(O,S):(0,ee.N4e)(Wn,()=>Tr(O,S))).pipe(Nr())});return(0,De.of)(dt).pipe(tt())}));return(0,De.of)(Te).pipe(tt())}(S,Q.path,M),function wt(S,k,M){const O=k.routeConfig?k.routeConfig.canActivate:null;if(!O||0===O.length)return(0,De.of)(!0);const Q=O.map(Te=>(0,ht.v)(()=>{const me=Is(k)??M,dt=rr(Te,me);return kr(function W(S){return S&&E(S.canActivate)}(dt)?dt.canActivate(k,S):(0,ee.N4e)(me,()=>dt(k,S))).pipe(Nr())}));return(0,De.of)(Q).pipe(tt())}(S,Q.route,M))),Nr(Q=>!0!==Q,!0))}(O,Te,S,k):(0,De.of)(dt)),(0,St.T)(dt=>({...M,guardsResult:dt})))})}(this.environmentInjector,me=>this.events.next(me)),Pr(me=>{if(O.guardsResult=me.guardsResult,me.guardsResult&&"boolean"!=typeof me.guardsResult)throw Cs(0,me.guardsResult);const dt=new Ct(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.events.next(dt)}),(0,at.p)(me=>!!me.guardsResult||(this.cancelNavigationTransition(me,"",Jn.GuardRejected),!1)),_s(me=>{if(0!==me.guards.canActivateChecks.length)return(0,De.of)(me).pipe(Pr(dt=>{const Xt=new Ke(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Xt)}),(0,pt.n)(dt=>{let Xt=!1;return(0,De.of)(dt).pipe(function Co(S,k){return(0,kn.Z)(M=>{const{targetSnapshot:O,guards:{canActivateChecks:Q}}=M;if(!Q.length)return(0,De.of)(M);const Te=new Set(Q.map(Xt=>Xt.route)),me=new Set;for(const Xt of Te)if(!me.has(Xt))for(const Wn of xs(Xt))me.add(Wn);let dt=0;return(0,Fe.H)(me).pipe((0,Ur.H)(Xt=>Te.has(Xt)?function Do(S,k,M,O){const Q=S.routeConfig,Te=S._resolve;return void 0!==Q?.title&&!ua(Q)&&(Te[An]=Q.title),function fr(S,k,M,O){const Q=bi(S);if(0===Q.length)return(0,De.of)({});const Te={};return(0,Fe.H)(Q).pipe((0,kn.Z)(me=>function su(S,k,M,O){const Q=Is(k)??O,Te=rr(S,Q);return kr(Te.resolve?Te.resolve(k,M):(0,ee.N4e)(Q,()=>Te(k,M)))}(S[me],k,M,O).pipe(Nr(),Pr(dt=>{if(dt instanceof ro)throw Cs(new Oe,dt);Te[me]=dt}))),Ve(1),(0,St.T)(()=>Te),(0,yi.W)(me=>Be(me)?Ht.w:(0,Jt.$)(me)))}(Te,S,k,O).pipe((0,St.T)(me=>(S._resolvedData=me,S.data=is(S,S.parent,M).resolve,null)))}(Xt,O,S,k):(Xt.data=is(Xt,Xt.parent,S).resolve,(0,De.of)(void 0))),Pr(()=>dt++),Ve(1),(0,kn.Z)(Xt=>dt===me.size?(0,De.of)(M):Ht.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),Pr({next:()=>Xt=!0,complete:()=>{Xt||this.cancelNavigationTransition(dt,"",Jn.NoDataFromResolver)}}))}),Pr(dt=>{const Xt=new Mt(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Xt)}))}),_s(me=>{const dt=Xt=>{const Wn=[];Xt.routeConfig?.loadComponent&&!Xt.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent(Xt.routeConfig).pipe(Pr(Tr=>{Xt.component=Tr}),(0,St.T)(()=>{})));for(const Tr of Xt.children)Wn.push(...dt(Tr));return Wn};return(0,ve.z)(dt(me.targetSnapshot.root)).pipe(Or(null),(0,kt.s)(1))}),_s(()=>this.afterPreactivation()),(0,pt.n)(()=>{const{currentSnapshot:me,targetSnapshot:dt}=O,Xt=this.createViewTransition?.(this.environmentInjector,me.root,dt.root);return Xt?(0,Fe.H)(Xt).pipe((0,St.T)(()=>O)):(0,De.of)(O)}),(0,St.T)(me=>{const dt=function zo(S,k,M){const O=na(S,k._root,M?M._root:void 0);return new us(O,k)}(M.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return this.currentTransition=O={...me,targetRouterState:dt},this.currentNavigation.targetRouterState=dt,O}),Pr(()=>{this.events.next(new fo)}),((S,k,M,O)=>(0,St.T)(Q=>(new U(k,Q.targetRouterState,Q.currentRouterState,M,O).activate(S),Q)))(this.rootContexts,M.routeReuseStrategy,me=>this.events.next(me),this.inputBindingEnabled),(0,kt.s)(1),Pr({next:me=>{Q=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zr(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects))),this.titleStrategy?.updateTitle(me.targetRouterState.snapshot),me.resolve(!0)},complete:()=>{Q=!0}}),(0,qe.Q)(this.transitionAbortSubject.pipe(Pr(me=>{throw me}))),(0,Ge.j)(()=>{!Q&&!Te&&this.cancelNavigationTransition(O,"",Jn.SupersededByNewNavigation),this.currentTransition?.id===O.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,yi.W)(me=>{if(this.destroyed)return O.resolve(!1),Ht.w;if(Te=!0,fs(me))this.events.next(new wi(O.id,this.urlSerializer.serialize(O.extractedUrl),me.message,me.cancellationCode)),function Ca(S){return fs(S)&&Pt(S.url)}(me)?this.events.next(new qn(me.url,me.navigationBehaviorOptions)):O.resolve(!1);else{const dt=new Os(O.id,this.urlSerializer.serialize(O.extractedUrl),me,O.targetSnapshot??void 0);try{const Xt=(0,ee.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(dt));if(!(Xt instanceof ro))throw this.events.next(dt),me;{const{message:Wn,cancellationCode:Tr}=Cs(0,Xt);this.events.next(new wi(O.id,this.urlSerializer.serialize(O.extractedUrl),Wn,Tr)),this.events.next(new qn(Xt.redirectTo,Xt.navigationBehaviorOptions))}}catch(Xt){this.options.resolveNavigationPromiseOnError?O.resolve(!1):O.reject(Xt)}}return Ht.w}))}))}cancelNavigationTransition(M,O,Q){const Te=new wi(M.id,this.urlSerializer.serialize(M.extractedUrl),O,Q);this.events.next(Te),M.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const M=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),O=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return M.toString()!==O?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Tc(S){return S!==hr}let qu=(()=>{class S{static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:()=>(0,ee.WQX)(Uf),providedIn:"root"})}return S})();class Nh{shouldDetach(k){return!1}store(k,M){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,M){return k.routeConfig===M.routeConfig}}let Uf=(()=>{class S extends Nh{static \u0275fac=(()=>{let M;return function(Q){return(M||(M=ee.xGo(S)))(Q||S)}})();static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Qu=(()=>{class S{urlSerializer=(0,ee.WQX)(Zt);options=(0,ee.WQX)(Eo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,ee.WQX)(ne.aZ);urlHandlingStrategy=(0,ee.WQX)(La);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:M,initialUrl:O,targetBrowserUrl:Q}){const Te=void 0!==M?this.urlHandlingStrategy.merge(M,O):O,me=Q??Te;return me instanceof Br?this.urlSerializer.serialize(me):me}commitTransition({targetRouterState:M,finalUrl:O,initialUrl:Q}){O&&M?(this.currentUrlTree=O,this.rawUrlTree=this.urlHandlingStrategy.merge(O,Q),this.routerState=M):this.rawUrlTree=Q}routerState=po(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:M}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M??this.rawUrlTree)}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:()=>(0,ee.WQX)(kl),providedIn:"root"})}return S})(),kl=(()=>{class S extends Qu{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(M){return this.location.subscribe(O=>{"popstate"===O.type&&setTimeout(()=>{M(O.url,O.state,"popstate")})})}handleRouterEvent(M,O){M instanceof li?this.updateStateMemento():M instanceof Mi?this.commitTransition(O):M instanceof ds?"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(O),O)):M instanceof fo?(this.commitTransition(O),"deferred"===this.urlUpdateStrategy&&!O.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(O),O)):M instanceof wi&&(M.code===Jn.GuardRejected||M.code===Jn.NoDataFromResolver)?this.restoreHistory(O):M instanceof Os?this.restoreHistory(O,!0):M instanceof zr&&(this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId)}setBrowserUrl(M,{extras:O,id:Q}){const{replaceUrl:Te,state:me}=O;if(this.location.isCurrentPathEqualTo(M)||Te){const dt=this.browserPageId,Xt={...me,...this.generateNgRouterState(Q,dt)};this.location.replaceState(M,"",Xt)}else{const dt={...me,...this.generateNgRouterState(Q,this.browserPageId+1)};this.location.go(M,"",dt)}}restoreHistory(M,O=!1){if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-this.browserPageId;0!==Te?this.location.historyGo(Te):this.getCurrentUrlTree()===M.finalUrl&&0===Te&&(this.resetInternalState(M),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetInternalState(M),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,O){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:O}:{navigationId:M}}static \u0275fac=(()=>{let M;return function(Q){return(M||(M=ee.xGo(S)))(Q||S)}})();static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function wu(S,k){S.events.pipe((0,at.p)(M=>M instanceof zr||M instanceof wi||M instanceof Os||M instanceof Mi),(0,St.T)(M=>M instanceof zr||M instanceof Mi?0:M instanceof wi&&(M.code===Jn.Redirect||M.code===Jn.SupersededByNewNavigation)?2:1),(0,at.p)(M=>2!==M),(0,kt.s)(1)).subscribe(()=>{k()})}const bc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sl=(()=>{class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,ee.WQX)(ee.H3F);stateManager=(0,ee.WQX)(Qu);options=(0,ee.WQX)(Eo,{optional:!0})||{};pendingTasks=(0,ee.WQX)(ee.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,ee.WQX)(za);urlSerializer=(0,ee.WQX)(Zt);location=(0,ee.WQX)(ne.aZ);urlHandlingStrategy=(0,ee.WQX)(La);_events=new We.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,ee.WQX)(qu);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,ee.WQX)(Zi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,ee.WQX)(Ei,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:M=>{this.console.warn(M)}}),this.subscribeToNavigationEvents()}eventsSubscription=new hn.yU;subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(O=>{try{const Q=this.navigationTransitions.currentTransition,Te=this.navigationTransitions.currentNavigation;if(null!==Q&&null!==Te)if(this.stateManager.handleRouterEvent(O,Te),O instanceof wi&&O.code!==Jn.Redirect&&O.code!==Jn.SupersededByNewNavigation)this.navigated=!0;else if(O instanceof zr)this.navigated=!0;else if(O instanceof qn){const me=O.navigationBehaviorOptions,dt=this.urlHandlingStrategy.merge(O.url,Q.currentRawUrl),Xt={browserUrl:Q.extras.browserUrl,info:Q.extras.info,skipLocationChange:Q.extras.skipLocationChange,replaceUrl:Q.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Tc(Q.source),...me};this.scheduleNavigation(dt,hr,null,Xt,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})}(function xh(S){return!(S instanceof fo||S instanceof qn)})(O)&&this._events.next(O)}catch(Q){this.navigationTransitions.transitionAbortSubject.next(Q)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((M,O,Q)=>{this.navigateToSyncWithBrowser(M,Q,O)})}navigateToSyncWithBrowser(M,O,Q){const Te={replaceUrl:!0},me=Q?.navigationId?Q:null;if(Q){const Xt={...Q};delete Xt.navigationId,delete Xt.\u0275routerPageId,0!==Object.keys(Xt).length&&(Te.state=Xt)}const dt=this.parseUrl(M);this.scheduleNavigation(dt,O,me,Te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(ta),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,O={}){const{relativeTo:Q,queryParams:Te,fragment:me,queryParamsHandling:dt,preserveFragment:Xt}=O,Wn=Xt?this.currentUrlTree.fragment:me;let ui,Tr=null;switch(dt??this.options.defaultQueryParamsHandling){case"merge":Tr={...this.currentUrlTree.queryParams,...Te};break;case"preserve":Tr=this.currentUrlTree.queryParams;break;default:Tr=Te||null}null!==Tr&&(Tr=this.removeEmptyProps(Tr));try{ui=In(Q?Q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||"/"!==M[0][0])&&(M=[]),ui=this.currentUrlTree.root}return En(ui,M,Tr,Wn??null)}navigateByUrl(M,O={skipLocationChange:!1}){const Q=Pt(M)?M:this.parseUrl(M),Te=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(Te,hr,null,O)}navigate(M,O={skipLocationChange:!1}){return function wc(S){for(let k=0;k<S.length;k++)if(null==S[k])throw new ee.wOt(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,O),O)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){try{return this.urlSerializer.parse(M)}catch{return this.urlSerializer.parse("/")}}isActive(M,O){let Q;if(Q=!0===O?{...bc}:!1===O?{...oo}:O,Pt(M))return an(this.currentUrlTree,M,Q);const Te=this.parseUrl(M);return an(this.currentUrlTree,Te,Q)}removeEmptyProps(M){return Object.entries(M).reduce((O,[Q,Te])=>(null!=Te&&(O[Q]=Te),O),{})}scheduleNavigation(M,O,Q,Te,me){if(this.disposed)return Promise.resolve(!1);let dt,Xt,Wn;me?(dt=me.resolve,Xt=me.reject,Wn=me.promise):Wn=new Promise((ui,Ws)=>{dt=ui,Xt=Ws});const Tr=this.pendingTasks.add();return wu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Tr))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:M,extras:Te,resolve:dt,reject:Xt,promise:Wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wn.catch(ui=>Promise.reject(ui))}static \u0275fac=function(O){return new(O||S)};static \u0275prov=ee.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},3229:(Xn,Tt,B)=>{"use strict";B.d(Tt,{O:()=>re});var w=B(9406),ne=B(4929),ee=B(1677);function re(ye=0,Fe,De=ne.b){let rt=-1;return null!=Fe&&((0,ee.m)(Fe)?De=Fe:rt=Fe),new w.c(ve=>{let Ie=function Re(ye){return ye instanceof Date&&!isNaN(ye)}(ye)?+ye-De.now():ye;Ie<0&&(Ie=0);let lt=0;return De.schedule(function(){ve.closed||(ve.next(lt++),0<=rt?this.schedule(void 0,rt):ve.complete())},Ie)})}},3308:(Xn,Tt,B)=>{"use strict";function w(ee,Re,re,ye,Fe,De,rt){try{var ve=ee[De](rt),Ie=ve.value}catch(lt){return void re(lt)}ve.done?Re(Ie):Promise.resolve(Ie).then(ye,Fe)}function ne(ee){return function(){var Re=this,re=arguments;return new Promise(function(ye,Fe){var De=ee.apply(Re,re);function rt(Ie){w(De,ye,Fe,rt,ve,"next",Ie)}function ve(Ie){w(De,ye,Fe,rt,ve,"throw",Ie)}rt(void 0)})}}B.d(Tt,{A:()=>ne})},3422:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Z:()=>De});var w=B(3527),ne=B(8621),ee=B(9867),Re=B(1982),re=B(6111),Fe=B(4418);function De(rt,ve,Ie=1/0){return(0,Fe.T)(ve)?De((lt,ht)=>(0,w.T)((mt,Jt)=>ve(lt,mt,ht,Jt))((0,ne.Tg)(rt(lt,ht))),Ie):("number"==typeof ve&&(Ie=ve),(0,ee.N)((lt,ht)=>function ye(rt,ve,Ie,lt,ht,mt,Jt,Ht){const hn=[];let dn=0,Kt=0,Ut=!1;const Wt=()=>{Ut&&!hn.length&&!dn&&ve.complete()},We=pt=>dn<lt?St(pt):hn.push(pt),St=pt=>{mt&&ve.next(pt),dn++;let kt=!1;(0,ne.Tg)(Ie(pt,Kt++)).subscribe((0,re._)(ve,Rt=>{ht?.(Rt),mt?We(Rt):ve.next(Rt)},()=>{kt=!0},void 0,()=>{if(kt)try{for(dn--;hn.length&&dn<lt;){const Rt=hn.shift();Jt?(0,Re.N)(ve,Jt,()=>St(Rt)):St(Rt)}Wt()}catch(Rt){ve.error(Rt)}}))};return rt.subscribe((0,re._)(ve,We,()=>{Ut=!0,Wt()})),()=>{Ht?.()}}(lt,ht,rt,Ie)))}},3527:(Xn,Tt,B)=>{"use strict";B.d(Tt,{T:()=>ee});var w=B(9867),ne=B(6111);function ee(Re,re){return(0,w.N)((ye,Fe)=>{let De=0;ye.subscribe((0,ne._)(Fe,rt=>{Fe.next(Re.call(re,rt,De++))}))})}},3806:(Xn,Tt,B)=>{"use strict";B.d(Tt,{U:()=>ee});var w=B(3422),ne=B(9656);function ee(Re=1/0){return(0,w.Z)(ne.D,Re)}},3887:(Xn,Tt,B)=>{"use strict";B.d(Tt,{G:()=>ee});var w=B(6978),ne=B(1489);let ee=(()=>{class Re{static{this.\u0275fac=function(Fe){return new(Fe||Re)}}static{this.\u0275mod=ne.$C({type:Re})}static{this.\u0275inj=ne.G2t({imports:[w.MD]})}}return Re})()},4227:(Xn,Tt,B)=>{"use strict";B.d(Tt,{MW:()=>ht,Wp:()=>hn,XU:()=>Re,gL:()=>re});var w=B(2598),ne=B(1489),ee=B(6719);class Re{constructor(St){return St}}class re{constructor(){return(0,w.Dk)()}}const De=new ne.nKC("angularfire2._apps"),rt={provide:Re,useFactory:function Fe(We){return We&&1===We.length?We[0]:new Re((0,w.Sx)())},deps:[[new ne.Xx1,De]]},ve={provide:re,deps:[[new ne.Xx1,De]]};function Ie(We){return(St,pt)=>{const kt=pt.get(ne.Agw);(0,w.KO)("angularfire",ee.xv.full,"core"),(0,w.KO)("angularfire",ee.xv.full,"app"),(0,w.KO)("angular",ne.xvI.full,kt.toString());const Rt=St.runOutsideAngular(()=>We(pt));return new Re(Rt)}}function ht(We,...St){return(0,ne.EmA)([rt,ve,{provide:De,useFactory:Ie(We),multi:!0,deps:[ne.SKi,ne.zZn,ee.u0,...St]}])}const hn=(0,ee.S3)(w.Wp,!0)},4357:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Q:()=>ht,Sm:()=>Ht,Vw:()=>De,aZ:()=>hn,hb:()=>mt,hj:()=>rt,ig:()=>ye,kB:()=>Jt,om:()=>Ie,qj:()=>Fe,rb:()=>re});var w=B(1489),ne=B(6104),ee=B(7728);let Re=null;function re(){return Re}function ye(We){Re??=We}class Fe{}let De=(()=>{class We{historyGo(pt){throw new Error("")}static \u0275fac=function(kt){return new(kt||We)};static \u0275prov=w.jDH({token:We,factory:()=>(0,w.WQX)(ve),providedIn:"platform"})}return We})();const rt=new w.nKC("");let ve=(()=>{class We extends De{_location;_history;_doc=(0,w.WQX)(ee.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(pt){const kt=re().getGlobalEventTarget(this._doc,"window");return kt.addEventListener("popstate",pt,!1),()=>kt.removeEventListener("popstate",pt)}onHashChange(pt){const kt=re().getGlobalEventTarget(this._doc,"window");return kt.addEventListener("hashchange",pt,!1),()=>kt.removeEventListener("hashchange",pt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(pt){this._location.pathname=pt}pushState(pt,kt,Rt){this._history.pushState(pt,kt,Rt)}replaceState(pt,kt,Rt){this._history.replaceState(pt,kt,Rt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(pt=0){this._history.go(pt)}getState(){return this._history.state}static \u0275fac=function(kt){return new(kt||We)};static \u0275prov=w.jDH({token:We,factory:()=>new We,providedIn:"platform"})}return We})();function Ie(We,St){return We?St?We.endsWith("/")?St.startsWith("/")?We+St.slice(1):We+St:St.startsWith("/")?We+St:`${We}/${St}`:We:St}function lt(We){const St=We.search(/#|\?|$/);return"/"===We[St-1]?We.slice(0,St-1)+We.slice(St):We}function ht(We){return We&&"?"!==We[0]?`?${We}`:We}let mt=(()=>{class We{historyGo(pt){throw new Error("")}static \u0275fac=function(kt){return new(kt||We)};static \u0275prov=w.jDH({token:We,factory:()=>(0,w.WQX)(Ht),providedIn:"root"})}return We})();const Jt=new w.nKC("");let Ht=(()=>{class We extends mt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(pt,kt){super(),this._platformLocation=pt,this._baseHref=kt??this._platformLocation.getBaseHrefFromDOM()??(0,w.WQX)(ee.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pt){this._removeListenerFns.push(this._platformLocation.onPopState(pt),this._platformLocation.onHashChange(pt))}getBaseHref(){return this._baseHref}prepareExternalUrl(pt){return Ie(this._baseHref,pt)}path(pt=!1){const kt=this._platformLocation.pathname+ht(this._platformLocation.search),Rt=this._platformLocation.hash;return Rt&&pt?`${kt}${Rt}`:kt}pushState(pt,kt,Rt,at){const kn=this.prepareExternalUrl(Rt+ht(at));this._platformLocation.pushState(pt,kt,kn)}replaceState(pt,kt,Rt,at){const kn=this.prepareExternalUrl(Rt+ht(at));this._platformLocation.replaceState(pt,kt,kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(pt=0){this._platformLocation.historyGo?.(pt)}static \u0275fac=function(kt){return new(kt||We)(w.KVO(De),w.KVO(Jt,8))};static \u0275prov=w.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),hn=(()=>{class We{_subject=new ne.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(pt){this._locationStrategy=pt;const kt=this._locationStrategy.getBaseHref();this._basePath=function Wt(We){if(new RegExp("^(https?:)?//").test(We)){const[,pt]=We.split(/\/\/[^\/]+/);return pt}return We}(lt(Ut(kt))),this._locationStrategy.onPopState(Rt=>{this._subject.next({url:this.path(!0),pop:!0,state:Rt.state,type:Rt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(pt=!1){return this.normalize(this._locationStrategy.path(pt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(pt,kt=""){return this.path()==this.normalize(pt+ht(kt))}normalize(pt){return We.stripTrailingSlash(function Kt(We,St){if(!We||!St.startsWith(We))return St;const pt=St.substring(We.length);return""===pt||["/",";","?","#"].includes(pt[0])?pt:St}(this._basePath,Ut(pt)))}prepareExternalUrl(pt){return pt&&"/"!==pt[0]&&(pt="/"+pt),this._locationStrategy.prepareExternalUrl(pt)}go(pt,kt="",Rt=null){this._locationStrategy.pushState(Rt,"",pt,kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(pt+ht(kt)),Rt)}replaceState(pt,kt="",Rt=null){this._locationStrategy.replaceState(Rt,"",pt,kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(pt+ht(kt)),Rt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(pt=0){this._locationStrategy.historyGo?.(pt)}onUrlChange(pt){return this._urlChangeListeners.push(pt),this._urlChangeSubscription??=this.subscribe(kt=>{this._notifyUrlChangeListeners(kt.url,kt.state)}),()=>{const kt=this._urlChangeListeners.indexOf(pt);this._urlChangeListeners.splice(kt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(pt="",kt){this._urlChangeListeners.forEach(Rt=>Rt(pt,kt))}subscribe(pt,kt,Rt){return this._subject.subscribe({next:pt,error:kt??void 0,complete:Rt??void 0})}static normalizeQueryParams=ht;static joinWithSlash=Ie;static stripTrailingSlash=lt;static \u0275fac=function(kt){return new(kt||We)(w.KVO(mt))};static \u0275prov=w.jDH({token:We,factory:()=>function dn(){return new hn((0,w.KVO)(mt))}(),providedIn:"root"})}return We})();function Ut(We){return We.replace(/\/index.html$/,"")}},4418:(Xn,Tt,B)=>{"use strict";function w(ne){return"function"==typeof ne}B.d(Tt,{T:()=>w})},4500:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Ms:()=>Ht,vU:()=>lt});var w=B(4418),ne=B(2029),ee=B(2493),Re=B(6379),re=B(262);const ye=rt("C",void 0,void 0);function rt(Wt,We,St){return{kind:Wt,value:We,error:St}}var ve=B(6171),Ie=B(2895);class lt extends ne.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,ne.Uv)(We)&&We.add(this)):this.destination=Ut}static create(We,St,pt){return new Ht(We,St,pt)}next(We){this.isStopped?Kt(function De(Wt){return rt("N",Wt,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Kt(function Fe(Wt){return rt("E",void 0,Wt)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Kt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function mt(Wt,We){return ht.call(Wt,We)}class Jt{constructor(We){this.partialObserver=We}next(We){const{partialObserver:St}=this;if(St.next)try{St.next(We)}catch(pt){hn(pt)}}error(We){const{partialObserver:St}=this;if(St.error)try{St.error(We)}catch(pt){hn(pt)}else hn(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(St){hn(St)}}}class Ht extends lt{constructor(We,St,pt){let kt;if(super(),(0,w.T)(We)||!We)kt={next:We??void 0,error:St??void 0,complete:pt??void 0};else{let Rt;this&&ee.$.useDeprecatedNextContext?(Rt=Object.create(We),Rt.unsubscribe=()=>this.unsubscribe(),kt={next:We.next&&mt(We.next,Rt),error:We.error&&mt(We.error,Rt),complete:We.complete&&mt(We.complete,Rt)}):kt=We}this.destination=new Jt(kt)}}function hn(Wt){ee.$.useDeprecatedSynchronousErrorHandling?(0,Ie.l)(Wt):(0,Re.m)(Wt)}function Kt(Wt,We){const{onStoppedNotification:St}=ee.$;St&&ve.f.setTimeout(()=>St(Wt,We))}const Ut={closed:!0,next:re.l,error:function dn(Wt){throw Wt},complete:re.l}},4520:(Xn,Tt,B)=>{"use strict";function w(ne){const Re=ne(re=>{Error.call(re),re.stack=(new Error).stack});return Re.prototype=Object.create(Error.prototype),Re.prototype.constructor=Re,Re}B.d(Tt,{L:()=>w})},4526:(Xn,Tt,B)=>{"use strict";B.d(Tt,{W:()=>Re});var w=B(8621),ne=B(6111),ee=B(9867);function Re(re){return(0,ee.N)((ye,Fe)=>{let ve,De=null,rt=!1;De=ye.subscribe((0,ne._)(Fe,void 0,void 0,Ie=>{ve=(0,w.Tg)(re(Ie,Re(re)(ye))),De?(De.unsubscribe(),De=null,ve.subscribe(Fe)):rt=!0})),rt&&(De.unsubscribe(),De=null,ve.subscribe(Fe))})}},4690:(Xn,Tt,B)=>{"use strict";B.d(Tt,{H:()=>We});var w=B(8621),ne=B(7336),ee=B(1576),ye=B(9406),De=B(7028),rt=B(4418),ve=B(1982);function lt(St,pt){if(!St)throw new Error("Iterable cannot be null");return new ye.c(kt=>{(0,ve.N)(kt,pt,()=>{const Rt=St[Symbol.asyncIterator]();(0,ve.N)(kt,pt,()=>{Rt.next().then(at=>{at.done?kt.complete():kt.next(at.value)})},0,!0)})})}var ht=B(8932),mt=B(5717),Jt=B(5206),Ht=B(6472),hn=B(7462),dn=B(2246),Kt=B(8889);function We(St,pt){return pt?function Wt(St,pt){if(null!=St){if((0,ht.l)(St))return function Re(St,pt){return(0,w.Tg)(St).pipe((0,ee._)(pt),(0,ne.Q)(pt))}(St,pt);if((0,Jt.X)(St))return function Fe(St,pt){return new ye.c(kt=>{let Rt=0;return pt.schedule(function(){Rt===St.length?kt.complete():(kt.next(St[Rt++]),kt.closed||this.schedule())})})}(St,pt);if((0,mt.y)(St))return function re(St,pt){return(0,w.Tg)(St).pipe((0,ee._)(pt),(0,ne.Q)(pt))}(St,pt);if((0,hn.T)(St))return lt(St,pt);if((0,Ht.x)(St))return function Ie(St,pt){return new ye.c(kt=>{let Rt;return(0,ve.N)(kt,pt,()=>{Rt=St[De.l](),(0,ve.N)(kt,pt,()=>{let at,kn;try{({value:at,done:kn}=Rt.next())}catch(Or){return void kt.error(Or)}kn?kt.complete():kt.next(at)},0,!0)}),()=>(0,rt.T)(Rt?.return)&&Rt.return()})}(St,pt);if((0,Kt.U)(St))return function Ut(St,pt){return lt((0,Kt.C)(St),pt)}(St,pt)}throw(0,dn.L)(St)}(St,pt):(0,w.Tg)(St)}},4711:(Xn,Tt,B)=>{"use strict";B.d(Tt,{HF:()=>Bs,LD:()=>Aa,F0:()=>M,eJ:()=>dr,xI:()=>ng,hg:()=>Hs,iZ:()=>Ds,gA:()=>ps,J1:()=>ut,oM:()=>Ku,x9:()=>yn,df:()=>Qp,CI:()=>ca,f3:()=>Gu});var w=B(3308),ne=B(2470),ee=B(6383),Re=B(7129),re=B(7270),ye=B(6834);const Jt=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ht=new ee.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dn=new Re.Vy("@firebase/auth");function Ut(A,...g){dn.logLevel<=Re.$b.ERROR&&dn.error(`Auth (${ne.MF}): ${A}`,...g)}function Wt(A,...g){throw Rt(A,...g)}function We(A,...g){return Rt(A,...g)}function St(A,g,y){const R=Object.assign(Object.assign({},Jt()),{[g]:y});return new ee.FA("auth","Firebase",R).create(g,{appName:A.name})}function pt(A){return St(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rt(A,...g){if("string"!=typeof A){const y=g[0],R=[...g.slice(1)];return R[0]&&(R[0].appName=A.name),A._errorFactory.create(y,...R)}return Ht.create(A,...g)}function at(A,g,...y){if(!A)throw Rt(g,...y)}function kn(A){const g="INTERNAL ASSERTION FAILED: "+A;throw Ut(g),new Error(g)}function Or(A,g){A||kn(g)}function Hr(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Wr(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Pr{constructor(g,y){this.shortDelay=g,this.longDelay=y,Or(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,ee.jZ)()||(0,ee.lV)()}get(){return function Nr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pr(){return"http:"===Wr()||"https:"===Wr()}()||(0,ee.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yi(A,g){Or(A.emulator,"Emulator should always be set here");const{url:y}=A.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Ti{static initialize(g,y,R){this.fetchImpl=g,y&&(this.headersImpl=y),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ve=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],He=new Pr(3e4,6e4);function Ge(A,g){return A.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:A.tenantId}):g}function qe(A,g,y,R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,w.A)(function*(A,g,y,R,G={}){return Pn(A,G,(0,w.A)(function*(){let de={},Xe={};R&&("GET"===g?Xe=R:de={body:JSON.stringify(R)});const It=(0,ee.Am)(Object.assign({key:A.config.apiKey},Xe)).slice(1),un=yield A._getAdditionalHeaders();un["Content-Type"]="application/json",A.languageCode&&(un["X-Firebase-Locale"]=A.languageCode);const Zn=Object.assign({method:g,headers:un},de);return(0,ee.c1)()||(Zn.referrerPolicy="no-referrer"),A.emulatorConfig&&(0,ee.zJ)(A.emulatorConfig.host)&&(Zn.credentials="include"),Ti.fetch()(yield Qr(A,A.config.apiHost,y,It),Zn)}))})).apply(this,arguments)}function Pn(A,g,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,w.A)(function*(A,g,y){A._canInitEmulator=!1;const R=Object.assign(Object.assign({},Le),g);try{const G=new si(A),de=yield Promise.race([y(),G.promise]);G.clearNetworkTimeout();const Xe=yield de.json();if("needConfirmation"in Xe)throw Xr(A,"account-exists-with-different-credential",Xe);if(de.ok&&!("errorMessage"in Xe))return Xe;{const It=de.ok?Xe.errorMessage:Xe.error.message,[un,Zn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===un)throw Xr(A,"credential-already-in-use",Xe);if("EMAIL_EXISTS"===un)throw Xr(A,"email-already-in-use",Xe);if("USER_DISABLED"===un)throw Xr(A,"user-disabled",Xe);const br=R[un]||un.toLowerCase().replace(/[_\s]+/g,"-");if(Zn)throw St(A,br,Zn);Wt(A,br)}}catch(G){if(G instanceof ee.g)throw G;Wt(A,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function ur(A,g,y,R){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,w.A)(function*(A,g,y,R,G={}){const de=yield qe(A,g,y,R,G);return"mfaPendingCredential"in de&&Wt(A,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Qr(A,g,y,R){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,w.A)(function*(A,g,y,R){const G=`${g}${y}?${R}`,de=A,Xe=de.config.emulator?yi(A.config,G):`${A.config.apiScheme}://${G}`;return Ve.includes(y)&&(yield de._persistenceManagerAvailable,"COOKIE"===de._getPersistenceType())?de._getPersistence()._getFinalTarget(Xe).toString():Xe})).apply(this,arguments)}function Li(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class si{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,R)=>{this.timer=setTimeout(()=>R(We(this.auth,"network-request-failed")),He.get())})}}function Xr(A,g,y){const R={appName:A.name};y.email&&(R.email=y.email),y.phoneNumber&&(R.phoneNumber=y.phoneNumber);const G=We(A,g,R);return G.customData._tokenResponse=y,G}function Jr(A){return void 0!==A&&void 0!==A.enterprise}class Mn{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===g)return Li(y.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function ft(){return(ft=(0,w.A)(function*(A,g){return qe(A,"GET","/v2/recaptchaConfig",Ge(A,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,w.A)(function*(A,g){return qe(A,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function on(A,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,w.A)(function*(A,g){return qe(A,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function mr(A){if(A)try{const g=new Date(Number(A));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Nn(){return(Nn=(0,w.A)(function*(A,g=!1){const y=(0,ee.Ku)(A),R=yield y.getIdToken(g),G=ti(R);at(G&&G.exp&&G.auth_time&&G.iat,y.auth,"internal-error");const de="object"==typeof G.firebase?G.firebase:void 0,Xe=de?.sign_in_provider;return{claims:G,token:R,authTime:mr(ts(G.auth_time)),issuedAtTime:mr(ts(G.iat)),expirationTime:mr(ts(G.exp)),signInProvider:Xe||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function ts(A){return 1e3*Number(A)}function ti(A){const[g,y,R]=A.split(".");if(void 0===g||void 0===y||void 0===R)return Ut("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,ee.u)(y);return G?JSON.parse(G):(Ut("Failed to decode base64 JWT payload"),null)}catch(G){return Ut("Caught error parsing JWT payload as JSON",G?.toString()),null}}function On(A){const g=ti(A);return at(g,"internal-error"),at(typeof g.exp<"u","internal-error"),at(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function An(A,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,w.A)(function*(A,g,y=!1){if(y)return g;try{return yield g}catch(R){throw R instanceof ee.g&&function ns({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(R)&&A.auth.currentUser===A&&(yield A.auth.signOut()),R}})).apply(this,arguments)}class ws{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const G=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const R=this.getInterval(g);this.timerId=setTimeout((0,w.A)(function*(){yield y.iteration()}),R)}iteration(){var g=this;return(0,w.A)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class cs{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(A){return bi.apply(this,arguments)}function bi(){return(bi=(0,w.A)(function*(A){var g;const y=A.auth,R=yield A.getIdToken(),G=yield An(A,on(y,{idToken:R}));at(G?.users.length,y,"internal-error");const de=G.users[0];A._notifyReloadListener(de);const Xe=null!==(g=de.providerUserInfo)&&void 0!==g&&g.length?Wi(de.providerUserInfo):[],It=function kr(A,g){return[...A.filter(R=>!g.some(G=>G.providerId===R.providerId)),...g]}(A.providerData,Xe),br=!!A.isAnonymous&&!(A.email&&de.passwordHash||It?.length),Mr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:It,metadata:new cs(de.createdAt,de.lastLoginAt),isAnonymous:br};Object.assign(A,Mr)})).apply(this,arguments)}function Bi(){return(Bi=(0,w.A)(function*(A){const g=(0,ee.Ku)(A);yield Pi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Wi(A){return A.map(g=>{var{providerId:y}=g,R=(0,re.Tt)(g,["providerId"]);return{providerId:y,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function an(){return(an=(0,w.A)(function*(A,g){const y=yield Pn(A,{},(0,w.A)(function*(){const R=(0,ee.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:G,apiKey:de}=A.config,Xe=yield Qr(A,G,"/v1/token",`key=${de}`),It=yield A._getAdditionalHeaders();It["Content-Type"]="application/x-www-form-urlencoded";const un={method:"POST",headers:It,body:R};return A.emulatorConfig&&(0,ee.zJ)(A.emulatorConfig.host)&&(un.credentials="include"),Ti.fetch()(Xe,un)}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function bn(){return(bn=(0,w.A)(function*(A,g){return qe(A,"POST","/v2/accounts:revokeToken",Ge(A,g))})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){at(g.idToken,"internal-error"),at(typeof g.idToken<"u","internal-error"),at(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):On(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}updateFromIdToken(g){at(0!==g.length,"internal-error");const y=On(g);this.updateTokensAndExpiration(g,null,y)}getToken(g){var y=this;return(0,w.A)(function*(R,G=!1){return G||!y.accessToken||y.isExpired?(at(y.refreshToken,R,"user-token-expired"),y.refreshToken?(yield y.refresh(R,y.refreshToken),y.accessToken):null):y.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var R=this;return(0,w.A)(function*(){const{accessToken:G,refreshToken:de,expiresIn:Xe}=yield function qr(A,g){return an.apply(this,arguments)}(g,y);R.updateTokensAndExpiration(G,de,Number(Xe))})()}updateTokensAndExpiration(g,y,R){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(g,y){const{refreshToken:R,accessToken:G,expirationTime:de}=y,Xe=new Un;return R&&(at("string"==typeof R,"internal-error",{appName:g}),Xe.refreshToken=R),G&&(at("string"==typeof G,"internal-error",{appName:g}),Xe.accessToken=G),de&&(at("number"==typeof de,"internal-error",{appName:g}),Xe.expirationTime=de),Xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return kn("not implemented")}}function vn(A,g){at("string"==typeof A||typeof A>"u","internal-error",{appName:g})}class er{constructor(g){var{uid:y,auth:R,stsTokenManager:G}=g,de=(0,re.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ws(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=R,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new cs(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,w.A)(function*(){const R=yield An(y,y.stsTokenManager.getToken(y.auth,g));return at(R,y.auth,"internal-error"),y.accessToken!==R&&(y.accessToken=R,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),R})()}getIdTokenResult(g){return function Rn(A){return Nn.apply(this,arguments)}(this,g)}reload(){return function ho(A){return Bi.apply(this,arguments)}(this)}_assign(g){this!==g&&(at(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new er(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g){var y=this;return(0,w.A)(function*(R,G=!1){let de=!1;R.idToken&&R.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(R),de=!0),G&&(yield Pi(y)),yield y.auth._persistUserIfCurrent(y),de&&y.auth._notifyListenersIfCurrent(y)}).apply(this,arguments)}delete(){var g=this;return(0,w.A)(function*(){if((0,ne.xZ)(g.auth.app))return Promise.reject(pt(g.auth));const y=yield g.getIdToken();return yield An(g,function en(A,g){return Sn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var R,G,de,Xe,It,un,Zn,br;const Mr=null!==(R=y.displayName)&&void 0!==R?R:void 0,Ii=null!==(G=y.email)&&void 0!==G?G:void 0,Js=null!==(de=y.phoneNumber)&&void 0!==de?de:void 0,Ba=null!==(Xe=y.photoURL)&&void 0!==Xe?Xe:void 0,jc=null!==(It=y.tenantId)&&void 0!==It?It:void 0,$c=null!==(un=y._redirectEventId)&&void 0!==un?un:void 0,uo=null!==(Zn=y.createdAt)&&void 0!==Zn?Zn:void 0,zh=null!==(br=y.lastLoginAt)&&void 0!==br?br:void 0,{uid:Xa,emailVerified:Wl,isAnonymous:$d,providerData:ja,stsTokenManager:Qf}=y;at(Xa&&Qf,g,"internal-error");const xm=Un.fromJSON(this.name,Qf);at("string"==typeof Xa,g,"internal-error"),vn(Mr,g.name),vn(Ii,g.name),at("boolean"==typeof Wl,g,"internal-error"),at("boolean"==typeof $d,g,"internal-error"),vn(Js,g.name),vn(Ba,g.name),vn(jc,g.name),vn($c,g.name),vn(uo,g.name),vn(zh,g.name);const mu=new er({uid:Xa,auth:g,email:Ii,emailVerified:Wl,displayName:Mr,isAnonymous:$d,photoURL:Ba,phoneNumber:Js,tenantId:jc,stsTokenManager:xm,createdAt:uo,lastLoginAt:zh});return ja&&Array.isArray(ja)&&(mu.providerData=ja.map(Vu=>Object.assign({},Vu))),$c&&(mu._redirectEventId=$c),mu}static _fromIdTokenResponse(g,y){return(0,w.A)(function*(R,G,de=!1){const Xe=new Un;Xe.updateFromServerResponse(G);const It=new er({uid:G.localId,auth:R,stsTokenManager:Xe,isAnonymous:de});return yield Pi(It),It}).apply(this,arguments)}static _fromGetAccountInfoResponse(g,y,R){return(0,w.A)(function*(){const G=y.users[0];at(void 0!==G.localId,"internal-error");const de=void 0!==G.providerUserInfo?Wi(G.providerUserInfo):[],Xe=!(G.email&&G.passwordHash||de?.length),It=new Un;It.updateFromIdToken(R);const un=new er({uid:G.localId,auth:g,stsTokenManager:It,isAnonymous:Xe}),Zn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:de,metadata:new cs(G.createdAt,G.lastLoginAt),isAnonymous:!(G.email&&G.passwordHash||de?.length)};return Object.assign(un,Zn),un})()}}const $n=new Map;function Br(A){Or(A instanceof Function,"Expected a class definition");let g=$n.get(A);return g?(Or(g instanceof A,"Instance stored in cache mismatched with class"),g):(g=new A,$n.set(A,g),g)}const zi=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.A)(function*(){return!0})()}_set(y,R){var G=this;return(0,w.A)(function*(){G.storage[y]=R})()}_get(y){var R=this;return(0,w.A)(function*(){const G=R.storage[y];return void 0===G?null:G})()}_remove(y){var R=this;return(0,w.A)(function*(){delete R.storage[y]})()}_addListener(y,R){}_removeListener(y,R){}}return A.type="NONE",A})();function he(A,g,y){return`firebase:${A}:${g}:${y}`}class be{constructor(g,y,R){this.persistence=g,this.auth=y,this.userKey=R;const{config:G,name:de}=this.auth;this.fullUserKey=he(this.userKey,G.apiKey,de),this.fullPersistenceKey=he("persistence",G.apiKey,de),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,w.A)(function*(){const y=yield g.persistence._get(g.fullUserKey);if(!y)return null;if("string"==typeof y){const R=yield on(g.auth,{idToken:y}).catch(()=>{});return R?er._fromGetAccountInfoResponse(g.auth,R,y):null}return er._fromJSON(g.auth,y)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,w.A)(function*(){if(y.persistence===g)return;const R=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,R?y.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y){return(0,w.A)(function*(R,G,de="authUser"){if(!G.length)return new be(Br(zi),R,de);const Xe=(yield Promise.all(G.map(function(){var Mr=(0,w.A)(function*(Ii){if(yield Ii._isAvailable())return Ii});return function(Ii){return Mr.apply(this,arguments)}}()))).filter(Mr=>Mr);let It=Xe[0]||Br(zi);const un=he(de,R.config.apiKey,R.name);let Zn=null;for(const Mr of G)try{const Ii=yield Mr._get(un);if(Ii){let Js;if("string"==typeof Ii){const Ba=yield on(R,{idToken:Ii}).catch(()=>{});if(!Ba)break;Js=yield er._fromGetAccountInfoResponse(R,Ba,Ii)}else Js=er._fromJSON(R,Ii);Mr!==It&&(Zn=Js),It=Mr;break}}catch{}const br=Xe.filter(Mr=>Mr._shouldAllowMigration);return It._shouldAllowMigration&&br.length?(It=br[0],Zn&&(yield It._set(un,Zn.toJSON())),yield Promise.all(G.map(function(){var Mr=(0,w.A)(function*(Ii){if(Ii!==It)try{yield Ii._remove(un)}catch{}});return function(Ii){return Mr.apply(this,arguments)}}())),new be(It,R,de)):new be(It,R,de)}).apply(this,arguments)}}function Ye(A){const g=A.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(rn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Zt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(se(g))return"Blackberry";if(Z(g))return"Webos";if(Oe(g))return"Safari";if((g.includes("chrome/")||tr(g))&&!g.includes("edge/"))return"Chrome";if(xr(g))return"Android";{const R=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function Zt(A=(0,ee.ZQ)()){return/firefox\//i.test(A)}function Oe(A=(0,ee.ZQ)()){const g=A.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function tr(A=(0,ee.ZQ)()){return/crios\//i.test(A)}function rn(A=(0,ee.ZQ)()){return/iemobile/i.test(A)}function xr(A=(0,ee.ZQ)()){return/android/i.test(A)}function se(A=(0,ee.ZQ)()){return/blackberry/i.test(A)}function Z(A=(0,ee.ZQ)()){return/webos/i.test(A)}function fe(A=(0,ee.ZQ)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Vn(A=(0,ee.ZQ)()){return fe(A)||xr(A)||Z(A)||se(A)||/windows phone/i.test(A)||rn(A)}function Yn(A,g=[]){let y;switch(A){case"Browser":y=Ye((0,ee.ZQ)());break;case"Worker":y=`${Ye((0,ee.ZQ)())}-${A}`;break;default:y=A}const R=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${ne.MF}/${R}`}class ce{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const R=de=>new Promise((Xe,It)=>{try{Xe(g(de))}catch(un){It(un)}});R.onAbort=y,this.queue.push(R);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,w.A)(function*(){if(y.auth.currentUser===g)return;const R=[];try{for(const G of y.queue)yield G(g),G.onAbort&&R.push(G.onAbort)}catch(G){R.reverse();for(const de of R)try{de()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:G?.message})}})()}}function $(){return($=(0,w.A)(function*(A,g={}){return qe(A,"GET","/v2/passwordPolicy",Ge(A,g))})).apply(this,arguments)}class Je{constructor(g){var y,R,G,de;const Xe=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Xe.minPasswordLength)&&void 0!==y?y:6,Xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Xe.maxPasswordLength),void 0!==Xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Xe.containsLowercaseCharacter),void 0!==Xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Xe.containsUppercaseCharacter),void 0!==Xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Xe.containsNumericCharacter),void 0!==Xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Xe.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(G=null===(R=g.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==G?G:"",this.forceUpgradeOnSignin=null!==(de=g.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=g.schemaVersion}validatePassword(g){var y,R,G,de,Xe,It;const un={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,un),this.validatePasswordCharacterOptions(g,un),un.isValid&&(un.isValid=null===(y=un.meetsMinPasswordLength)||void 0===y||y),un.isValid&&(un.isValid=null===(R=un.meetsMaxPasswordLength)||void 0===R||R),un.isValid&&(un.isValid=null===(G=un.containsLowercaseLetter)||void 0===G||G),un.isValid&&(un.isValid=null===(de=un.containsUppercaseLetter)||void 0===de||de),un.isValid&&(un.isValid=null===(Xe=un.containsNumericCharacter)||void 0===Xe||Xe),un.isValid&&(un.isValid=null===(It=un.containsNonAlphanumericCharacter)||void 0===It||It),un}validatePasswordLengthOptions(g,y){const R=this.customStrengthOptions.minPasswordLength,G=this.customStrengthOptions.maxPasswordLength;R&&(y.meetsMinPasswordLength=g.length>=R),G&&(y.meetsMaxPasswordLength=g.length<=G)}validatePasswordCharacterOptions(g,y){let R;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let G=0;G<g.length;G++)R=g.charAt(G),this.updatePasswordCharacterOptionsStatuses(y,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(g,y,R,G,de){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=G)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=de))}}class gn{constructor(g,y,R,G){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=R,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cr(this),this.idTokenSubscription=new cr(this),this.beforeStateQueue=new ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=G.sdkClientVersion,this._persistenceManagerAvailable=new Promise(de=>this._resolvePersistenceManagerAvailable=de)}_initializeWithPersistence(g,y){var R=this;return y&&(this._popupRedirectResolver=Br(y)),this._initializationPromise=this.queue((0,w.A)(function*(){var G,de,Xe;if(!R._deleted&&(R.persistenceManager=yield be.create(R,g),null===(G=R._resolvePersistenceManagerAvailable)||void 0===G||G.call(R),!R._deleted)){if(null!==(de=R._popupRedirectResolver)&&void 0!==de&&de._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(y),R.lastNotifiedUid=(null===(Xe=R.currentUser)||void 0===Xe?void 0:Xe.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,w.A)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUserFromIdToken(g){var y=this;return(0,w.A)(function*(){try{const R=yield on(y,{idToken:g}),G=yield er._fromGetAccountInfoResponse(y,R,g);yield y.directlySetCurrentUser(G)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield y.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var y=this;return(0,w.A)(function*(){var R;if((0,ne.xZ)(y.app)){const It=y.app.settings.authIdToken;return It?new Promise(un=>{setTimeout(()=>y.initializeCurrentUserFromIdToken(It).then(un,un))}):y.directlySetCurrentUser(null)}const G=yield y.assertedPersistence.getCurrentUser();let de=G,Xe=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const It=null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId,un=de?._redirectEventId,Zn=yield y.tryRedirectSignIn(g);(!It||It===un)&&Zn?.user&&(de=Zn.user,Xe=!0)}if(!de)return y.directlySetCurrentUser(null);if(!de._redirectEventId){if(Xe)try{yield y.beforeStateQueue.runMiddleware(de)}catch(It){de=G,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(It))}return de?y.reloadAndSetCurrentUserOrClear(de):y.directlySetCurrentUser(null)}return at(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===de._redirectEventId?y.directlySetCurrentUser(de):y.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(g){var y=this;return(0,w.A)(function*(){let R=null;try{R=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,w.A)(function*(){try{yield Pi(g)}catch(R){if("auth/network-request-failed"!==R?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ur(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var g=this;return(0,w.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,w.A)(function*(){if((0,ne.xZ)(y.app))return Promise.reject(pt(y));const R=g?(0,ee.Ku)(g):null;return R&&at(R.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(R&&R._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,w.A)(function*(R,G=!1){if(!y._deleted)return R&&at(y.tenantId===R.tenantId,y,"tenant-id-mismatch"),G||(yield y.beforeStateQueue.runMiddleware(R)),y.queue((0,w.A)(function*(){yield y.directlySetCurrentUser(R),y.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var g=this;return(0,w.A)(function*(){return(0,ne.xZ)(g.app)?Promise.reject(pt(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var y=this;return(0,ne.xZ)(this.app)?Promise.reject(pt(this)):this.queue((0,w.A)(function*(){yield y.assertedPersistence.setPersistence(Br(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var y=this;return(0,w.A)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const R=y._getPasswordPolicyInternal();return R.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,w.A)(function*(){const y=yield function H(A){return $.apply(this,arguments)}(g),R=new Je(y);null===g.tenantId?g._projectPasswordPolicy=R:g._tenantPasswordPolicies[g.tenantId]=R})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(g){this._errorFactory=new ee.FA("auth","Firebase",g())}onAuthStateChanged(g,y,R){return this.registerStateListener(this.authStateSubscription,g,y,R)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,R){return this.registerStateListener(this.idTokenSubscription,g,y,R)}authStateReady(){return new Promise((g,y)=>{if(this.currentUser)g();else{const R=this.onAuthStateChanged(()=>{R(),g()},y)}})}revokeAccessToken(g){var y=this;return(0,w.A)(function*(){if(y.currentUser){const R=yield y.currentUser.getIdToken(),G={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:R};null!=y.tenantId&&(G.tenantId=y.tenantId),yield function Lt(A,g){return bn.apply(this,arguments)}(y,G)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var R=this;return(0,w.A)(function*(){const G=yield R.getOrInitRedirectPersistenceManager(y);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,w.A)(function*(){if(!y.redirectPersistenceManager){const R=g&&Br(g)||y._popupRedirectResolver;at(R,y,"argument-error"),y.redirectPersistenceManager=yield be.create(y,[Br(R._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,w.A)(function*(){var R,G;return y._isInitialized&&(yield y.queue((0,w.A)(function*(){}))),(null===(R=y._currentUser)||void 0===R?void 0:R._redirectEventId)===g?y._currentUser:(null===(G=y.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,w.A)(function*(){if(g===y.currentUser)return y.queue((0,w.A)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,R,G){if(this._deleted)return()=>{};const de="function"==typeof y?y:y.next.bind(y);let Xe=!1;const It=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(It,this,"internal-error"),It.then(()=>{Xe||de(this.currentUser)}),"function"==typeof y){const un=g.addObserver(y,R,G);return()=>{Xe=!0,un()}}{const un=g.addObserver(y);return()=>{Xe=!0,un()}}}directlySetCurrentUser(g){var y=this;return(0,w.A)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,w.A)(function*(){var y;const R={"X-Client-Version":g.clientVersion};g.app.options.appId&&(R["X-Firebase-gmpid"]=g.app.options.appId);const G=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();G&&(R["X-Firebase-Client"]=G);const de=yield g._getAppCheckToken();return de&&(R["X-Firebase-AppCheck"]=de),R})()}_getAppCheckToken(){var g=this;return(0,w.A)(function*(){var y;if((0,ne.xZ)(g.app)&&g.app.settings.appCheckToken)return g.app.settings.appCheckToken;const R=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return R?.error&&function Kt(A,...g){dn.logLevel<=Re.$b.WARN&&dn.warn(`Auth (${ne.MF}): ${A}`,...g)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Cn(A){return(0,ee.Ku)(A)}class cr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ee.tD)(y=>this.observer=y)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zt={loadJS:()=>(0,w.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gi(A){return zt.loadJS(A)}function fn(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Tn{constructor(){this.enterprise=new ji}ready(g){g()}execute(g,y){return Promise.resolve("token")}render(g,y){return""}}class ji{ready(g){g()}execute(g,y){return Promise.resolve("token")}render(g,y){return""}}const Qs="NO_RECAPTCHA";class ms{constructor(g){this.type="recaptcha-enterprise",this.auth=Cn(g)}verify(){var g=this;return(0,w.A)(function*(y="verify",R=!1){function de(){return de=(0,w.A)(function*(It){if(!R){if(null==It.tenantId&&null!=It._agentRecaptchaConfig)return It._agentRecaptchaConfig.siteKey;if(null!=It.tenantId&&void 0!==It._tenantRecaptchaConfigs[It.tenantId])return It._tenantRecaptchaConfigs[It.tenantId].siteKey}return new Promise(function(){var un=(0,w.A)(function*(Zn,br){(function Yt(A,g){return ft.apply(this,arguments)})(It,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mr=>{if(void 0!==Mr.recaptchaKey){const Ii=new Mn(Mr);return null==It.tenantId?It._agentRecaptchaConfig=Ii:It._tenantRecaptchaConfigs[It.tenantId]=Ii,Zn(Ii.siteKey)}br(new Error("recaptcha Enterprise site key undefined"))}).catch(Mr=>{br(Mr)})});return function(Zn,br){return un.apply(this,arguments)}}())}),de.apply(this,arguments)}function Xe(It,un,Zn){const br=window.grecaptcha;Jr(br)?br.enterprise.ready(()=>{br.enterprise.execute(It,{action:y}).then(Mr=>{un(Mr)}).catch(()=>{un(Qs)})}):Zn(Error("No reCAPTCHA enterprise script loaded."))}return g.auth.settings.appVerificationDisabledForTesting?(new Tn).execute("siteKey",{action:"verify"}):new Promise((It,un)=>{(function G(It){return de.apply(this,arguments)})(g.auth).then(Zn=>{if(!R&&Jr(window.grecaptcha))Xe(Zn,It,un);else{if(typeof window>"u")return void un(new Error("RecaptchaVerifier is only supported in browser"));let br=function Qe(){return zt.recaptchaEnterpriseScript}();0!==br.length&&(br+=Zn),Gi(br).then(()=>{Xe(Zn,It,un)}).catch(Mr=>{un(Mr)})}}).catch(Zn=>{un(Zn)})})}).apply(this,arguments)}}function jr(A,g,y){return K.apply(this,arguments)}function K(){return(K=(0,w.A)(function*(A,g,y,R=!1,G=!1){const de=new ms(A);let Xe;if(G)Xe=Qs;else try{Xe=yield de.verify(y)}catch{Xe=yield de.verify(y,!0)}const It=Object.assign({},g);return"mfaSmsEnrollment"===y||"mfaSmsSignIn"===y?("phoneEnrollmentInfo"in It?Object.assign(It,{phoneEnrollmentInfo:{phoneNumber:It.phoneEnrollmentInfo.phoneNumber,recaptchaToken:It.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Xe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in It&&Object.assign(It,{phoneSignInInfo:{recaptchaToken:It.phoneSignInInfo.recaptchaToken,captchaResponse:Xe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),It):(Object.assign(It,R?{captchaResp:Xe}:{captchaResponse:Xe}),Object.assign(It,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(It,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),It)})).apply(this,arguments)}function Ee(A,g,y,R,G){return ie.apply(this,arguments)}function ie(){return ie=(0,w.A)(function*(A,g,y,R,G){var de,Xe;if("EMAIL_PASSWORD_PROVIDER"===G){if(null!==(de=A._getRecaptchaConfig())&&void 0!==de&&de.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const It=yield jr(A,g,y,"getOobCode"===y);return R(A,It)}return R(A,g).catch(function(){var It=(0,w.A)(function*(un){if("auth/missing-recaptcha-token"===un.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Zn=yield jr(A,g,y,"getOobCode"===y);return R(A,Zn)}return Promise.reject(un)});return function(un){return It.apply(this,arguments)}}())}if("PHONE_PROVIDER"===G){if(null!==(Xe=A._getRecaptchaConfig())&&void 0!==Xe&&Xe.isProviderEnabled("PHONE_PROVIDER")){const It=yield jr(A,g,y);return R(A,It).catch(function(){var un=(0,w.A)(function*(Zn){var br;if("AUDIT"===(null===(br=A._getRecaptchaConfig())||void 0===br?void 0:br.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===Zn.code||"auth/invalid-app-credential"===Zn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${y} flow.`);const Mr=yield jr(A,g,y,!1,!0);return R(A,Mr)}return Promise.reject(Zn)});return function(Zn){return un.apply(this,arguments)}}())}{const It=yield jr(A,g,y,!1,!0);return R(A,It)}}return Promise.reject(G+" provider is not supported.")}),ie.apply(this,arguments)}function _r(A){const g=A.indexOf(":");return g<0?"":A.substr(0,g+1)}function li(A){if(!A)return null;const g=Number(A);return isNaN(g)?null:g}class Jn{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return kn("not implemented")}_getIdTokenResponse(g){return kn("not implemented")}_linkToIdToken(g,y){return kn("not implemented")}_getReauthenticationResolver(g){return kn("not implemented")}}function Os(){return(Os=(0,w.A)(function*(A,g){return qe(A,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ds(A,g){return we.apply(this,arguments)}function we(){return(we=(0,w.A)(function*(A,g){return qe(A,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function Mt(A,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,w.A)(function*(A,g){return ur(A,"POST","/v1/accounts:signInWithPassword",Ge(A,g))})).apply(this,arguments)}function xe(A,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,w.A)(function*(A,g){return qe(A,"POST","/v1/accounts:sendOobCode",Ge(A,g))})).apply(this,arguments)}function Ki(){return(Ki=(0,w.A)(function*(A,g){return xe(A,g)})).apply(this,arguments)}function Fa(A,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,w.A)(function*(A,g){return xe(A,g)})).apply(this,arguments)}function wa(){return(wa=(0,w.A)(function*(A,g){return ur(A,"POST","/v1/accounts:signInWithEmailLink",Ge(A,g))})).apply(this,arguments)}function eo(){return(eo=(0,w.A)(function*(A,g){return ur(A,"POST","/v1/accounts:signInWithEmailLink",Ge(A,g))})).apply(this,arguments)}class Vs extends Jn{constructor(g,y,R,G=null){super("password",R),this._email=g,this._password=y,this._tenantId=G}static _fromEmailAndPassword(g,y){return new Vs(g,y,"password")}static _fromEmailAndCode(g,y,R=null){return new Vs(g,y,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,w.A)(function*(){switch(y.signInMethod){case"password":return Ee(g,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function bo(A,g){return wa.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Wt(g,"internal-error")}})()}_linkToIdToken(g,y){var R=this;return(0,w.A)(function*(){switch(R.signInMethod){case"password":return Ee(g,{idToken:y,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ds,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ho(A,g){return eo.apply(this,arguments)}(g,{idToken:y,email:R._email,oobCode:R._password});default:Wt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Vi(A,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,w.A)(function*(A,g){return ur(A,"POST","/v1/accounts:signInWithIdp",Ge(A,g))})).apply(this,arguments)}class Ai extends Jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ai(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Wt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:G}=y,de=(0,re.Tt)(y,["providerId","signInMethod"]);if(!R||!G)return null;const Xe=new Ai(R,G);return Xe.idToken=de.idToken||void 0,Xe.accessToken=de.accessToken||void 0,Xe.secret=de.secret,Xe.nonce=de.nonce,Xe.pendingToken=de.pendingToken||null,Xe}_getIdTokenResponse(g){return Vi(g,this.buildRequest())}_linkToIdToken(g,y){const R=this.buildRequest();return R.idToken=y,Vi(g,R)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Vi(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,ee.Am)(y)}return g}}class wo{constructor(g){var y,R,G,de,Xe,It;const un=(0,ee.I9)((0,ee.hp)(g)),Zn=null!==(y=un.apiKey)&&void 0!==y?y:null,br=null!==(R=un.oobCode)&&void 0!==R?R:null,Mr=function ea(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=un.mode)&&void 0!==G?G:null);at(Zn&&br&&Mr,"argument-error"),this.apiKey=Zn,this.operation=Mr,this.code=br,this.continueUrl=null!==(de=un.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Xe=un.lang)&&void 0!==Xe?Xe:null,this.tenantId=null!==(It=un.tenantId)&&void 0!==It?It:null}static parseLink(g){const y=function Ns(A){const g=(0,ee.I9)((0,ee.hp)(A)).link,y=g?(0,ee.I9)((0,ee.hp)(g)).deep_link_id:null,R=(0,ee.I9)((0,ee.hp)(A)).deep_link_id;return(R?(0,ee.I9)((0,ee.hp)(R)).link:null)||R||y||g||A}(g);try{return new wo(y)}catch{return null}}}let Di=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(y,R){return Vs._fromEmailAndPassword(y,R)}static credentialWithLink(y,R){const G=wo.parseLink(R);return at(G,"argument-error"),Vs._fromEmailAndCode(y,G.code,G.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Yi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ua extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Aa extends ua{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return at("providerId"in y&&"signInMethod"in y,"argument-error"),Ai._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return at(g.idToken||g.accessToken,"argument-error"),Ai._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Aa.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Aa.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:R,oauthTokenSecret:G,pendingToken:de,nonce:Xe,providerId:It}=g;if(!R&&!G&&!y&&!de||!It)return null;try{return new Aa(It)._credential({idToken:y,accessToken:R,nonce:Xe,pendingToken:de})}catch{return null}}}let Bs=(()=>{class A extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(y,R){return Ai._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:R})}static credentialFromResult(y){return A.credentialFromTaggedObject(y)}static credentialFromError(y){return A.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:R,oauthAccessToken:G}=y;if(!R&&!G)return null;try{return A.credential(R,G)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})();function Wa(A,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,w.A)(function*(A,g){return ur(A,"POST","/v1/accounts:signUp",Ge(A,g))})).apply(this,arguments)}class ro{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,R){return(0,w.A)(function*(G,de,Xe,It=!1){const un=yield er._fromIdTokenResponse(G,Xe,It),Zn=Bo(Xe);return new ro({user:un,providerId:Zn,_tokenResponse:Xe,operationType:de})}).apply(this,arguments)}static _forOperation(g,y,R){return(0,w.A)(function*(){yield g._updateTokensIfNecessary(R,!0);const G=Bo(R);return new ro({user:g,providerId:G,_tokenResponse:R,operationType:y})})()}}function Bo(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}class Ca extends ee.g{constructor(g,y,R,G){var de;super(y.code,y.message),this.operationType=R,this.user=G,Object.setPrototypeOf(this,Ca.prototype),this.customData={appName:g.name,tenantId:null!==(de=g.tenantId)&&void 0!==de?de:void 0,_serverResponse:y.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(g,y,R,G){return new Ca(g,y,R,G)}}function fs(A,g,y,R){return("reauthenticate"===g?y._getReauthenticationResolver(A):y._getIdTokenResponse(A)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Ca._fromErrorAndOperation(A,de,g,R):de})}function N(){return(N=(0,w.A)(function*(A,g,y=!1){const R=yield An(A,g._linkToIdToken(A.auth,yield A.getIdToken()),y);return ro._forOperation(A,"link",R)})).apply(this,arguments)}function Fr(){return(Fr=(0,w.A)(function*(A,g,y=!1){const{auth:R}=A;if((0,ne.xZ)(R.app))return Promise.reject(pt(R));const G="reauthenticate";try{const de=yield An(A,fs(R,G,g,A),y);at(de.idToken,R,"internal-error");const Xe=ti(de.idToken);at(Xe,R,"internal-error");const{sub:It}=Xe;return at(A.uid===It,R,"user-mismatch"),ro._forOperation(A,G,de)}catch(de){throw"auth/user-not-found"===de?.code&&Wt(R,"user-mismatch"),de}})).apply(this,arguments)}function qi(A,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,w.A)(function*(A,g,y=!1){if((0,ne.xZ)(A.app))return Promise.reject(pt(A));const R="signIn",G=yield fs(A,R,g),de=yield ro._fromIdTokenResponse(A,R,G);return y||(yield A._updateCurrentUser(de.user)),de})).apply(this,arguments)}function E(){return(E=(0,w.A)(function*(A,g){return qi(Cn(A),g)})).apply(this,arguments)}function Et(A,g,y){var R;at((null===(R=y.url)||void 0===R?void 0:R.length)>0,A,"invalid-continue-uri"),at(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),at(typeof y.linkDomain>"u"||y.linkDomain.length>0,A,"invalid-hosting-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.linkDomain=y.linkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(at(y.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(at(y.android.packageName.length>0,A,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function st(A){return yt.apply(this,arguments)}function yt(){return(yt=(0,w.A)(function*(A){const g=Cn(A);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function ut(A,g,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,w.A)(function*(A,g,y){const R=Cn(A),G={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};y&&Et(R,G,y),yield Ee(R,G,"getOobCode",Fa,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function dr(A,g,y){return ir.apply(this,arguments)}function ir(){return(ir=(0,w.A)(function*(A,g,y){if((0,ne.xZ)(A.app))return Promise.reject(pt(A));const R=Cn(A),Xe=yield Ee(R,{returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wa,"EMAIL_PASSWORD_PROVIDER").catch(un=>{throw"auth/password-does-not-meet-requirements"===un.code&&st(A),un}),It=yield ro._fromIdTokenResponse(R,"signIn",Xe);return yield R._updateCurrentUser(It.user),It})).apply(this,arguments)}function yn(A,g,y){return(0,ne.xZ)(A.app)?Promise.reject(pt(A)):function Xs(A,g){return E.apply(this,arguments)}((0,ee.Ku)(A),Di.credential(g,y)).catch(function(){var R=(0,w.A)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&st(A),G});return function(G){return R.apply(this,arguments)}}())}function ps(A,g){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,w.A)(function*(A,g){const y=(0,ee.Ku)(A),G={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};g&&Et(y.auth,G,g);const{email:de}=yield function Ni(A,g){return Ki.apply(this,arguments)}(y.auth,G);de!==A.email&&(yield A.reload())}),Dr.apply(this,arguments)}function Gu(A,g){return function Ec(A,g,y){return Ko.apply(this,arguments)}((0,ee.Ku)(A),null,g)}function Ko(){return Ko=(0,w.A)(function*(A,g,y){const{auth:R}=A,de={idToken:yield A.getIdToken(),returnSecureToken:!0};g&&(de.email=g),y&&(de.password=y);const Xe=yield An(A,function Mi(A,g){return Os.apply(this,arguments)}(R,de));yield A._updateTokensIfNecessary(Xe,!0)}),Ko.apply(this,arguments)}function Ku(A,g){return(0,ee.Ku)(A).setPersistence(g)}function Ds(A,g,y,R){return(0,ee.Ku)(A).onIdTokenChanged(g,y,R)}function Hs(A,g,y,R){return(0,ee.Ku)(A).onAuthStateChanged(g,y,R)}function ca(A){return(0,ee.Ku)(A).signOut()}const sl="__sak";class wc{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(sl,"1"),this.storage.removeItem(sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const M=(()=>{class A extends wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,R)=>this.onStorageEvent(y,R),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const R of Object.keys(this.listeners)){const G=this.storage.getItem(R),de=this.localCache[R];G!==de&&y(R,de,G)}}onStorageEvent(y,R=!1){if(!y.key)return void this.forAllChangedKeys((It,un,Zn)=>{this.notifyListeners(It,Zn)});const G=y.key;R?this.detachListener():this.stopPolling();const de=()=>{const It=this.storage.getItem(G);!R&&this.localCache[G]===It||this.notifyListeners(G,It)},Xe=this.storage.getItem(G);!function $t(){return(0,ee.lT)()&&10===document.documentMode}()||Xe===y.newValue||y.newValue===y.oldValue?de():setTimeout(de,10)}notifyListeners(y,R){this.localCache[y]=R;const G=this.listeners[y];if(G)for(const de of Array.from(G))de(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,R,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:R,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(R)}_removeListener(y,R){this.listeners[y]&&(this.listeners[y].delete(R),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,R){var G=()=>super._set,de=this;return(0,w.A)(function*(){yield G().call(de,y,R),de.localCache[y]=JSON.stringify(R)})()}_get(y){var R=()=>super._get,G=this;return(0,w.A)(function*(){const de=yield R().call(G,y);return G.localCache[y]=JSON.stringify(de),de})()}_remove(y){var R=()=>super._remove,G=this;return(0,w.A)(function*(){yield R().call(G,y),delete G.localCache[y]})()}}return A.type="LOCAL",A})(),Wn=(()=>{class A extends wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,R){}_removeListener(y,R){}}return A.type="SESSION",A})();let ui=(()=>{class A{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const R=this.receivers.find(de=>de.isListeningto(y));if(R)return R;const G=new A(y);return this.receivers.push(G),G}isListeningto(y){return this.eventTarget===y}handleEvent(y){var R=this;return(0,w.A)(function*(){const G=y,{eventId:de,eventType:Xe,data:It}=G.data,un=R.handlersMap[Xe];if(!un?.size)return;G.ports[0].postMessage({status:"ack",eventId:de,eventType:Xe});const Zn=Array.from(un).map(function(){var Mr=(0,w.A)(function*(Ii){return Ii(G.origin,It)});return function(Ii){return Mr.apply(this,arguments)}}()),br=yield function Tr(A){return Promise.all(A.map(function(){var g=(0,w.A)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(R){return{fulfilled:!1,reason:R}}});return function(y){return g.apply(this,arguments)}}()))}(Zn);G.ports[0].postMessage({status:"done",eventId:de,eventType:Xe,response:br})})()}_subscribe(y,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(R)}_unsubscribe(y,R){this.handlersMap[y]&&R&&this.handlersMap[y].delete(R),(!R||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function Ws(A="",g=10){let y="";for(let R=0;R<g;R++)y+=Math.floor(10*Math.random());return A+y}class ha{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y){var R=this;return(0,w.A)(function*(G,de,Xe=50){const It=typeof MessageChannel<"u"?new MessageChannel:null;if(!It)throw new Error("connection_unavailable");let un,Zn;return new Promise((br,Mr)=>{const Ii=Ws("",20);It.port1.start();const Js=setTimeout(()=>{Mr(new Error("unsupported_event"))},Xe);Zn={messageChannel:It,onMessage(Ba){const jc=Ba;if(jc.data.eventId===Ii)switch(jc.data.status){case"ack":clearTimeout(Js),un=setTimeout(()=>{Mr(new Error("timeout"))},3e3);break;case"done":clearTimeout(un),br(jc.data.response);break;default:clearTimeout(Js),clearTimeout(un),Mr(new Error("invalid_response"))}}},R.handlers.add(Zn),It.port1.addEventListener("message",Zn.onMessage),R.target.postMessage({eventType:G,eventId:Ii,data:de},[It.port2])}).finally(()=>{Zn&&R.removeMessageHandler(Zn)})}).apply(this,arguments)}}function Ci(){return window}function di(){return typeof Ci().WorkerGlobalScope<"u"&&"function"==typeof Ci().importScripts}function fa(){return(fa=(0,w.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cu="firebaseLocalStorageDb",Ol="firebaseLocalStorage",Xu="fbase_key";class Ra{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ol(A,g){return A.transaction([Ol],g?"readwrite":"readonly").objectStore(Ol)}function Fh(){const A=indexedDB.open(Cu,1);return new Promise((g,y)=>{A.addEventListener("error",()=>{y(A.error)}),A.addEventListener("upgradeneeded",()=>{const R=A.result;try{R.createObjectStore(Ol,{keyPath:Xu})}catch(G){y(G)}}),A.addEventListener("success",(0,w.A)(function*(){const R=A.result;R.objectStoreNames.contains(Ol)?g(R):(R.close(),yield function qo(){const A=indexedDB.deleteDatabase(Cu);return new Ra(A).toPromise()}(),g(yield Fh()))}))})}function ou(A,g,y){return au.apply(this,arguments)}function au(){return(au=(0,w.A)(function*(A,g,y){const R=ol(A,!0).put({[Xu]:g,value:y});return new Ra(R).toPromise()})).apply(this,arguments)}function Ac(){return(Ac=(0,w.A)(function*(A,g){const y=ol(A,!1).get(g),R=yield new Ra(y).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Du(A,g){const y=ol(A,!0).delete(g);return new Ra(y).toPromise()}const Su=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,w.A)(function*(){return y.db||(y.db=yield Fh()),y.db})()}_withRetries(y){var R=this;return(0,w.A)(function*(){let G=0;for(;;)try{const de=yield R._openDb();return yield y(de)}catch(de){if(G++>3)throw de;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,w.A)(function*(){return di()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,w.A)(function*(){y.receiver=ui._getInstance(function Pd(){return di()?self:null}()),y.receiver._subscribe("keyChanged",function(){var R=(0,w.A)(function*(G,de){return{keyProcessed:(yield y._poll()).includes(de.key)}});return function(G,de){return R.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var R=(0,w.A)(function*(G,de){return["keyChanged"]});return function(G,de){return R.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,w.A)(function*(){var R,G;if(y.activeServiceWorker=yield function Au(){return fa.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ha(y.activeServiceWorker);const de=yield y.sender._send("ping",{},800);de&&null!==(R=de[0])&&void 0!==R&&R.fulfilled&&null!==(G=de[0])&&void 0!==G&&G.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var R=this;return(0,w.A)(function*(){if(R.sender&&R.activeServiceWorker&&function Si(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:y},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.A)(function*(){try{if(!indexedDB)return!1;const y=yield Fh();return yield ou(y,sl,"1"),yield Du(y,sl),!0}catch{}return!1})()}_withPendingWrite(y){var R=this;return(0,w.A)(function*(){R.pendingWrites++;try{yield y()}finally{R.pendingWrites--}})()}_set(y,R){var G=this;return(0,w.A)(function*(){return G._withPendingWrite((0,w.A)(function*(){return yield G._withRetries(de=>ou(de,y,R)),G.localCache[y]=R,G.notifyServiceWorker(y)}))})()}_get(y){var R=this;return(0,w.A)(function*(){const G=yield R._withRetries(de=>function Ro(A,g){return Ac.apply(this,arguments)}(de,y));return R.localCache[y]=G,G})()}_remove(y){var R=this;return(0,w.A)(function*(){return R._withPendingWrite((0,w.A)(function*(){return yield R._withRetries(G=>Du(G,y)),delete R.localCache[y],R.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,w.A)(function*(){const R=yield y._withRetries(Xe=>{const It=ol(Xe,!1).getAll();return new Ra(It).toPromise()});if(!R)return[];if(0!==y.pendingWrites)return[];const G=[],de=new Set;if(0!==R.length)for(const{fbase_key:Xe,value:It}of R)de.add(Xe),JSON.stringify(y.localCache[Xe])!==JSON.stringify(It)&&(y.notifyListeners(Xe,It),G.push(Xe));for(const Xe of Object.keys(y.localCache))y.localCache[Xe]&&!de.has(Xe)&&(y.notifyListeners(Xe,null),G.push(Xe));return G})()}notifyListeners(y,R){this.localCache[y]=R;const G=this.listeners[y];if(G)for(const de of Array.from(G))de(R)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,w.A)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(R)}_removeListener(y,R){this.listeners[y]&&(this.listeners[y].delete(R),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();function Ma(A,g){return g?Br(g):(at(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}fn("rcb"),new Pr(3e4,6e4);class Zr extends Jn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Vi(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Vi(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Vi(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Vh(A){return qi(A.auth,new Zr(A),A.bypassAuthState)}function Dc(A){const{auth:g,user:y}=A;return at(y,g,"internal-error"),function rr(A,g){return Fr.apply(this,arguments)}(y,new Zr(A),A.bypassAuthState)}function tc(A){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,w.A)(function*(A){const{auth:g,user:y}=A;return at(y,g,"internal-error"),function z(A,g){return N.apply(this,arguments)}(y,new Zr(A),A.bypassAuthState)})).apply(this,arguments)}class jf{constructor(g,y,R,G,de=!1){this.auth=g,this.resolver=R,this.user=G,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,w.A)(function*(R,G){g.pendingPromise={resolve:R,reject:G};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(de){g.reject(de)}});return function(R,G){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,w.A)(function*(){const{urlResponse:R,sessionId:G,postBody:de,tenantId:Xe,error:It,type:un}=g;if(It)return void y.reject(It);const Zn={auth:y.auth,requestUri:R,sessionId:G,tenantId:Xe||void 0,postBody:de||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(un)(Zn))}catch(br){y.reject(br)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Vh;case"linkViaPopup":case"linkViaRedirect":return tc;case"reauthViaPopup":case"reauthViaRedirect":return Dc;default:Wt(this.auth,"internal-error")}}resolve(g){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nc=new Pr(2e3,1e4);function Qp(A,g,y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,w.A)(function*(A,g,y){if((0,ne.xZ)(A.app))return Promise.reject(We(A,"operation-not-supported-in-this-environment"));const R=Cn(A);!function kt(A,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Wt(A,"argument-error"),St(A,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(A,g,Yi);const G=Ma(R,y);return new Xo(R,"signInViaPopup",g,G).executeNotNull()})).apply(this,arguments)}let Xo=(()=>{class A extends jf{constructor(y,R,G,de,Xe){super(y,R,de,Xe),this.provider=G,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var y=this;return(0,w.A)(function*(){const R=yield y.execute();return at(R,y.auth,"internal-error"),R})()}onExecution(){var y=this;return(0,w.A)(function*(){Or(1===y.filter.length,"Popup operations only handle one event");const R=Ws();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],R),y.authWindow.associatedEvent=R,y.resolver._originValidation(y.auth).catch(G=>{y.reject(G)}),y.resolver._isIframeWebStorageSupported(y.auth,G=>{G||y.reject(We(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const y=()=>{var R,G;this.pollId=null!==(G=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,nc.get())};y()}}return A.currentPopupAction=null,A})();const Ga=new Map;class ul extends jf{constructor(g,y,R=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,R),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,w.A)(function*(){let R=Ga.get(y.auth._key());if(!R){try{const de=(yield function $f(A,g){return Ka.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;R=()=>Promise.resolve(de)}catch(G){R=()=>Promise.reject(G)}Ga.set(y.auth._key(),R)}return y.bypassAuthState||Ga.set(y.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,R=this;return(0,w.A)(function*(){if("signInViaRedirect"===g.type)return y().call(R,g);if("unknown"!==g.type){if(g.eventId){const G=yield R.auth._redirectUserForId(g.eventId);if(G)return R.user=G,y().call(R,g);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,w.A)(function*(){})()}cleanUp(){}}function Ka(){return(Ka=(0,w.A)(function*(A,g){const y=function Nd(A){return he("pendingRedirect",A.config.apiKey,A.name)}(g),R=function Rc(A){return Br(A._redirectPersistence)}(A);if(!(yield R._isAvailable()))return!1;const G="true"===(yield R._get(y));return yield R._remove(y),G})).apply(this,arguments)}function sa(A,g){Ga.set(A._key(),g)}function Mc(A,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,w.A)(function*(A,g,y=!1){if((0,ne.xZ)(A.app))return Promise.reject(pt(A));const R=Cn(A),G=Ma(R,g),Xe=yield new ul(R,G,y).execute();return Xe&&!y&&(delete Xe.user._redirectEventId,yield R._persistUserIfCurrent(Xe.user),yield R._setRedirectUser(null,g)),Xe})).apply(this,arguments)}class ys{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(g,R)&&(y=!0,this.sendToConsumer(g,R),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function xc(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ll(A);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var R;if(g.error&&!Ll(g)){const G=(null===(R=g.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";y.onError(We(this.auth,G))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const R=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&R}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(g))}saveEventToCache(g){this.cachedEventUids.add($i(g)),this.lastProcessedEventTime=Date.now()}}function $i(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(g=>g).join("-")}function Ll({type:A,error:g}){return"unknown"===A&&"auth/no-auth-event"===g?.code}function Lc(){return(Lc=(0,w.A)(function*(A,g={}){return qe(A,"GET","/v1/projects",g)})).apply(this,arguments)}const Hf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vl=/^https?/;function ma(){return ma=(0,w.A)(function*(A){if(A.config.emulator)return;const{authorizedDomains:g}=yield function Fc(A){return Lc.apply(this,arguments)}(A);for(const y of g)try{if(qa(y))return}catch{}Wt(A,"unauthorized-domain")}),ma.apply(this,arguments)}function qa(A){const g=Hr(),{protocol:y,hostname:R}=new URL(g);if(A.startsWith("chrome-extension://")){const Xe=new URL(A);return""===Xe.hostname&&""===R?"chrome-extension:"===y&&A.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Xe.hostname===R}if(!Vl.test(y))return!1;if(Hf.test(A))return R===A;const G=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(R)}const pu=new Pr(3e4,6e4);function Mu(){const A=Ci().___jsl;if(A?.H)for(const g of Object.keys(A.H))if(A.H[g].r=A.H[g].r||[],A.H[g].L=A.H[g].L||[],A.H[g].r=[...A.H[g].L],A.CP)for(let y=0;y<A.CP.length;y++)A.CP[y]=null}let Fd=null;const Cy=new Pr(5e3,15e3),Vd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ic(A){const g=A.config;at(g.authDomain,A,"auth-domain-config-required");const y=g.emulator?yi(g,"emulator/auth/iframe"):`https://${A.config.authDomain}/__/auth/iframe`,R={apiKey:g.apiKey,appName:A.name,v:ne.MF},G=Wf.get(A.config.apiHost);G&&(R.eid=G);const de=A._getFrameworks();return de.length&&(R.fw=de.join(",")),`${y}?${(0,ee.Am)(R).slice(1)}`}function ku(){return ku=(0,w.A)(function*(A){const g=yield function Ld(A){return Fd=Fd||function xd(A){return new Promise((g,y)=>{var R,G,de;function Xe(){Mu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Mu(),y(We(A,"network-request-failed"))},timeout:pu.get()})}if(null!==(G=null===(R=Ci().gapi)||void 0===R?void 0:R.iframes)&&void 0!==G&&G.Iframe)g(gapi.iframes.getContext());else{if(null===(de=Ci().gapi)||void 0===de||!de.load){const It=fn("iframefcb");return Ci()[It]=()=>{gapi.load?Xe():y(We(A,"network-request-failed"))},Gi(`${function Pt(){return zt.gapiScript}()}?onload=${It}`).catch(un=>y(un))}Xe()}}).catch(g=>{throw Fd=null,g})}(A),Fd}(A),y=Ci().gapi;return at(y,A,"internal-error"),g.open({where:document.body,url:ic(A),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vd,dontclear:!0},R=>new Promise(function(){var G=(0,w.A)(function*(de,Xe){yield R.restyle({setHideOnLeave:!1});const It=We(A,"network-request-failed"),un=Ci().setTimeout(()=>{Xe(It)},Cy.get());function Zn(){Ci().clearTimeout(un),de(R)}R.ping(Zn).then(Zn,()=>{Xe(It)})});return function(de,Xe){return G.apply(this,arguments)}}()))}),ku.apply(this,arguments)}const Ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zf{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zp=encodeURIComponent("fac");function Nu(A,g,y,R,G,de){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,w.A)(function*(A,g,y,R,G,de){at(A.config.authDomain,A,"auth-domain-config-required"),at(A.config.apiKey,A,"invalid-api-key");const Xe={apiKey:A.config.apiKey,appName:A.name,authType:y,redirectUrl:R,v:ne.MF,eventId:G};if(g instanceof Yi){g.setDefaultLanguage(A.languageCode),Xe.providerId=g.providerId||"",(0,ee.Im)(g.getCustomParameters())||(Xe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[br,Mr]of Object.entries(de||{}))Xe[br]=Mr}if(g instanceof ua){const br=g.getScopes().filter(Mr=>""!==Mr);br.length>0&&(Xe.scopes=br.join(","))}A.tenantId&&(Xe.tid=A.tenantId);const It=Xe;for(const br of Object.keys(It))void 0===It[br]&&delete It[br];const un=yield A._getAppCheckToken(),Zn=un?`#${Zp}=${encodeURIComponent(un)}`:"";return`${function jl({config:A}){return A.emulator?yi(A,"emulator/auth/handler"):`https://${A.authDomain}/__/auth/handler`}(A)}?${(0,ee.Am)(It).slice(1)}${Zn}`})).apply(this,arguments)}const ac="webStorageSupport",eg=class $l{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wn,this._completeRedirectFn=Mc,this._overrideRedirectResult=sa}_openPopup(g,y,R,G){var de=this;return(0,w.A)(function*(){var Xe;Or(null===(Xe=de.eventManagers[g._key()])||void 0===Xe?void 0:Xe.manager,"_initialize() not called before _openPopup()");const It=yield Nu(g,y,R,Hr(),G);return function Gf(A,g,y,R=500,G=600){const de=Math.max((window.screen.availHeight-G)/2,0).toString(),Xe=Math.max((window.screen.availWidth-R)/2,0).toString();let It="";const un=Object.assign(Object.assign({},Ou),{width:R.toString(),height:G.toString(),top:de,left:Xe}),Zn=(0,ee.ZQ)().toLowerCase();y&&(It=tr(Zn)?"_blank":y),Zt(Zn)&&(g=g||"http://localhost",un.scrollbars="yes");const br=Object.entries(un).reduce((Ii,[Js,Ba])=>`${Ii}${Js}=${Ba},`,"");if(function At(A=(0,ee.ZQ)()){var g;return fe(A)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Zn)&&"_self"!==It)return function oc(A,g){const y=document.createElement("a");y.href=A,y.target=g;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(R)}(g||"",It),new zf(null);const Mr=window.open(g||"",It,br);at(Mr,A,"popup-blocked");try{Mr.focus()}catch{}return new zf(Mr)}(g,It,Ws())})()}_openRedirect(g,y,R,G){var de=this;return(0,w.A)(function*(){return yield de._originValidation(g),function Va(A){Ci().location.href=A}(yield Nu(g,y,R,Hr(),G)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:G,promise:de}=this.eventManagers[y];return G?Promise.resolve(G):(Or(de,"If manager is not set, promise should be"),de)}const R=this.initAndGetManager(g);return this.eventManagers[y]={promise:R},R.catch(()=>{delete this.eventManagers[y]}),R}initAndGetManager(g){var y=this;return(0,w.A)(function*(){const R=yield function Jp(A){return ku.apply(this,arguments)}(g),G=new ys(g);return R.register("authEvent",de=>(at(de?.authEvent,g,"invalid-auth-event"),{status:G.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:G},y.iframes[g._key()]=R,G})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(ac,{type:ac},G=>{var de;const Xe=null===(de=G?.[0])||void 0===de?void 0:de[ac];void 0!==Xe&&y(!!Xe),Wt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Vc(A){return ma.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Vn()||Oe()||fe()}};var Kf="@firebase/auth";class Hh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,w.A)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(R=>{g(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hl=(0,ee.XA)("authIdTokenMaxAge")||300;let Wh=null;const qf=A=>function(){var g=(0,w.A)(function*(y){const R=y&&(yield y.getIdTokenResult()),G=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(G&&G>hl)return;const de=R?.token;Wh!==de&&(Wh=de,yield fetch(A,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(y){return g.apply(this,arguments)}}();function ng(A=(0,ne.Sx)()){const g=(0,ne.j6)(A,"auth");if(g.isInitialized())return g.getImmediate();const y=function bt(A,g){const y=(0,ne.j6)(A,"auth");if(y.isInitialized()){const G=y.getImmediate(),de=y.getOptions();if((0,ee.bD)(de,g??{}))return G;Wt(G,"already-initialized")}return y.initialize({options:g})}(A,{popupRedirectResolver:eg,persistence:[Su,M,Wn]}),R=(0,ee.XA)("authTokenSyncURL");if(R&&"boolean"==typeof isSecureContext&&isSecureContext){const de=new URL(R,location.origin);if(location.origin===de.origin){const Xe=qf(de.toString());(function Sa(A,g,y){(0,ee.Ku)(A).beforeAuthStateChanged(g,y)})(y,Xe,()=>Xe(y.currentUser)),Ds(y,It=>Xe(It))}}const G=(0,ee.Tj)("auth");return G&&function hr(A,g,y){const R=Cn(A);at(/^https?:\/\//.test(g),R,"invalid-emulator-scheme");const G=!!y?.disableWarnings,de=_r(g),{host:Xe,port:It}=function oi(A){const g=_r(A),y=/(\/\/)?([^?#/]+)/.exec(A.substr(g.length));if(!y)return{host:"",port:null};const R=y[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(R);if(G){const de=G[1];return{host:de,port:li(R.substr(de.length+1))}}{const[de,Xe]=R.split(":");return{host:de,port:li(Xe)}}}(g),un=null===It?"":`:${It}`,Zn={url:`${de}//${Xe}${un}/`},br=Object.freeze({host:Xe,port:It,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:G})});if(!R._canInitEmulator)return at(R.config.emulator&&R.emulatorConfig,R,"emulator-config-failed"),void at((0,ee.bD)(Zn,R.config.emulator)&&(0,ee.bD)(br,R.emulatorConfig),R,"emulator-config-failed");R.config.emulator=Zn,R.emulatorConfig=br,R.settings.appVerificationDisabledForTesting=!0,(0,ee.zJ)(Xe)?((0,ee.gE)(`${de}//${Xe}${un}`),(0,ee.P1)("Auth",!0)):G||function zr(){function A(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(y,`http://${G}`),y}(function fi(A){zt=A})({loadJS:A=>new Promise((g,y)=>{const R=document.createElement("script");R.setAttribute("src",A),R.onload=g,R.onerror=G=>{const de=We("internal-error");de.customData=G,y(de)},R.type="text/javascript",R.charset="UTF-8",function Lu(){var A,g;return null!==(g=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==g?g:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Bc(A){(0,ne.om)(new ye.uA("auth",(g,{options:y})=>{const R=g.getProvider("app").getImmediate(),G=g.getProvider("heartbeat"),de=g.getProvider("app-check-internal"),{apiKey:Xe,authDomain:It}=R.options;at(Xe&&!Xe.includes(":"),"invalid-api-key",{appName:R.name});const un={apiKey:Xe,authDomain:It,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(A)},Zn=new gn(R,G,de,un);return function Bt(A,g){const y=g?.persistence||[],R=(Array.isArray(y)?y:[y]).map(Br);g?.errorMap&&A._updateErrorMap(g.errorMap),A._initializeWithPersistence(R,g?.popupRedirectResolver)}(Zn,y),Zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,R)=>{g.getProvider("auth-internal").initialize()})),(0,ne.om)(new ye.uA("auth-internal",g=>{const y=Cn(g.getProvider("auth").getImmediate());return new Hh(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.KO)(Kf,"1.10.8",function uc(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,ne.KO)(Kf,"1.10.8","esm2017")}("Browser")},4807:(Xn,Tt,B)=>{"use strict";B.d(Tt,{H:()=>ee});var w=B(3422),ne=B(4418);function ee(Re,re){return(0,ne.T)(re)?(0,w.Z)(Re,re,1):(0,w.Z)(Re,1)}},4808:(Xn,Tt,B)=>{"use strict";B.d(Tt,{U:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},4929:(Xn,Tt,B)=>{"use strict";B.d(Tt,{E:()=>ee,b:()=>Re});var w=B(1227);const ee=new(B(1246).q)(w.R),Re=ee},5206:(Xn,Tt,B)=>{"use strict";B.d(Tt,{X:()=>w});const w=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},5717:(Xn,Tt,B)=>{"use strict";B.d(Tt,{y:()=>ne});var w=B(4418);function ne(ee){return(0,w.T)(ee?.then)}},5804:(Xn,Tt,B)=>{"use strict";B.d(Tt,{_:()=>ee});var w=B(943),ne=B(4500);function ee(Re,re){const ye="object"==typeof re;return new Promise((Fe,De)=>{const rt=new ne.Ms({next:ve=>{Fe(ve),rt.unsubscribe()},error:De,complete:()=>{ye?Fe(re.defaultValue):De(new w.G)}});Re.subscribe(rt)})}},5981:(Xn,Tt,B)=>{"use strict";B.d(Tt,{t:()=>ne});var w=B(6104);class ne extends w.B{constructor(Re){super(),this._value=Re}get value(){return this.getValue()}_subscribe(Re){const re=super._subscribe(Re);return!re.closed&&Re.next(this._value),re}getValue(){const{hasError:Re,thrownError:re,_value:ye}=this;if(Re)throw re;return this._throwIfClosed(),ye}next(Re){super.next(this._value=Re)}}},6104:(Xn,Tt,B)=>{"use strict";B.d(Tt,{B:()=>Fe});var w=B(9406),ne=B(2029);const Re=(0,B(4520).L)(rt=>function(){rt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=B(9583),ye=B(2895);let Fe=(()=>{class rt extends w.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const lt=new De(this,this);return lt.operator=Ie,lt}_throwIfClosed(){if(this.closed)throw new Re}next(Ie){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const lt of this.currentObservers)lt.next(Ie)}})}error(Ie){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:lt}=this;for(;lt.length;)lt.shift().error(Ie)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:lt,isStopped:ht,observers:mt}=this;return lt||ht?ne.Kn:(this.currentObservers=null,mt.push(Ie),new ne.yU(()=>{this.currentObservers=null,(0,re.o)(mt,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:lt,thrownError:ht,isStopped:mt}=this;lt?Ie.error(ht):mt&&Ie.complete()}asObservable(){const Ie=new w.c;return Ie.source=this,Ie}}return rt.create=(ve,Ie)=>new De(ve,Ie),rt})();class De extends Fe{constructor(ve,Ie){super(),this.destination=ve,this.source=Ie}next(ve){var Ie,lt;null===(lt=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===lt||lt.call(Ie,ve)}error(ve){var Ie,lt;null===(lt=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===lt||lt.call(Ie,ve)}complete(){var ve,Ie;null===(Ie=null===(ve=this.destination)||void 0===ve?void 0:ve.complete)||void 0===Ie||Ie.call(ve)}_subscribe(ve){var Ie,lt;return null!==(lt=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(ve))&&void 0!==lt?lt:ne.Kn}}},6106:(Xn,Tt,B)=>{"use strict";B.d(Tt,{F:()=>ne,m:()=>ee});var w=B(9656);function ne(...Re){return ee(Re)}function ee(Re){return 0===Re.length?w.D:1===Re.length?Re[0]:function(ye){return Re.reduce((Fe,De)=>De(Fe),ye)}}},6111:(Xn,Tt,B)=>{"use strict";B.d(Tt,{_:()=>ne});var w=B(4500);function ne(Re,re,ye,Fe,De){return new ee(Re,re,ye,Fe,De)}class ee extends w.vU{constructor(re,ye,Fe,De,rt,ve){super(re),this.onFinalize=rt,this.shouldUnsubscribe=ve,this._next=ye?function(Ie){try{ye(Ie)}catch(lt){re.error(lt)}}:super._next,this._error=De?function(Ie){try{De(Ie)}catch(lt){re.error(lt)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(Ie){re.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},6171:(Xn,Tt,B)=>{"use strict";B.d(Tt,{f:()=>w});const w={setTimeout(ne,ee,...Re){const{delegate:re}=w;return re?.setTimeout?re.setTimeout(ne,ee,...Re):setTimeout(ne,ee,...Re)},clearTimeout(ne){const{delegate:ee}=w;return(ee?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},6219:(Xn,Tt,B)=>{"use strict";B.d(Tt,{I:()=>Re});var w=B(3527);const{isArray:ne}=Array;function Re(re){return(0,w.T)(ye=>function ee(re,ye){return ne(ye)?re(...ye):re(ye)}(re,ye))}},6246:(Xn,Tt,B)=>{"use strict";B.d(Tt,{L:()=>Yn});var w={};B.r(w),B.d(w,{Decoder:()=>zi,Encoder:()=>Br,PacketType:()=>$n,protocol:()=>er});var ne=B(3308);const ee=Object.create(null);ee.open="0",ee.close="1",ee.ping="2",ee.pong="3",ee.message="4",ee.upgrade="5",ee.noop="6";const Re=Object.create(null);Object.keys(ee).forEach(ce=>{Re[ee[ce]]=ce});const re={type:"error",data:"parser error"},ye="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Fe="function"==typeof ArrayBuffer,De=ce=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(ce):ce&&ce.buffer instanceof ArrayBuffer,rt=({type:ce,data:H},$,te)=>ye&&H instanceof Blob?$?te(H):ve(H,te):Fe&&(H instanceof ArrayBuffer||De(H))?$?te(H):ve(new Blob([H]),te):te(ee[ce]+(H||"")),ve=(ce,H)=>{const $=new FileReader;return $.onload=function(){const te=$.result.split(",")[1];H("b"+(te||""))},$.readAsDataURL(ce)};function Ie(ce){return ce instanceof Uint8Array?ce:ce instanceof ArrayBuffer?new Uint8Array(ce):new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength)}let lt;const Jt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let ce=0;ce<64;ce++)Jt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(ce)]=ce;const dn="function"==typeof ArrayBuffer,Kt=(ce,H)=>{if("string"!=typeof ce)return{type:"message",data:Wt(ce,H)};const $=ce.charAt(0);return"b"===$?{type:"message",data:Ut(ce.substring(1),H)}:Re[$]?ce.length>1?{type:Re[$],data:ce.substring(1)}:{type:Re[$]}:re},Ut=(ce,H)=>{if(dn){const $=(ce=>{let te,gn,Cn,cr,zt,H=.75*ce.length,$=ce.length,Je=0;"="===ce[ce.length-1]&&(H--,"="===ce[ce.length-2]&&H--);const fi=new ArrayBuffer(H),Gi=new Uint8Array(fi);for(te=0;te<$;te+=4)gn=Jt[ce.charCodeAt(te)],Cn=Jt[ce.charCodeAt(te+1)],cr=Jt[ce.charCodeAt(te+2)],zt=Jt[ce.charCodeAt(te+3)],Gi[Je++]=gn<<2|Cn>>4,Gi[Je++]=(15&Cn)<<4|cr>>2,Gi[Je++]=(3&cr)<<6|63&zt;return fi})(ce);return Wt($,H)}return{base64:!0,data:ce}},Wt=(ce,H)=>"blob"===H?ce instanceof Blob?ce:new Blob([ce]):ce instanceof ArrayBuffer?ce:ce.buffer;let Rt;function at(ce){return ce.reduce((H,$)=>H+$.length,0)}function kn(ce,H){if(ce[0].length===H)return ce.shift();const $=new Uint8Array(H);let te=0;for(let Je=0;Je<H;Je++)$[Je]=ce[0][te++],te===ce[0].length&&(ce.shift(),te=0);return ce.length&&te<ce[0].length&&(ce[0]=ce[0].slice(te)),$}function pr(ce){if(ce)return function Wr(ce){for(var H in pr.prototype)ce[H]=pr.prototype[H];return ce}(ce)}pr.prototype.on=pr.prototype.addEventListener=function(ce,H){return this._callbacks=this._callbacks||{},(this._callbacks["$"+ce]=this._callbacks["$"+ce]||[]).push(H),this},pr.prototype.once=function(ce,H){function $(){this.off(ce,$),H.apply(this,arguments)}return $.fn=H,this.on(ce,$),this},pr.prototype.off=pr.prototype.removeListener=pr.prototype.removeAllListeners=pr.prototype.removeEventListener=function(ce,H){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var $=this._callbacks["$"+ce];if(!$)return this;if(1==arguments.length)return delete this._callbacks["$"+ce],this;for(var te,Je=0;Je<$.length;Je++)if((te=$[Je])===H||te.fn===H){$.splice(Je,1);break}return 0===$.length&&delete this._callbacks["$"+ce],this},pr.prototype.emitReserved=pr.prototype.emit=function(ce){this._callbacks=this._callbacks||{};for(var H=new Array(arguments.length-1),$=this._callbacks["$"+ce],te=1;te<arguments.length;te++)H[te-1]=arguments[te];if($){te=0;for(var Je=($=$.slice(0)).length;te<Je;++te)$[te].apply(this,H)}return this},pr.prototype.listeners=function(ce){return this._callbacks=this._callbacks||{},this._callbacks["$"+ce]||[]},pr.prototype.hasListeners=function(ce){return!!this.listeners(ce).length};const Nr="function"==typeof Promise&&"function"==typeof Promise.resolve?H=>Promise.resolve().then(H):(H,$)=>$(H,0),Ur=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ti(ce,...H){return H.reduce(($,te)=>(ce.hasOwnProperty(te)&&($[te]=ce[te]),$),{})}const Le=Ur.setTimeout,Ve=Ur.clearTimeout;function He(ce,H){H.useNativeTimers?(ce.setTimeoutFn=Le.bind(Ur),ce.clearTimeoutFn=Ve.bind(Ur)):(ce.setTimeoutFn=Ur.setTimeout.bind(Ur),ce.clearTimeoutFn=Ur.clearTimeout.bind(Ur))}function qe(ce){return"string"==typeof ce?function Nt(ce){let H=0,$=0;for(let te=0,Je=ce.length;te<Je;te++)H=ce.charCodeAt(te),H<128?$+=1:H<2048?$+=2:H<55296||H>=57344?$+=3:(te++,$+=4);return $}(ce):Math.ceil(1.33*(ce.byteLength||ce.size))}function Pn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Bn extends Error{constructor(H,$,te){super(H),this.description=$,this.context=te,this.type="TransportError"}}class Qr extends pr{constructor(H){super(),this.writable=!1,He(this,H),this.opts=H,this.query=H.query,this.socket=H.socket,this.supportsBinary=!H.forceBase64}onError(H,$,te){return super.emitReserved("error",new Bn(H,$,te)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(H){"open"===this.readyState&&this.write(H)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(H){const $=Kt(H,this.socket.binaryType);this.onPacket($)}onPacket(H){super.emitReserved("packet",H)}onClose(H){this.readyState="closed",super.emitReserved("close",H)}pause(H){}createUri(H,$={}){return H+"://"+this._hostname()+this._port()+this.opts.path+this._query($)}_hostname(){const H=this.opts.hostname;return-1===H.indexOf(":")?H:"["+H+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(H){const $=function sn(ce){let H="";for(let $ in ce)ce.hasOwnProperty($)&&(H.length&&(H+="&"),H+=encodeURIComponent($)+"="+encodeURIComponent(ce[$]));return H}(H);return $.length?"?"+$:""}}class Cr extends Qr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(H){this.readyState="pausing";const $=()=>{this.readyState="paused",H()};if(this._polling||!this.writable){let te=0;this._polling&&(te++,this.once("pollComplete",function(){--te||$()})),this.writable||(te++,this.once("drain",function(){--te||$()}))}else $()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(H){((ce,H)=>{const $=ce.split("\x1e"),te=[];for(let Je=0;Je<$.length;Je++){const gn=Kt($[Je],H);if(te.push(gn),"error"===gn.type)break}return te})(H,this.socket.binaryType).forEach(te=>{if("opening"===this.readyState&&"open"===te.type&&this.onOpen(),"close"===te.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(te)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const H=()=>{this.write([{type:"close"}])};"open"===this.readyState?H():this.once("open",H)}write(H){this.writable=!1,((ce,H)=>{const $=ce.length,te=new Array($);let Je=0;ce.forEach((gn,Cn)=>{rt(gn,!1,cr=>{te[Cn]=cr,++Je===$&&H(te.join("\x1e"))})})})(H,$=>{this.doWrite($,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const H=this.opts.secure?"https":"http",$=this.query||{};return!1!==this.opts.timestampRequests&&($[this.opts.timestampParam]=Pn()),!this.supportsBinary&&!$.sid&&($.b64=1),this.createUri(H,$)}}let Li=!1;try{Li=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const si=Li;function Xr(){}class ni extends Cr{constructor(H){if(super(H),typeof location<"u"){const $="https:"===location.protocol;let te=location.port;te||(te=$?"443":"80"),this.xd=typeof location<"u"&&H.hostname!==location.hostname||te!==H.port}}doWrite(H,$){const te=this.request({method:"POST",data:H});te.on("success",$),te.on("error",(Je,gn)=>{this.onError("xhr post error",Je,gn)})}doPoll(){const H=this.request();H.on("data",this.onData.bind(this)),H.on("error",($,te)=>{this.onError("xhr poll error",$,te)}),this.pollXhr=H}}let Jr=(()=>{class ce extends pr{constructor($,te,Je){super(),this.createRequest=$,He(this,Je),this._opts=Je,this._method=Je.method||"GET",this._uri=te,this._data=void 0!==Je.data?Je.data:null,this._create()}_create(){var $;const te=Ti(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");te.xdomain=!!this._opts.xd;const Je=this._xhr=this.createRequest(te);try{Je.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){Je.setDisableHeaderCheck&&Je.setDisableHeaderCheck(!0);for(let gn in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(gn)&&Je.setRequestHeader(gn,this._opts.extraHeaders[gn])}}catch{}if("POST"===this._method)try{Je.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{Je.setRequestHeader("Accept","*/*")}catch{}null===($=this._opts.cookieJar)||void 0===$||$.addCookies(Je),"withCredentials"in Je&&(Je.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(Je.timeout=this._opts.requestTimeout),Je.onreadystatechange=()=>{var gn;3===Je.readyState&&(null===(gn=this._opts.cookieJar)||void 0===gn||gn.parseCookies(Je.getResponseHeader("set-cookie"))),4===Je.readyState&&(200===Je.status||1223===Je.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof Je.status?Je.status:0)},0))},Je.send(this._data)}catch(gn){return void this.setTimeoutFn(()=>{this._onError(gn)},0)}typeof document<"u"&&(this._index=ce.requestsCount++,ce.requests[this._index]=this)}_onError($){this.emitReserved("error",$,this._xhr),this._cleanup(!0)}_cleanup($){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=Xr,$)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ce.requests[this._index],this._xhr=null}}_onLoad(){const $=this._xhr.responseText;null!==$&&(this.emitReserved("data",$),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return ce.requestsCount=0,ce.requests={},ce})();function Mn(){for(let ce in Jr.requests)Jr.requests.hasOwnProperty(ce)&&Jr.requests[ce].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Mn):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ur?"pagehide":"unload",Mn,!1));const Ar=function(){const ce=Yt({xdomain:!1});return ce&&null!==ce.responseType}();function Yt(ce){const H=ce.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!H||si))return new XMLHttpRequest}catch{}if(!H)try{return new(Ur[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const ft=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class en extends Qr{get name(){return"websocket"}doOpen(){const H=this.uri(),$=this.opts.protocols,te=ft?{}:Ti(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(te.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(H,$,te)}catch(Je){return this.emitReserved("error",Je)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=H=>this.onClose({description:"websocket connection closed",context:H}),this.ws.onmessage=H=>this.onData(H.data),this.ws.onerror=H=>this.onError("websocket error",H)}write(H){this.writable=!1;for(let $=0;$<H.length;$++){const te=H[$],Je=$===H.length-1;rt(te,this.supportsBinary,gn=>{try{this.doWrite(te,gn)}catch{}Je&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const H=this.opts.secure?"wss":"ws",$=this.query||{};return this.opts.timestampRequests&&($[this.opts.timestampParam]=Pn()),this.supportsBinary||($.b64=1),this.createUri(H,$)}}const Sn=Ur.WebSocket||Ur.MozWebSocket,on={websocket:class or extends en{createSocket(H,$,te){return ft?new Sn(H,$,te):$?new Sn(H,$):new Sn(H)}doWrite(H,$){this.ws.send($)}},webtransport:class gr extends Qr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(H){return this.emitReserved("error",H)}this._transport.closed.then(()=>{this.onClose()}).catch(H=>{this.onError("webtransport error",H)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(H=>{const $=function Or(ce,H){Rt||(Rt=new TextDecoder);const $=[];let te=0,Je=-1,gn=!1;return new TransformStream({transform(Cn,cr){for($.push(Cn);;){if(0===te){if(at($)<1)break;const zt=kn($,1);gn=!(128&~zt[0]),Je=127&zt[0],te=Je<126?3:126===Je?1:2}else if(1===te){if(at($)<2)break;const zt=kn($,2);Je=new DataView(zt.buffer,zt.byteOffset,zt.length).getUint16(0),te=3}else if(2===te){if(at($)<8)break;const zt=kn($,8),fi=new DataView(zt.buffer,zt.byteOffset,zt.length),Gi=fi.getUint32(0);if(Gi>Math.pow(2,21)-1){cr.enqueue(re);break}Je=Gi*Math.pow(2,32)+fi.getUint32(4),te=3}else{if(at($)<Je)break;const zt=kn($,Je);cr.enqueue(Kt(gn?zt:Rt.decode(zt),H)),te=0}if(0===Je||Je>ce){cr.enqueue(re);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),te=H.readable.pipeThrough($).getReader(),Je=function kt(){return new TransformStream({transform(ce,H){!function ht(ce,H){ye&&ce.data instanceof Blob?ce.data.arrayBuffer().then(Ie).then(H):Fe&&(ce.data instanceof ArrayBuffer||De(ce.data))?H(Ie(ce.data)):rt(ce,!1,$=>{lt||(lt=new TextEncoder),H(lt.encode($))})}(ce,$=>{const te=$.length;let Je;if(te<126)Je=new Uint8Array(1),new DataView(Je.buffer).setUint8(0,te);else if(te<65536){Je=new Uint8Array(3);const gn=new DataView(Je.buffer);gn.setUint8(0,126),gn.setUint16(1,te)}else{Je=new Uint8Array(9);const gn=new DataView(Je.buffer);gn.setUint8(0,127),gn.setBigUint64(1,BigInt(te))}ce.data&&"string"!=typeof ce.data&&(Je[0]|=128),H.enqueue(Je),H.enqueue($)})}})}();Je.readable.pipeTo(H.writable),this._writer=Je.writable.getWriter();const gn=()=>{te.read().then(({done:cr,value:zt})=>{cr||(this.onPacket(zt),gn())}).catch(cr=>{})};gn();const Cn={type:"open"};this.query.sid&&(Cn.data=`{"sid":"${this.query.sid}"}`),this._writer.write(Cn).then(()=>this.onOpen())})})}write(H){this.writable=!1;for(let $=0;$<H.length;$++){const Je=$===H.length-1;this._writer.write(H[$]).then(()=>{Je&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var H;null===(H=this._transport)||void 0===H||H.close()}},polling:class nn extends ni{constructor(H){super(H),this.supportsBinary=Ar&&!(H&&H.forceBase64)}request(H={}){return Object.assign(H,{xd:this.xd},this.opts),new Jr(Yt,this.uri(),H)}}},nr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ei(ce){if(ce.length>8e3)throw"URI too long";const H=ce,$=ce.indexOf("["),te=ce.indexOf("]");-1!=$&&-1!=te&&(ce=ce.substring(0,$)+ce.substring($,te).replace(/:/g,";")+ce.substring(te,ce.length));let Je=nr.exec(ce||""),gn={},Cn=14;for(;Cn--;)gn[mr[Cn]]=Je[Cn]||"";return-1!=$&&-1!=te&&(gn.source=H,gn.host=gn.host.substring(1,gn.host.length-1).replace(/;/g,":"),gn.authority=gn.authority.replace("[","").replace("]","").replace(/;/g,":"),gn.ipv6uri=!0),gn.pathNames=function Rn(ce,H){const te=H.replace(/\/{2,9}/g,"/").split("/");return("/"==H.slice(0,1)||0===H.length)&&te.splice(0,1),"/"==H.slice(-1)&&te.splice(te.length-1,1),te}(0,gn.path),gn.queryKey=function Nn(ce,H){const $={};return H.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(te,Je,gn){Je&&($[Je]=gn)}),$}(0,gn.query),gn}const ts="function"==typeof addEventListener&&"function"==typeof removeEventListener,ti=[];ts&&addEventListener("offline",()=>{ti.forEach(ce=>ce())},!1);let On=(()=>{class ce extends pr{constructor($,te){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,$&&"object"==typeof $&&(te=$,$=null),$){const Je=ei($);te.hostname=Je.host,te.secure="https"===Je.protocol||"wss"===Je.protocol,te.port=Je.port,Je.query&&(te.query=Je.query)}else te.host&&(te.hostname=ei(te.host).host);He(this,te),this.secure=null!=te.secure?te.secure:typeof location<"u"&&"https:"===location.protocol,te.hostname&&!te.port&&(te.port=this.secure?"443":"80"),this.hostname=te.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=te.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},te.transports.forEach(Je=>{const gn=Je.prototype.name;this.transports.push(gn),this._transportsByName[gn]=Je}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},te),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function ur(ce){let H={},$=ce.split("&");for(let te=0,Je=$.length;te<Je;te++){let gn=$[te].split("=");H[decodeURIComponent(gn[0])]=decodeURIComponent(gn[1])}return H}(this.opts.query)),ts&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ti.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport($){const te=Object.assign({},this.opts.query);te.EIO=4,te.transport=$,this.id&&(te.sid=this.id);const Je=Object.assign({},this.opts,{query:te,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[$]);return new this._transportsByName[$](Je)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const $=this.opts.rememberUpgrade&&ce.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const te=this.createTransport($);te.open(),this.setTransport(te)}setTransport($){this.transport&&this.transport.removeAllListeners(),this.transport=$,$.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",te=>this._onClose("transport close",te))}onOpen(){this.readyState="open",ce.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket($){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",$),this.emitReserved("heartbeat"),$.type){case"open":this.onHandshake(JSON.parse($.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const te=new Error("server error");te.code=$.data,this._onError(te);break;case"message":this.emitReserved("data",$.data),this.emitReserved("message",$.data)}}onHandshake($){this.emitReserved("handshake",$),this.id=$.sid,this.transport.query.sid=$.sid,this._pingInterval=$.pingInterval,this._pingTimeout=$.pingTimeout,this._maxPayload=$.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const $=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+$,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},$),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const $=this._getWritablePackets();this.transport.send($),this._prevBufferLen=$.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let te=1;for(let Je=0;Je<this.writeBuffer.length;Je++){const gn=this.writeBuffer[Je].data;if(gn&&(te+=qe(gn)),Je>0&&te>this._maxPayload)return this.writeBuffer.slice(0,Je);te+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const $=Date.now()>this._pingTimeoutTime;return $&&(this._pingTimeoutTime=0,Nr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),$}write($,te,Je){return this._sendPacket("message",$,te,Je),this}send($,te,Je){return this._sendPacket("message",$,te,Je),this}_sendPacket($,te,Je,gn){if("function"==typeof te&&(gn=te,te=void 0),"function"==typeof Je&&(gn=Je,Je=null),"closing"===this.readyState||"closed"===this.readyState)return;(Je=Je||{}).compress=!1!==Je.compress;const Cn={type:$,data:te,options:Je};this.emitReserved("packetCreate",Cn),this.writeBuffer.push(Cn),gn&&this.once("flush",gn),this.flush()}close(){const $=()=>{this._onClose("forced close"),this.transport.close()},te=()=>{this.off("upgrade",te),this.off("upgradeError",te),$()},Je=()=>{this.once("upgrade",te),this.once("upgradeError",te)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?Je():$()}):this.upgrading?Je():$()),this}_onError($){if(ce.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",$),this._onClose("transport error",$)}_onClose($,te){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ts&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const Je=ti.indexOf(this._offlineEventListener);-1!==Je&&ti.splice(Je,1)}this.readyState="closed",this.id=null,this.emitReserved("close",$,te),this.writeBuffer=[],this._prevBufferLen=0}}}return ce.protocol=4,ce})();class An extends On{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let H=0;H<this._upgrades.length;H++)this._probe(this._upgrades[H])}_probe(H){let $=this.createTransport(H),te=!1;On.priorWebsocketSuccess=!1;const Je=()=>{te||($.send([{type:"ping",data:"probe"}]),$.once("packet",Pe=>{if(!te)if("pong"===Pe.type&&"probe"===Pe.data){if(this.upgrading=!0,this.emitReserved("upgrading",$),!$)return;On.priorWebsocketSuccess="websocket"===$.name,this.transport.pause(()=>{te||"closed"!==this.readyState&&(Gi(),this.setTransport($),$.send([{type:"upgrade"}]),this.emitReserved("upgrade",$),$=null,this.upgrading=!1,this.flush())})}else{const Qe=new Error("probe error");Qe.transport=$.name,this.emitReserved("upgradeError",Qe)}}))};function gn(){te||(te=!0,Gi(),$.close(),$=null)}const Cn=Pe=>{const Qe=new Error("probe error: "+Pe);Qe.transport=$.name,gn(),this.emitReserved("upgradeError",Qe)};function cr(){Cn("transport closed")}function zt(){Cn("socket closed")}function fi(Pe){$&&Pe.name!==$.name&&gn()}const Gi=()=>{$.removeListener("open",Je),$.removeListener("error",Cn),$.removeListener("close",cr),this.off("close",zt),this.off("upgrading",fi)};$.once("open",Je),$.once("error",Cn),$.once("close",cr),this.once("close",zt),this.once("upgrading",fi),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==H?this.setTimeoutFn(()=>{te||$.open()},200):$.open()}onHandshake(H){this._upgrades=this._filterUpgrades(H.upgrades),super.onHandshake(H)}_filterUpgrades(H){const $=[];for(let te=0;te<H.length;te++)~this.transports.indexOf(H[te])&&$.push(H[te]);return $}}class Ui extends An{constructor(H,$={}){const te="object"==typeof H?H:$;(!te.transports||te.transports&&"string"==typeof te.transports[0])&&(te.transports=(te.transports||["polling","websocket","webtransport"]).map(Je=>on[Je]).filter(Je=>!!Je)),super(H,te)}}const Pi="function"==typeof ArrayBuffer,ho=Object.prototype.toString,Bi="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===ho.call(Blob),kr="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===ho.call(File);function Wi(ce){return Pi&&(ce instanceof ArrayBuffer||(ce=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(ce):ce.buffer instanceof ArrayBuffer)(ce))||Bi&&ce instanceof Blob||kr&&ce instanceof File}function qr(ce,H){if(!ce||"object"!=typeof ce)return!1;if(Array.isArray(ce)){for(let $=0,te=ce.length;$<te;$++)if(qr(ce[$]))return!0;return!1}if(Wi(ce))return!0;if(ce.toJSON&&"function"==typeof ce.toJSON&&1===arguments.length)return qr(ce.toJSON(),!0);for(const $ in ce)if(Object.prototype.hasOwnProperty.call(ce,$)&&qr(ce[$]))return!0;return!1}function an(ce){const H=[],te=ce;return te.data=Lt(ce.data,H),te.attachments=H.length,{packet:te,buffers:H}}function Lt(ce,H){if(!ce)return ce;if(Wi(ce)){const $={_placeholder:!0,num:H.length};return H.push(ce),$}if(Array.isArray(ce)){const $=new Array(ce.length);for(let te=0;te<ce.length;te++)$[te]=Lt(ce[te],H);return $}if("object"==typeof ce&&!(ce instanceof Date)){const $={};for(const te in ce)Object.prototype.hasOwnProperty.call(ce,te)&&($[te]=Lt(ce[te],H));return $}return ce}function bn(ce,H){return ce.data=Un(ce.data,H),delete ce.attachments,ce}function Un(ce,H){if(!ce)return ce;if(ce&&!0===ce._placeholder){if("number"==typeof ce.num&&ce.num>=0&&ce.num<H.length)return H[ce.num];throw new Error("illegal attachments")}if(Array.isArray(ce))for(let $=0;$<ce.length;$++)ce[$]=Un(ce[$],H);else if("object"==typeof ce)for(const $ in ce)Object.prototype.hasOwnProperty.call(ce,$)&&(ce[$]=Un(ce[$],H));return ce}const vn=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],er=5;var $n=function(ce){return ce[ce.CONNECT=0]="CONNECT",ce[ce.DISCONNECT=1]="DISCONNECT",ce[ce.EVENT=2]="EVENT",ce[ce.ACK=3]="ACK",ce[ce.CONNECT_ERROR=4]="CONNECT_ERROR",ce[ce.BINARY_EVENT=5]="BINARY_EVENT",ce[ce.BINARY_ACK=6]="BINARY_ACK",ce}($n||{});class Br{constructor(H){this.replacer=H}encode(H){return H.type!==$n.EVENT&&H.type!==$n.ACK||!qr(H)?[this.encodeAsString(H)]:this.encodeAsBinary({type:H.type===$n.EVENT?$n.BINARY_EVENT:$n.BINARY_ACK,nsp:H.nsp,data:H.data,id:H.id})}encodeAsString(H){let $=""+H.type;return(H.type===$n.BINARY_EVENT||H.type===$n.BINARY_ACK)&&($+=H.attachments+"-"),H.nsp&&"/"!==H.nsp&&($+=H.nsp+","),null!=H.id&&($+=H.id),null!=H.data&&($+=JSON.stringify(H.data,this.replacer)),$}encodeAsBinary(H){const $=an(H),te=this.encodeAsString($.packet),Je=$.buffers;return Je.unshift(te),Je}}function Vr(ce){return"[object Object]"===Object.prototype.toString.call(ce)}class zi extends pr{constructor(H){super(),this.reviver=H}add(H){let $;if("string"==typeof H){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");$=this.decodeString(H);const te=$.type===$n.BINARY_EVENT;te||$.type===$n.BINARY_ACK?($.type=te?$n.EVENT:$n.ACK,this.reconstructor=new he($),0===$.attachments&&super.emitReserved("decoded",$)):super.emitReserved("decoded",$)}else{if(!Wi(H)&&!H.base64)throw new Error("Unknown type: "+H);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");$=this.reconstructor.takeBinaryData(H),$&&(this.reconstructor=null,super.emitReserved("decoded",$))}}decodeString(H){let $=0;const te={type:Number(H.charAt(0))};if(void 0===$n[te.type])throw new Error("unknown packet type "+te.type);if(te.type===$n.BINARY_EVENT||te.type===$n.BINARY_ACK){const gn=$+1;for(;"-"!==H.charAt(++$)&&$!=H.length;);const Cn=H.substring(gn,$);if(Cn!=Number(Cn)||"-"!==H.charAt($))throw new Error("Illegal attachments");te.attachments=Number(Cn)}if("/"===H.charAt($+1)){const gn=$+1;for(;++$&&","!==H.charAt($)&&$!==H.length;);te.nsp=H.substring(gn,$)}else te.nsp="/";const Je=H.charAt($+1);if(""!==Je&&Number(Je)==Je){const gn=$+1;for(;++$;){const Cn=H.charAt($);if(null==Cn||Number(Cn)!=Cn){--$;break}if($===H.length)break}te.id=Number(H.substring(gn,$+1))}if(H.charAt(++$)){const gn=this.tryParse(H.substr($));if(!zi.isPayloadValid(te.type,gn))throw new Error("invalid payload");te.data=gn}return te}tryParse(H){try{return JSON.parse(H,this.reviver)}catch{return!1}}static isPayloadValid(H,$){switch(H){case $n.CONNECT:return Vr($);case $n.DISCONNECT:return void 0===$;case $n.CONNECT_ERROR:return"string"==typeof $||Vr($);case $n.EVENT:case $n.BINARY_EVENT:return Array.isArray($)&&("number"==typeof $[0]||"string"==typeof $[0]&&-1===vn.indexOf($[0]));case $n.ACK:case $n.BINARY_ACK:return Array.isArray($)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class he{constructor(H){this.packet=H,this.buffers=[],this.reconPack=H}takeBinaryData(H){if(this.buffers.push(H),this.buffers.length===this.reconPack.attachments){const $=bn(this.reconPack,this.buffers);return this.finishedReconstruction(),$}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function be(ce,H,$){return ce.on(H,$),function(){ce.off(H,$)}}const Ye=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Zt extends pr{constructor(H,$,te){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=H,this.nsp=$,te&&te.auth&&(this.auth=te.auth),this._opts=Object.assign({},te),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const H=this.io;this.subs=[be(H,"open",this.onopen.bind(this)),be(H,"packet",this.onpacket.bind(this)),be(H,"error",this.onerror.bind(this)),be(H,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...H){return H.unshift("message"),this.emit.apply(this,H),this}emit(H,...$){var te,Je,gn;if(Ye.hasOwnProperty(H))throw new Error('"'+H.toString()+'" is a reserved event name');if($.unshift(H),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue($),this;const Cn={type:$n.EVENT,data:$,options:{}};if(Cn.options.compress=!1!==this.flags.compress,"function"==typeof $[$.length-1]){const Gi=this.ids++,Pe=$.pop();this._registerAckCallback(Gi,Pe),Cn.id=Gi}const cr=null===(Je=null===(te=this.io.engine)||void 0===te?void 0:te.transport)||void 0===Je?void 0:Je.writable,zt=this.connected&&!(null!==(gn=this.io.engine)&&void 0!==gn&&gn._hasPingExpired());return this.flags.volatile&&!cr||(zt?(this.notifyOutgoingListeners(Cn),this.packet(Cn)):this.sendBuffer.push(Cn)),this.flags={},this}_registerAckCallback(H,$){var te;const Je=null!==(te=this.flags.timeout)&&void 0!==te?te:this._opts.ackTimeout;if(void 0===Je)return void(this.acks[H]=$);const gn=this.io.setTimeoutFn(()=>{delete this.acks[H];for(let cr=0;cr<this.sendBuffer.length;cr++)this.sendBuffer[cr].id===H&&this.sendBuffer.splice(cr,1);$.call(this,new Error("operation has timed out"))},Je),Cn=(...cr)=>{this.io.clearTimeoutFn(gn),$.apply(this,cr)};Cn.withError=!0,this.acks[H]=Cn}emitWithAck(H,...$){return new Promise((te,Je)=>{const gn=(Cn,cr)=>Cn?Je(Cn):te(cr);gn.withError=!0,$.push(gn),this.emit(H,...$)})}_addToQueue(H){let $;"function"==typeof H[H.length-1]&&($=H.pop());const te={id:this._queueSeq++,tryCount:0,pending:!1,args:H,flags:Object.assign({fromQueue:!0},this.flags)};H.push((Je,...gn)=>te!==this._queue[0]?void 0:(null!==Je?te.tryCount>this._opts.retries&&(this._queue.shift(),$&&$(Je)):(this._queue.shift(),$&&$(null,...gn)),te.pending=!1,this._drainQueue())),this._queue.push(te),this._drainQueue()}_drainQueue(H=!1){if(!this.connected||0===this._queue.length)return;const $=this._queue[0];$.pending&&!H||($.pending=!0,$.tryCount++,this.flags=$.flags,this.emit.apply(this,$.args))}packet(H){H.nsp=this.nsp,this.io._packet(H)}onopen(){"function"==typeof this.auth?this.auth(H=>{this._sendConnectPacket(H)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(H){this.packet({type:$n.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},H):H})}onerror(H){this.connected||this.emitReserved("connect_error",H)}onclose(H,$){this.connected=!1,delete this.id,this.emitReserved("disconnect",H,$),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(H=>{if(!this.sendBuffer.some(te=>String(te.id)===H)){const te=this.acks[H];delete this.acks[H],te.withError&&te.call(this,new Error("socket has been disconnected"))}})}onpacket(H){if(H.nsp===this.nsp)switch(H.type){case $n.CONNECT:H.data&&H.data.sid?this.onconnect(H.data.sid,H.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $n.EVENT:case $n.BINARY_EVENT:this.onevent(H);break;case $n.ACK:case $n.BINARY_ACK:this.onack(H);break;case $n.DISCONNECT:this.ondisconnect();break;case $n.CONNECT_ERROR:this.destroy();const te=new Error(H.data.message);te.data=H.data.data,this.emitReserved("connect_error",te)}}onevent(H){const $=H.data||[];null!=H.id&&$.push(this.ack(H.id)),this.connected?this.emitEvent($):this.receiveBuffer.push(Object.freeze($))}emitEvent(H){if(this._anyListeners&&this._anyListeners.length){const $=this._anyListeners.slice();for(const te of $)te.apply(this,H)}super.emit.apply(this,H),this._pid&&H.length&&"string"==typeof H[H.length-1]&&(this._lastOffset=H[H.length-1])}ack(H){const $=this;let te=!1;return function(...Je){te||(te=!0,$.packet({type:$n.ACK,id:H,data:Je}))}}onack(H){const $=this.acks[H.id];"function"==typeof $&&(delete this.acks[H.id],$.withError&&H.data.unshift(null),$.apply(this,H.data))}onconnect(H,$){this.id=H,this.recovered=$&&this._pid===$,this._pid=$,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(H=>this.emitEvent(H)),this.receiveBuffer=[],this.sendBuffer.forEach(H=>{this.notifyOutgoingListeners(H),this.packet(H)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(H=>H()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$n.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(H){return this.flags.compress=H,this}get volatile(){return this.flags.volatile=!0,this}timeout(H){return this.flags.timeout=H,this}onAny(H){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(H),this}prependAny(H){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(H),this}offAny(H){if(!this._anyListeners)return this;if(H){const $=this._anyListeners;for(let te=0;te<$.length;te++)if(H===$[te])return $.splice(te,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(H){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(H),this}prependAnyOutgoing(H){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(H),this}offAnyOutgoing(H){if(!this._anyOutgoingListeners)return this;if(H){const $=this._anyOutgoingListeners;for(let te=0;te<$.length;te++)if(H===$[te])return $.splice(te,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(H){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const $=this._anyOutgoingListeners.slice();for(const te of $)te.apply(this,H.data)}}}function Oe(ce){this.ms=(ce=ce||{}).min||100,this.max=ce.max||1e4,this.factor=ce.factor||2,this.jitter=ce.jitter>0&&ce.jitter<=1?ce.jitter:0,this.attempts=0}Oe.prototype.duration=function(){var ce=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var H=Math.random(),$=Math.floor(H*this.jitter*ce);ce=1&Math.floor(10*H)?ce+$:ce-$}return 0|Math.min(ce,this.max)},Oe.prototype.reset=function(){this.attempts=0},Oe.prototype.setMin=function(ce){this.ms=ce},Oe.prototype.setMax=function(ce){this.max=ce},Oe.prototype.setJitter=function(ce){this.jitter=ce};class tr extends pr{constructor(H,$){var te;super(),this.nsps={},this.subs=[],H&&"object"==typeof H&&($=H,H=void 0),($=$||{}).path=$.path||"/socket.io",this.opts=$,He(this,$),this.reconnection(!1!==$.reconnection),this.reconnectionAttempts($.reconnectionAttempts||1/0),this.reconnectionDelay($.reconnectionDelay||1e3),this.reconnectionDelayMax($.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(te=$.randomizationFactor)&&void 0!==te?te:.5),this.backoff=new Oe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==$.timeout?2e4:$.timeout),this._readyState="closed",this.uri=H;const Je=$.parser||w;this.encoder=new Je.Encoder,this.decoder=new Je.Decoder,this._autoConnect=!1!==$.autoConnect,this._autoConnect&&this.open()}reconnection(H){return arguments.length?(this._reconnection=!!H,H||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(H){return void 0===H?this._reconnectionAttempts:(this._reconnectionAttempts=H,this)}reconnectionDelay(H){var $;return void 0===H?this._reconnectionDelay:(this._reconnectionDelay=H,null===($=this.backoff)||void 0===$||$.setMin(H),this)}randomizationFactor(H){var $;return void 0===H?this._randomizationFactor:(this._randomizationFactor=H,null===($=this.backoff)||void 0===$||$.setJitter(H),this)}reconnectionDelayMax(H){var $;return void 0===H?this._reconnectionDelayMax:(this._reconnectionDelayMax=H,null===($=this.backoff)||void 0===$||$.setMax(H),this)}timeout(H){return arguments.length?(this._timeout=H,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(H){if(~this._readyState.indexOf("open"))return this;this.engine=new Ui(this.uri,this.opts);const $=this.engine,te=this;this._readyState="opening",this.skipReconnect=!1;const Je=be($,"open",function(){te.onopen(),H&&H()}),gn=cr=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",cr),H?H(cr):this.maybeReconnectOnOpen()},Cn=be($,"error",gn);if(!1!==this._timeout){const zt=this.setTimeoutFn(()=>{Je(),gn(new Error("timeout")),$.close()},this._timeout);this.opts.autoUnref&&zt.unref(),this.subs.push(()=>{this.clearTimeoutFn(zt)})}return this.subs.push(Je),this.subs.push(Cn),this}connect(H){return this.open(H)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const H=this.engine;this.subs.push(be(H,"ping",this.onping.bind(this)),be(H,"data",this.ondata.bind(this)),be(H,"error",this.onerror.bind(this)),be(H,"close",this.onclose.bind(this)),be(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(H){try{this.decoder.add(H)}catch($){this.onclose("parse error",$)}}ondecoded(H){Nr(()=>{this.emitReserved("packet",H)},this.setTimeoutFn)}onerror(H){this.emitReserved("error",H)}socket(H,$){let te=this.nsps[H];return te?this._autoConnect&&!te.active&&te.connect():(te=new Zt(this,H,$),this.nsps[H]=te),te}_destroy(H){const $=Object.keys(this.nsps);for(const te of $)if(this.nsps[te].active)return;this._close()}_packet(H){const $=this.encoder.encode(H);for(let te=0;te<$.length;te++)this.engine.write($[te],H.options)}cleanup(){this.subs.forEach(H=>H()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(H,$){var te;this.cleanup(),null===(te=this.engine)||void 0===te||te.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",H,$),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const H=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const $=this.backoff.duration();this._reconnecting=!0;const te=this.setTimeoutFn(()=>{H.skipReconnect||(this.emitReserved("reconnect_attempt",H.backoff.attempts),!H.skipReconnect&&H.open(Je=>{Je?(H._reconnecting=!1,H.reconnect(),this.emitReserved("reconnect_error",Je)):H.onreconnect()}))},$);this.opts.autoUnref&&te.unref(),this.subs.push(()=>{this.clearTimeoutFn(te)})}}onreconnect(){const H=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",H)}}const rn={};function xr(ce,H){"object"==typeof ce&&(H=ce,ce=void 0);const $=function cs(ce,H="",$){let te=ce;$=$||typeof location<"u"&&location,null==ce&&(ce=$.protocol+"//"+$.host),"string"==typeof ce&&("/"===ce.charAt(0)&&(ce="/"===ce.charAt(1)?$.protocol+ce:$.host+ce),/^(https?|wss?):\/\//.test(ce)||(ce=typeof $<"u"?$.protocol+"//"+ce:"https://"+ce),te=ei(ce)),te.port||(/^(http|ws)$/.test(te.protocol)?te.port="80":/^(http|ws)s$/.test(te.protocol)&&(te.port="443")),te.path=te.path||"/";const gn=-1!==te.host.indexOf(":")?"["+te.host+"]":te.host;return te.id=te.protocol+"://"+gn+":"+te.port+H,te.href=te.protocol+"://"+gn+($&&$.port===te.port?"":":"+te.port),te}(ce,(H=H||{}).path||"/socket.io"),te=$.source,Je=$.id;let zt;return H.forceNew||H["force new connection"]||!1===H.multiplex||rn[Je]&&$.path in rn[Je].nsps?zt=new tr(te,H):(rn[Je]||(rn[Je]=new tr(te,H)),zt=rn[Je]),$.query&&!H.query&&(H.query=$.queryKey),zt.socket($.path,H)}Object.assign(xr,{Manager:tr,Socket:Zt,io:xr,connect:xr});var se=B(6104),Z=B(2928),fe=B(3229),it=B(9406),At=B(8629),$t=B(1489),Vn=B(620);let Yn=(()=>{class ce{constructor($,te){this.userCtx=$,this.ngZone=te,this.reconnectBackoffMs=2e3,this.localTaskUpdate$=new se.B,this.localNotification$=new se.B,this.localComment$=new se.B}connect($){var te=this;return(0,ne.A)(function*(Je,gn=!1){if(gn)return void console.warn("[SocketService] Running in LOCAL simulation mode");const Cn=yield te.userCtx.getIdToken();if(!Cn)throw new Error("User not authenticated");te.socket=xr(Je||At.c.backendUrl,{transports:["websocket"],auth:{token:Cn}}),te.socket.on("connect",()=>console.log("[SocketService] Connected:",te.socket?.id)),te.socket.on("disconnect",cr=>{console.warn("[SocketService] Disconnected:",cr),te.scheduleReconnect()}),te.socket.on("connect_error",cr=>{console.error("[SocketService] Connect error:",cr),te.scheduleReconnect()}),te.refreshSubscription=(0,Z.Y)(9e5).subscribe(()=>te.refreshToken())}).apply(this,arguments)}refreshToken(){var $=this;return(0,ne.A)(function*(){if(!$.socket)return;const te=yield $.userCtx.getIdToken(!0);te?($.socket.io.opts.auth={token:te},$.socket.connected&&$.socket.disconnect(),$.socket.connect()):console.warn("[SocketService] Cannot refresh token, user may be logged out")})()}scheduleReconnect(){this.reconnectSubscription?.unsubscribe(),this.reconnectSubscription=(0,fe.O)(this.reconnectBackoffMs).subscribe(()=>{console.log("[SocketService] Trying reconnect..."),this.refreshToken().catch($=>{console.error("[SocketService] Reconnect failed:",$),this.scheduleReconnect()})})}emitTaskUpdate($){this.socket?this.socket.emit("tasks:update",$):this.localTaskUpdate$.next($)}onTaskUpdate(){return this.listenOrSimulate("tasks:updated",this.localTaskUpdate$)}emitNotification($){this.socket?this.socket.emit("notification:update",$):this.localNotification$.next($)}onNotification(){return this.listenOrSimulate("notification:update",this.localNotification$)}emitComment($){this.socket?this.socket.emit("comments:add",$):this.localComment$.next($)}onComment($){return this.socket?new it.c(te=>(this.socket?.on("comments:added",Je=>{Je.taskId===$&&this.ngZone.run(()=>te.next(Je))}),()=>this.socket?.off("comments:added"))):this.localComment$.asObservable()}emit($,te){this.socket&&this.socket.emit($,te)}on($,te){this.socket?.on($,Je=>this.ngZone.run(()=>te(Je)))}listenOrSimulate($,te){return this.socket?new it.c(Je=>(this.socket?.on($,gn=>this.ngZone.run(()=>Je.next(gn))),()=>this.socket?.off($))):te.asObservable()}disconnect(){this.refreshSubscription?.unsubscribe(),this.reconnectSubscription?.unsubscribe(),this.socket?.disconnect(),this.socket=void 0}ngOnDestroy(){this.disconnect()}isConnected(){return!!this.socket?.connected}onTyping($){return new it.c(te=>{this.socket?.on(`typing:${$}`,Je=>{te.next(Je)})})}emitTyping($,te){this.socket?.emit("typing",{taskId:$,userId:te})}static{this.\u0275fac=function(te){return new(te||ce)($t.KVO(Vn.i),$t.KVO($t.SKi))}}static{this.\u0275prov=$t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})()},6340:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Q:()=>re});var w=B(9867),ne=B(6111),ee=B(8621),Re=B(262);function re(ye){return(0,w.N)((Fe,De)=>{(0,ee.Tg)(ye).subscribe((0,ne._)(De,()=>De.complete(),Re.l)),!De.closed&&Fe.subscribe(De)})}},6347:(Xn,Tt,B)=>{"use strict";B.d(Tt,{j:()=>ne});var w=B(9867);function ne(ee){return(0,w.N)((Re,re)=>{try{Re.subscribe(re)}finally{re.add(ee)}})}},6362:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Wk:()=>gn,iI:()=>li});var w=B(4357),ne=B(1489),ee=B(7728);let ye=(()=>{class we{static \u0275prov=(0,ne.jDH)({token:we,providedIn:"root",factory:()=>new Fe((0,ne.WQX)(ee.q),window)})}return we})();class Fe{document;window;offset=()=>[0,0];constructor(Ct,Ke){this.document=Ct,this.window=Ke}setOffset(Ct){this.offset=Array.isArray(Ct)?()=>Ct:Ct}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ct){this.window.scrollTo(Ct[0],Ct[1])}scrollToAnchor(Ct){const Ke=function De(we,Ct){const Ke=we.getElementById(Ct)||we.getElementsByName(Ct)[0];if(Ke)return Ke;if("function"==typeof we.createTreeWalker&&we.body&&"function"==typeof we.body.attachShadow){const Mt=we.createTreeWalker(we.body,NodeFilter.SHOW_ELEMENT);let Dn=Mt.currentNode;for(;Dn;){const xe=Dn.shadowRoot;if(xe){const Ir=xe.getElementById(Ct)||xe.querySelector(`[name="${Ct}"]`);if(Ir)return Ir}Dn=Mt.nextNode()}}return null}(this.document,Ct);Ke&&(this.scrollToElement(Ke),Ke.focus())}setHistoryScrollRestoration(Ct){this.window.history.scrollRestoration=Ct}scrollToElement(Ct){const Ke=Ct.getBoundingClientRect(),Mt=Ke.left+this.window.pageXOffset,Dn=Ke.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(Mt-xe[0],Dn-xe[1])}}var At=B(6978),$t=B(3098),Vn=B(6104),Yn=B(756),ce=B(4690),H=B(3806),$=B(8503),te=B(4807),Je=B(3422);let gn=(()=>{class we{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Vn.B;constructor(Ke,Mt,Dn,xe,Ir,Ni){this.router=Ke,this.route=Mt,this.tabIndexAttribute=Dn,this.renderer=xe,this.el=Ir,this.locationStrategy=Ni;const Ki=Ir.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ki||"area"===Ki,this.isAnchorElement?this.subscription=Ke.events.subscribe(Fa=>{Fa instanceof $t.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Ke){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ke)}ngOnChanges(Ke){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Ke){null==Ke?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,$t.wO)(Ke)||Array.isArray(Ke)?Ke:[Ke],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ke,Mt,Dn,xe,Ir){const Ni=this.urlTree;return!!(null===Ni||this.isAnchorElement&&(0!==Ke||Mt||Dn||xe||Ir||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ni,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ke=this.urlTree;this.href=null!==Ke&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ke)):null;const Mt=null===this.href?null:(0,ne.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Mt)}applyAttributeValue(Ke,Mt){const Dn=this.renderer,xe=this.el.nativeElement;null!==Mt?Dn.setAttribute(xe,Ke,Mt):Dn.removeAttribute(xe,Ke)}get urlTree(){return null===this.routerLinkInput?null:(0,$t.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(Mt){return new(Mt||we)(ne.rXU($t.Ix),ne.rXU($t.nX),ne.kS0("tabindex"),ne.rXU(ne.sFG),ne.rXU(ne.aKT),ne.rXU(w.hb))};static \u0275dir=ne.FsC({type:we,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Mt,Dn){1&Mt&&ne.bIt("click",function(Ir){return Dn.onClick(Ir.button,Ir.ctrlKey,Ir.shiftKey,Ir.altKey,Ir.metaKey)}),2&Mt&&ne.BMQ("target",Dn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ne.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ne.L39],replaceUrl:[2,"replaceUrl","replaceUrl",ne.L39],routerLink:"routerLink"},features:[ne.OA$]})}return we})();class zt{}let Pe=(()=>{class we{router;injector;preloadingStrategy;loader;subscription;constructor(Ke,Mt,Dn,xe){this.router=Ke,this.injector=Mt,this.preloadingStrategy=Dn,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,$.p)(Ke=>Ke instanceof $t.wF),(0,te.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ke,Mt){const Dn=[];for(const xe of Mt){xe.providers&&!xe._injector&&(xe._injector=(0,ne.Ol2)(xe.providers,Ke,`Route: ${xe.path}`));const Ir=xe._injector??Ke,Ni=xe._loadedInjector??Ir;(xe.loadChildren&&!xe._loadedRoutes&&void 0===xe.canLoad||xe.loadComponent&&!xe._loadedComponent)&&Dn.push(this.preloadConfig(Ir,xe)),(xe.children||xe._loadedRoutes)&&Dn.push(this.processRoutes(Ni,xe.children??xe._loadedRoutes))}return(0,ce.H)(Dn).pipe((0,H.U)())}preloadConfig(Ke,Mt){return this.preloadingStrategy.preload(Mt,()=>{let Dn;Dn=Mt.loadChildren&&void 0===Mt.canLoad?this.loader.loadChildren(Ke,Mt):(0,Yn.of)(null);const xe=Dn.pipe((0,Je.Z)(Ir=>null===Ir?(0,Yn.of)(void 0):(Mt._loadedRoutes=Ir.routes,Mt._loadedInjector=Ir.injector,this.processRoutes(Ir.injector??Ke,Ir.routes))));if(Mt.loadComponent&&!Mt._loadedComponent){const Ir=this.loader.loadComponent(Mt);return(0,ce.H)([xe,Ir]).pipe((0,H.U)())}return xe})}static \u0275fac=function(Mt){return new(Mt||we)(ne.KVO($t.Ix),ne.KVO(ne.uvJ),ne.KVO(zt),ne.KVO($t.D$))};static \u0275prov=ne.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const Qe=new ne.nKC("");let Pt=(()=>{class we{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Ke,Mt,Dn,xe,Ir={}){this.urlSerializer=Ke,this.transitions=Mt,this.viewportScroller=Dn,this.zone=xe,this.options=Ir,Ir.scrollPositionRestoration||="disabled",Ir.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ke=>{Ke instanceof $t.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ke.navigationTrigger,this.restoredId=Ke.restoredState?Ke.restoredState.navigationId:0):Ke instanceof $t.wF?(this.lastId=Ke.id,this.scheduleScrollEvent(Ke,this.urlSerializer.parse(Ke.urlAfterRedirects).fragment)):Ke instanceof $t.lW&&Ke.code===$t.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ke,this.urlSerializer.parse(Ke.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ke=>{Ke instanceof $t.OY&&(Ke.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ke.position):Ke.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ke.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ke,Mt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $t.OY(Ke,"popstate"===this.lastSource?this.store[this.restoredId]:null,Mt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(Mt){ne.QTQ()};static \u0275prov=ne.jDH({token:we,factory:we.\u0275fac})}return we})();function En(we,Ct){return{\u0275kind:we,\u0275providers:Ct}}function mi(){const we=(0,ne.WQX)(ne.zZn);return Ct=>{const Ke=we.get(ne.o8S);if(Ct!==Ke.components[0])return;const Mt=we.get($t.Ix),Dn=we.get(ls);1===we.get(ks)&&Mt.initialNavigation(),we.get(K,null,ne.$GK.Optional)?.setUpPreloading(),we.get(Qe,null,ne.$GK.Optional)?.init(),Mt.resetRootComponentType(Ke.componentTypes[0]),Dn.closed||(Dn.next(),Dn.complete(),Dn.unsubscribe())}}const ls=new ne.nKC("",{factory:()=>new Vn.B}),ks=new ne.nKC("",{providedIn:"root",factory:()=>1}),K=new ne.nKC("");function Ee(we){return En(0,[{provide:K,useExisting:Pe},{provide:zt,useExisting:we}])}function Bt(we){return(0,ne.ngT)("NgRouterViewTransitions"),En(9,[{provide:$t.Pu,useValue:$t.Lg},{provide:$t.bK,useValue:{skipNextTransition:!!we?.skipInitialTransition,...we}}])}const oi=[w.aZ,{provide:$t.Sd,useClass:$t.nU},$t.Ix,$t.Zp,{provide:$t.nX,useFactory:function In(we){return we.routerState.root},deps:[$t.Ix]},$t.D$,[]];let li=(()=>{class we{constructor(){}static forRoot(Ke,Mt){return{ngModule:we,providers:[oi,[],{provide:$t.bw,multi:!0,useValue:Ke},[],Mt?.errorHandler?{provide:$t.XR,useValue:Mt.errorHandler}:[],{provide:$t.J_,useValue:Mt||{}},Mt?.useHash?{provide:w.hb,useClass:At.fw}:{provide:w.hb,useClass:w.Sm},{provide:Qe,useFactory:()=>{const we=(0,ne.WQX)(ye),Ct=(0,ne.WQX)(ne.SKi),Ke=(0,ne.WQX)($t.J_),Mt=(0,ne.WQX)($t.J2),Dn=(0,ne.WQX)($t.Sd);return Ke.scrollOffset&&we.setOffset(Ke.scrollOffset),new Pt(Dn,Mt,we,Ct,Ke)}},Mt?.preloadingStrategy?Ee(Mt.preloadingStrategy).\u0275providers:[],Mt?.initialNavigation?Mi(Mt):[],Mt?.bindToComponentInputs?En(8,[$t.tD,{provide:$t.c1,useExisting:$t.tD}]).\u0275providers:[],Mt?.enableViewTransitions?Bt().\u0275providers:[],[{provide:Os,useFactory:mi},{provide:ne.iLQ,multi:!0,useExisting:Os}]]}}static forChild(Ke){return{ngModule:we,providers:[{provide:$t.bw,multi:!0,useValue:Ke}]}}static \u0275fac=function(Mt){return new(Mt||we)};static \u0275mod=ne.$C({type:we});static \u0275inj=ne.G2t({})}return we})();function Mi(we){return["disabled"===we.initialNavigation?En(3,[(0,ne.phd)(()=>{(0,ne.WQX)($t.Ix).setUpLocationChangeListener()}),{provide:ks,useValue:2}]).\u0275providers:[],"enabledBlocking"===we.initialNavigation?En(2,[{provide:ks,useValue:0},(0,ne.phd)(()=>{const Ct=(0,ne.WQX)(ne.zZn);return Ct.get(w.hj,Promise.resolve()).then(()=>new Promise(Mt=>{const Dn=Ct.get($t.Ix),xe=Ct.get(ls);(0,$t.gk)(Dn,()=>{Mt(!0)}),Ct.get($t.J2).afterPreactivation=()=>(Mt(!0),xe.closed?(0,Yn.of)(void 0):xe),Dn.initialNavigation()}))})]).\u0275providers:[]]}const Os=new ne.nKC("")},6379:(Xn,Tt,B)=>{"use strict";B.d(Tt,{m:()=>ee});var w=B(2493),ne=B(6171);function ee(Re){ne.f.setTimeout(()=>{const{onUnhandledError:re}=w.$;if(!re)throw Re;re(Re)})}},6383:(Xn,Tt,B)=>{"use strict";B.d(Tt,{cY:()=>kt,FA:()=>Jr,g:()=>ni,K3:()=>De,u:()=>lt,Uj:()=>Ie,Fy:()=>Or,tD:()=>ns,bD:()=>Rn,hp:()=>An,T9:()=>St,Tj:()=>Wt,yU:()=>We,XA:()=>pt,mS:()=>Ht,Ku:()=>zi,ZQ:()=>Pr,sr:()=>Ge,zJ:()=>Rt,c1:()=>He,Im:()=>mr,lT:()=>Pn,zW:()=>Cr,jZ:()=>yi,lV:()=>qe,nr:()=>Bn,Ov:()=>Qr,gE:()=>at,Am:()=>ti,I9:()=>On,P1:()=>Ur,eX:()=>Li});var w=B(3308);const ye=function(he){const be=[];let Ye=0;for(let Zt=0;Zt<he.length;Zt++){let Oe=he.charCodeAt(Zt);Oe<128?be[Ye++]=Oe:Oe<2048?(be[Ye++]=Oe>>6|192,be[Ye++]=63&Oe|128):55296==(64512&Oe)&&Zt+1<he.length&&56320==(64512&he.charCodeAt(Zt+1))?(Oe=65536+((1023&Oe)<<10)+(1023&he.charCodeAt(++Zt)),be[Ye++]=Oe>>18|240,be[Ye++]=Oe>>12&63|128,be[Ye++]=Oe>>6&63|128,be[Ye++]=63&Oe|128):(be[Ye++]=Oe>>12|224,be[Ye++]=Oe>>6&63|128,be[Ye++]=63&Oe|128)}return be},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,be){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ye=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,Zt=[];for(let Oe=0;Oe<he.length;Oe+=3){const tr=he[Oe],rn=Oe+1<he.length,xr=rn?he[Oe+1]:0,se=Oe+2<he.length,Z=se?he[Oe+2]:0;let At=(15&xr)<<2|Z>>6,$t=63&Z;se||($t=64,rn||(At=64)),Zt.push(Ye[tr>>2],Ye[(3&tr)<<4|xr>>4],Ye[At],Ye[$t])}return Zt.join("")},encodeString(he,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(he):this.encodeByteArray(ye(he),be)},decodeString(he,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(he):function(he){const be=[];let Ye=0,Zt=0;for(;Ye<he.length;){const Oe=he[Ye++];if(Oe<128)be[Zt++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const tr=he[Ye++];be[Zt++]=String.fromCharCode((31&Oe)<<6|63&tr)}else if(Oe>239&&Oe<365){const se=((7&Oe)<<18|(63&he[Ye++])<<12|(63&he[Ye++])<<6|63&he[Ye++])-65536;be[Zt++]=String.fromCharCode(55296+(se>>10)),be[Zt++]=String.fromCharCode(56320+(1023&se))}else{const tr=he[Ye++],rn=he[Ye++];be[Zt++]=String.fromCharCode((15&Oe)<<12|(63&tr)<<6|63&rn)}}return be.join("")}(this.decodeStringToByteArray(he,be))},decodeStringToByteArray(he,be){this.init_();const Ye=be?this.charToByteMapWebSafe_:this.charToByteMap_,Zt=[];for(let Oe=0;Oe<he.length;){const tr=Ye[he.charAt(Oe++)],xr=Oe<he.length?Ye[he.charAt(Oe)]:0;++Oe;const Z=Oe<he.length?Ye[he.charAt(Oe)]:64;++Oe;const it=Oe<he.length?Ye[he.charAt(Oe)]:64;if(++Oe,null==tr||null==xr||null==Z||null==it)throw new rt;Zt.push(tr<<2|xr>>4),64!==Z&&(Zt.push(xr<<4&240|Z>>2),64!==it&&Zt.push(Z<<6&192|it))}return Zt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}};class rt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(he){return function(he){const be=ye(he);return De.encodeByteArray(be,!0)}(he).replace(/\./g,"")},lt=function(he){try{return De.decodeString(he,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function Ht(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ut=()=>{try{return Ht().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const he=process.env.__FIREBASE_DEFAULTS__;return he?JSON.parse(he):void 0})()||(()=>{if(typeof document>"u")return;let he;try{he=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=he&&lt(he[1]);return be&&JSON.parse(be)})()}catch(he){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${he}`)}},Wt=he=>{var be,Ye;return null===(Ye=null===(be=Ut())||void 0===be?void 0:be.emulatorHosts)||void 0===Ye?void 0:Ye[he]},We=he=>{const be=Wt(he);if(!be)return;const Ye=be.lastIndexOf(":");if(Ye<=0||Ye+1===be.length)throw new Error(`Invalid host ${be} with no separate hostname and port!`);const Zt=parseInt(be.substring(Ye+1),10);return"["===be[0]?[be.substring(1,Ye-1),Zt]:[be.substring(0,Ye),Zt]},St=()=>{var he;return null===(he=Ut())||void 0===he?void 0:he.config},pt=he=>{var be;return null===(be=Ut())||void 0===be?void 0:be[`_${he}`]};class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Ye)=>{this.resolve=be,this.reject=Ye})}wrapCallback(be){return(Ye,Zt)=>{Ye?this.reject(Ye):this.resolve(Zt),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Ye):be(Ye,Zt))}}}function Rt(he){try{return(he.startsWith("http://")||he.startsWith("https://")?new URL(he).hostname:he).endsWith(".cloudworkstations.dev")}catch{return!1}}function at(he){return kn.apply(this,arguments)}function kn(){return(kn=(0,w.A)(function*(he){return(yield fetch(he,{credentials:"include"})).ok})).apply(this,arguments)}function Or(he,be){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Zt=be||"demo-project",Oe=he.iat||0,tr=he.sub||he.user_id;if(!tr)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rn=Object.assign({iss:`https://securetoken.google.com/${Zt}`,aud:Zt,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:tr,user_id:tr,firebase:{sign_in_provider:"custom",identities:{}}},he);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(rn)),""].join(".")}const Hr={};let Nr=!1;function Ur(he,be){if(typeof window>"u"||typeof document>"u"||!Rt(window.location.host)||Hr[he]===be||Hr[he]||Nr)return;function Ye(At){return`__firebase__banner__${At}`}Hr[he]=be;const Zt="__firebase__banner",tr=function pr(){const he={prod:[],emulator:[]};for(const be of Object.keys(Hr))Hr[be]?he.emulator.push(be):he.prod.push(be);return he}().prod.length>0;function it(){const At=function Wr(he){let be=document.getElementById(he),Ye=!1;return be||(be=document.createElement("div"),be.setAttribute("id",he),Ye=!0),{created:Ye,element:be}}(Zt),$t=Ye("text"),Vn=document.getElementById($t)||document.createElement("span"),Yn=Ye("learnmore"),ce=document.getElementById(Yn)||document.createElement("a"),H=Ye("preprendIcon"),$=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(At.created){const te=At.element;(function xr(At){At.style.display="flex",At.style.background="#7faaf0",At.style.position="fixed",At.style.bottom="5px",At.style.left="5px",At.style.padding=".5em",At.style.borderRadius="5px",At.style.alignItems="center"})(te),function fe(At,$t){At.setAttribute("id",$t),At.innerText="Learn more",At.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",At.setAttribute("target","__blank"),At.style.paddingLeft="5px",At.style.textDecoration="underline"}(ce,Yn);const Je=function Z(){const At=document.createElement("span");return At.style.cursor="pointer",At.style.marginLeft="16px",At.style.fontSize="24px",At.innerHTML=" &times;",At.onclick=()=>{Nr=!0,function rn(){const At=document.getElementById(Zt);At&&At.remove()}()},At}();(function se(At,$t){At.setAttribute("width","24"),At.setAttribute("id",$t),At.setAttribute("height","24"),At.setAttribute("viewBox","0 0 24 24"),At.setAttribute("fill","none"),At.style.marginLeft="-6px"})($,H),te.append($,Vn,ce,Je),document.body.appendChild(te)}tr?(Vn.innerText="Preview backend disconnected.",$.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):($.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',Vn.innerText="Preview backend running in this workspace."),Vn.setAttribute("id",$t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",it):it()}function Pr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pr())}function Ti(){var he;const be=null===(he=Ut())||void 0===he?void 0:he.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ge(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pn(){const he=Pr();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function Bn(){return!Ti()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qr(){return!Ti()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Cr(){try{return"object"==typeof indexedDB}catch{return!1}}function Li(){return new Promise((he,be)=>{try{let Ye=!0;const Zt="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(Zt);Oe.onsuccess=()=>{Oe.result.close(),Ye||self.indexedDB.deleteDatabase(Zt),he(!0)},Oe.onupgradeneeded=()=>{Ye=!1},Oe.onerror=()=>{var tr;be((null===(tr=Oe.error)||void 0===tr?void 0:tr.message)||"")}}catch(Ye){be(Ye)}})}class ni extends Error{constructor(be,Ye,Zt){super(Ye),this.code=be,this.customData=Zt,this.name="FirebaseError",Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}}class Jr{constructor(be,Ye,Zt){this.service=be,this.serviceName=Ye,this.errors=Zt}create(be,...Ye){const Zt=Ye[0]||{},Oe=`${this.service}/${be}`,tr=this.errors[be],rn=tr?function Mn(he,be){return he.replace(Ar,(Ye,Zt)=>{const Oe=be[Zt];return null!=Oe?String(Oe):`<${Zt}?>`})}(tr,Zt):"Error";return new ni(Oe,`${this.serviceName}: ${rn} (${Oe}).`,Zt)}}const Ar=/\{\$([^}]+)}/g;function mr(he){for(const be in he)if(Object.prototype.hasOwnProperty.call(he,be))return!1;return!0}function Rn(he,be){if(he===be)return!0;const Ye=Object.keys(he),Zt=Object.keys(be);for(const Oe of Ye){if(!Zt.includes(Oe))return!1;const tr=he[Oe],rn=be[Oe];if(Nn(tr)&&Nn(rn)){if(!Rn(tr,rn))return!1}else if(tr!==rn)return!1}for(const Oe of Zt)if(!Ye.includes(Oe))return!1;return!0}function Nn(he){return null!==he&&"object"==typeof he}function ti(he){const be=[];for(const[Ye,Zt]of Object.entries(he))Array.isArray(Zt)?Zt.forEach(Oe=>{be.push(encodeURIComponent(Ye)+"="+encodeURIComponent(Oe))}):be.push(encodeURIComponent(Ye)+"="+encodeURIComponent(Zt));return be.length?"&"+be.join("&"):""}function On(he){const be={};return he.replace(/^\?/,"").split("&").forEach(Zt=>{if(Zt){const[Oe,tr]=Zt.split("=");be[decodeURIComponent(Oe)]=decodeURIComponent(tr)}}),be}function An(he){const be=he.indexOf("?");if(!be)return"";const Ye=he.indexOf("#",be);return he.substring(be,Ye>0?Ye:void 0)}function ns(he,be){const Ye=new ws(he,be);return Ye.subscribe.bind(Ye)}class ws{constructor(be,Ye){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ye,this.task.then(()=>{be(this)}).catch(Zt=>{this.error(Zt)})}next(be){this.forEachObserver(Ye=>{Ye.next(be)})}error(be){this.forEachObserver(Ye=>{Ye.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Ye,Zt){let Oe;if(void 0===be&&void 0===Ye&&void 0===Zt)throw new Error("Missing Observer.");Oe=function Pi(he,be){if("object"!=typeof he||null===he)return!1;for(const Ye of be)if(Ye in he&&"function"==typeof he[Ye])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Ye,complete:Zt},void 0===Oe.next&&(Oe.next=bi),void 0===Oe.error&&(Oe.error=bi),void 0===Oe.complete&&(Oe.complete=bi);const tr=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),tr}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Ye=0;Ye<this.observers.length;Ye++)this.sendOne(Ye,be)}sendOne(be,Ye){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Ye(this.observers[be])}catch(Zt){typeof console<"u"&&console.error&&console.error(Zt)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bi(){}function zi(he){return he&&he._delegate?he._delegate:he}},6405:(Xn,Tt,B)=>{"use strict";function w(ne,ee){return ne.reduce((Re,re,ye)=>(Re[re]=ee[ye],Re),{})}B.d(Tt,{e:()=>w})},6472:(Xn,Tt,B)=>{"use strict";B.d(Tt,{x:()=>ee});var w=B(7028),ne=B(4418);function ee(Re){return(0,ne.T)(Re?.[w.l])}},6719:(Xn,Tt,B)=>{"use strict";B.d(Tt,{xv:()=>St,u0:()=>pr,CA:()=>Rt,lR:()=>kt,S3:()=>Ti});var w=B(1489),ne=B(2598),ee=B(9406);function lt(Le){void 0===Le&&((0,w.Af3)(lt),Le=(0,w.WQX)(w.zZn));const Ve=Le.get(w.u5s);return He=>new ee.c(Ge=>{const qe=Ve.add();let Nt=!1;function Pn(){Nt||(qe(),Nt=!0)}const sn=He.subscribe({next:ur=>{Ge.next(ur),Pn()},complete:()=>{Ge.complete(),Pn()},error:ur=>{Ge.error(ur),Pn()}});return sn.add(()=>{Ge.unsubscribe(),Pn()}),sn})}var mt=B(1227),Ht=B(1246);const dn=new class hn extends Ht.q{}(class Jt extends mt.R{constructor(Ve,He){super(Ve,He),this.scheduler=Ve,this.work=He}schedule(Ve,He=0){return He>0?super.schedule(Ve,He):(this.delay=He,this.state=Ve,this.scheduler.flush(this),this)}execute(Ve,He){return He>0||this.closed?super.execute(Ve,He):this._execute(Ve,He)}requestAsyncId(Ve,He,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(Ve,He,Ge):(Ve.flush(this),0)}});var Ut=B(4929),Wt=B(1576),We=B(7336);const St=new w.RxE("ANGULARFIRE2_VERSION");function kt(Le,Ve,He){if(Ve){if(1===Ve.length)return Ve[0];const Nt=Ve.filter(Pn=>Pn.app===He);if(1===Nt.length)return Nt[0]}return He.container.getProvider(Le).getImmediate({optional:!0})}const Rt=(Le,Ve)=>{const He=Ve?[Ve]:(0,ne.Dk)(),Ge=[];return He.forEach(qe=>{qe.container.getProvider(Le).instances.forEach(Pn=>{Ge.includes(Pn)||Ge.push(Pn)})}),Ge};var at=function(Le){return Le[Le.SILENT=0]="SILENT",Le[Le.WARN=1]="WARN",Le[Le.VERBOSE=2]="VERBOSE",Le}(at||{}),kn=(0,w.naY)()&&typeof Zone<"u"?at.WARN:at.SILENT;class Hr{zone;delegate;constructor(Ve,He=dn){this.zone=Ve,this.delegate=He}now(){return this.delegate.now()}schedule(Ve,He,Ge){const qe=this.zone;return this.delegate.schedule(function(Pn){qe?qe.runGuarded(()=>{Ve.apply(this,[Pn])}):Ve.apply(this,[Pn])},He,Ge)}}let pr=(()=>{class Le{outsideAngular;insideAngular;constructor(){const He=(0,w.WQX)(w.SKi);this.outsideAngular=He.runOutsideAngular(()=>new Hr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=He.run(()=>new Hr(typeof Zone>"u"?void 0:Zone.current,Ut.E))}static \u0275fac=function(Ge){return new(Ge||Le)};static \u0275prov=w.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();var Wr=!1;function Pr(Le){const Ve=(0,w.WQX)(w.SKi,{optional:!0});return Ve?Ve.run(()=>Le()):Le()}const yi=(Le,Ve,He)=>(...Ge)=>(Ve&&setTimeout(Ve,0),(0,w.N4e)(He,()=>Pr(()=>Le.apply(void 0,Ge)))),Ti=(Le,Ve,He)=>(He||=Ve?at.WARN:at.VERBOSE,function(){let Ge;const qe=arguments;let Nt,Pn,sn;try{Nt=(0,w.WQX)(pr),Pn=(0,w.WQX)(w.u5s),sn=(0,w.WQX)(w.uvJ)}catch{return function Nr(Le,Ve){!Wr&&(kn>at.SILENT||(0,w.naY)())&&(Wr=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),kn>=Ve&&console.warn(`Firebase API called outside injection context: ${Le.name}`)}(Le,He),Le.apply(this,qe)}for(let Bn=0;Bn<arguments.length;Bn++)"function"==typeof qe[Bn]&&(Ve&&(Ge||=Pr(()=>Pn.add())),qe[Bn]=yi(qe[Bn],Ge,sn));const ur=function Ur(Le){const Ve=(0,w.WQX)(w.SKi,{optional:!0});return Ve?Ve.runOutsideAngular(()=>Le()):Le()}(()=>Le.apply(this,qe));return Ve?ur instanceof ee.c?ur.pipe((0,Wt._)(Nt.outsideAngular),(0,We.Q)(Nt.insideAngular),lt(sn)):ur instanceof Promise?Pr(()=>{const Bn=Pn.add();return new Promise((Qr,Cr)=>{ur.then(Li=>(0,w.N4e)(sn,()=>Pr(()=>Qr(Li))),Li=>(0,w.N4e)(sn,()=>Pr(()=>Cr(Li)))).finally(Bn)})}):"function"==typeof ur&&Ge?function(){return setTimeout(Ge,0),ur.apply(this,arguments)}:Pr(()=>ur):ur instanceof ee.c?ur.pipe((0,Wt._)(Nt.outsideAngular),(0,We.Q)(Nt.insideAngular)):Pr(()=>ur)})},6834:(Xn,Tt,B)=>{"use strict";B.d(Tt,{h1:()=>De,uA:()=>ee});var w=B(3308),ne=B(6383);class ee{constructor(ve,Ie,lt){this.name=ve,this.instanceFactory=Ie,this.type=lt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ve){return this.instantiationMode=ve,this}setMultipleInstances(ve){return this.multipleInstances=ve,this}setServiceProps(ve){return this.serviceProps=ve,this}setInstanceCreatedCallback(ve){return this.onInstanceCreated=ve,this}}const Re="[DEFAULT]";class re{constructor(ve,Ie){this.name=ve,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ve){const Ie=this.normalizeInstanceIdentifier(ve);if(!this.instancesDeferred.has(Ie)){const lt=new ne.cY;if(this.instancesDeferred.set(Ie,lt),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:Ie});ht&&lt.resolve(ht)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(ve){var Ie;const lt=this.normalizeInstanceIdentifier(ve?.identifier),ht=null!==(Ie=ve?.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(lt)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:lt})}catch(mt){if(ht)return null;throw mt}}getComponent(){return this.component}setComponent(ve){if(ve.name!==this.name)throw Error(`Mismatching Component ${ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ve,this.shouldAutoInitialize()){if(function Fe(rt){return"EAGER"===rt.instantiationMode}(ve))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[Ie,lt]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(Ie);try{const mt=this.getOrInitializeService({instanceIdentifier:ht});lt.resolve(mt)}catch{}}}}clearInstance(ve=Re){this.instancesDeferred.delete(ve),this.instancesOptions.delete(ve),this.instances.delete(ve)}delete(){var ve=this;return(0,w.A)(function*(){const Ie=Array.from(ve.instances.values());yield Promise.all([...Ie.filter(lt=>"INTERNAL"in lt).map(lt=>lt.INTERNAL.delete()),...Ie.filter(lt=>"_delete"in lt).map(lt=>lt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ve=Re){return this.instances.has(ve)}getOptions(ve=Re){return this.instancesOptions.get(ve)||{}}initialize(ve={}){const{options:Ie={}}=ve,lt=this.normalizeInstanceIdentifier(ve.instanceIdentifier);if(this.isInitialized(lt))throw Error(`${this.name}(${lt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:lt,options:Ie});for(const[mt,Jt]of this.instancesDeferred.entries())lt===this.normalizeInstanceIdentifier(mt)&&Jt.resolve(ht);return ht}onInit(ve,Ie){var lt;const ht=this.normalizeInstanceIdentifier(Ie),mt=null!==(lt=this.onInitCallbacks.get(ht))&&void 0!==lt?lt:new Set;mt.add(ve),this.onInitCallbacks.set(ht,mt);const Jt=this.instances.get(ht);return Jt&&ve(Jt,ht),()=>{mt.delete(ve)}}invokeOnInitCallbacks(ve,Ie){const lt=this.onInitCallbacks.get(Ie);if(lt)for(const ht of lt)try{ht(ve,Ie)}catch{}}getOrInitializeService({instanceIdentifier:ve,options:Ie={}}){let lt=this.instances.get(ve);if(!lt&&this.component&&(lt=this.component.instanceFactory(this.container,{instanceIdentifier:(rt=ve,rt===Re?void 0:rt),options:Ie}),this.instances.set(ve,lt),this.instancesOptions.set(ve,Ie),this.invokeOnInitCallbacks(lt,ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ve,lt)}catch{}var rt;return lt||null}normalizeInstanceIdentifier(ve=Re){return this.component?this.component.multipleInstances?ve:Re:ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(ve){this.name=ve,this.providers=new Map}addComponent(ve){const Ie=this.getProvider(ve.name);if(Ie.isComponentSet())throw new Error(`Component ${ve.name} has already been registered with ${this.name}`);Ie.setComponent(ve)}addOrOverwriteComponent(ve){this.getProvider(ve.name).isComponentSet()&&this.providers.delete(ve.name),this.addComponent(ve)}getProvider(ve){if(this.providers.has(ve))return this.providers.get(ve);const Ie=new re(ve,this);return this.providers.set(ve,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},6849:(Xn,Tt,B)=>{"use strict";B.d(Tt,{u:()=>ht});var w=B(3308),ne=B(3229),ee=B(4690),Re=B(8823),re=B(4526),ye=B(2831),Fe=B(8629),De=B(1278),rt=B(4711),ve=B(1489),Ie=B(620),lt=B(1334);let ht=(()=>{class mt{constructor(Ht,hn,dn){var Kt=this;this.auth=Ht,this.userCtx=hn,this.http=dn,this.token=null,this.base=Fe.c.backendUrl,(0,De.hg)(this.auth,function(){var Ut=(0,w.A)(function*(Wt){Wt?(console.info("[AuthService] Auth state changed \u2192 user logged in:",Wt.email),yield Kt.refreshToken()):(console.info("[AuthService] Auth state changed \u2192 user logged out"),Kt.token=null,localStorage.removeItem("fb_token"))});return function(Wt){return Ut.apply(this,arguments)}}())}refreshToken(){var Ht=this;return(0,w.A)(function*(){try{const hn=Ht.auth.currentUser;if(!hn)return;Ht.token=yield hn.getIdToken(!0),localStorage.setItem("fb_token",Ht.token),console.debug("[AuthService] Token rafra\xeechi avec succ\xe8s."),(0,ne.O)(9e5).subscribe(()=>Ht.refreshToken())}catch(hn){console.error("[AuthService] Erreur lors du rafra\xeechissement du token",hn)}})()}signup(Ht,hn){const dn={url:`${window.location.origin}/tasks`,handleCodeInApp:!1};return(0,ee.H)((0,De.eJ)(this.auth,Ht,hn).then(function(){var Kt=(0,w.A)(function*(Ut){return yield(0,De.gA)(Ut.user,dn),console.info("[AuthService] Email de v\xe9rification envoy\xe9 \xe0",Ht),Ut.user});return function(Ut){return Kt.apply(this,arguments)}}())).pipe((0,re.W)(Kt=>(console.error("[AuthService] Erreur signup:",Kt),(0,Re.$)(()=>new Error(this.mapFirebaseError(Kt.code))))))}loginWithEmail(Ht,hn){return(0,ee.H)((0,De.oM)(this.auth,rt.F0).then(()=>(0,De.x9)(this.auth,Ht,hn)).then(dn=>{if(!dn.user.emailVerified)throw new Error("Veuillez v\xe9rifier votre e-mail avant de vous connecter.");return dn.user})).pipe((0,re.W)(dn=>(console.error("[AuthService] Erreur login:",dn),(0,Re.$)(()=>new Error(this.mapFirebaseError(dn.code))))))}loginWithGoogle(){const Ht=new rt.HF;return(0,ee.H)((0,De.oM)(this.auth,rt.F0).then(()=>(0,De.df)(this.auth,Ht))).pipe((0,ye.n)(function(){var hn=(0,w.A)(function*(dn){return dn.user});return function(dn){return hn.apply(this,arguments)}}()),(0,re.W)(hn=>(console.error("[AuthService] Erreur Google login:",hn),(0,Re.$)(()=>new Error(this.mapFirebaseError(hn.code))))))}loginWithMicrosoft(){const Ht=new rt.LD("microsoft.com");return(0,ee.H)((0,De.oM)(this.auth,rt.F0).then(()=>(0,De.df)(this.auth,Ht))).pipe((0,ye.n)(function(){var hn=(0,w.A)(function*(dn){return dn.user});return function(dn){return hn.apply(this,arguments)}}()),(0,re.W)(hn=>(console.error("[AuthService] Erreur Microsoft login:",hn),(0,Re.$)(()=>new Error(this.mapFirebaseError(hn.code))))))}logout(){var Ht=this;return(0,w.A)(function*(){try{yield(0,De.CI)(Ht.auth),Ht.token=null,localStorage.removeItem("fb_token"),console.log("[AuthService] Utilisateur d\xe9connect\xe9 avec succ\xe8s")}catch(hn){console.error("[AuthService] \xc9chec de la d\xe9connexion",hn)}})()}sendVerification(Ht){return(0,ee.H)((0,De.gA)(Ht))}sendPasswordReset(Ht){const hn={url:`${window.location.origin}/auth/reset-password`,handleCodeInApp:!1};return(0,ee.H)((0,De.J1)(this.auth,Ht,hn)).pipe((0,re.W)(dn=>(console.error("[AuthService] Erreur reset password:",dn),(0,Re.$)(()=>new Error(this.mapFirebaseError(dn.code))))))}changePassword(Ht){const hn=this.auth.currentUser;return hn?(0,ee.H)((0,De.f3)(hn,Ht)).pipe((0,re.W)(dn=>(console.error("[AuthService] Erreur changement mot de passe:",dn),(0,Re.$)(()=>new Error(this.mapFirebaseError(dn.code)))))):(0,Re.$)(()=>new Error("Utilisateur non authentifi\xe9"))}profile(){return(0,ee.H)(this.userCtx.authHeaders()).pipe((0,ye.n)(Ht=>this.http.get(`${this.base}/api/auths/profile`,Ht)))}refreshSession(){return(0,ee.H)(this.userCtx.authHeaders()).pipe((0,ye.n)(Ht=>this.http.post(`${this.base}/api/auths/refresh`,{},Ht)))}revokeSession(){return(0,ee.H)(this.userCtx.authHeaders()).pipe((0,ye.n)(Ht=>this.http.post(`${this.base}/api/auths/logout`,{},Ht)))}mapFirebaseError(Ht){return{"auth/email-already-in-use":"Cette adresse e-mail est d\xe9j\xe0 utilis\xe9e.","auth/invalid-email":"Adresse e-mail invalide.","auth/weak-password":"Le mot de passe est trop faible.","auth/user-not-found":"Aucun utilisateur trouv\xe9 avec cet e-mail.","auth/wrong-password":"Mot de passe incorrect.","auth/too-many-requests":"Trop de tentatives. R\xe9essayez plus tard."}[Ht]||"Une erreur inattendue est survenue. R\xe9essayez."}static{this.\u0275fac=function(hn){return new(hn||mt)(ve.KVO(De.Nj),ve.KVO(Ie.i),ve.KVO(lt.Qq))}}static{this.\u0275prov=ve.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}}return mt})()},6872:(Xn,Tt,B)=>{"use strict";B.d(Tt,{D:()=>re});const{isArray:w}=Array,{getPrototypeOf:ne,prototype:ee,keys:Re}=Object;function re(Fe){if(1===Fe.length){const De=Fe[0];if(w(De))return{args:De,keys:null};if(function ye(Fe){return Fe&&"object"==typeof Fe&&ne(Fe)===ee}(De)){const rt=Re(De);return{args:rt.map(ve=>De[ve]),keys:rt}}}return{args:Fe,keys:null}}},6978:(Xn,Tt,B)=>{"use strict";B.d(Tt,{B3:()=>it,Jj:()=>te,MD:()=>jr,P9:()=>Qs,Pc:()=>cr,QX:()=>Tn,Sq:()=>Vr,T3:()=>At,YU:()=>vn,bT:()=>be,fw:()=>ee,vh:()=>Pe});var w=B(1489),ne=B(4357);let ee=(()=>{class K extends ne.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(ie,ge){super(),this._platformLocation=ie,null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ie){this._removeListenerFns.push(this._platformLocation.onPopState(ie),this._platformLocation.onHashChange(ie))}getBaseHref(){return this._baseHref}path(ie=!1){const ge=this._platformLocation.hash??"#";return ge.length>0?ge.substring(1):ge}prepareExternalUrl(ie){const ge=(0,ne.om)(this._baseHref,ie);return ge.length>0?"#"+ge:ge}pushState(ie,ge,ke,bt){const Bt=this.prepareExternalUrl(ke+(0,ne.Q)(bt))||this._platformLocation.pathname;this._platformLocation.pushState(ie,ge,Bt)}replaceState(ie,ge,ke,bt){const Bt=this.prepareExternalUrl(ke+(0,ne.Q)(bt))||this._platformLocation.pathname;this._platformLocation.replaceState(ie,ge,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ie=0){this._platformLocation.historyGo?.(ie)}static \u0275fac=function(ge){return new(ge||K)(w.KVO(ne.Vw),w.KVO(ne.kB,8))};static \u0275prov=w.jDH({token:K,factory:K.\u0275fac})}return K})();var re=function(K){return K[K.Decimal=0]="Decimal",K[K.Percent=1]="Percent",K[K.Currency=2]="Currency",K[K.Scientific=3]="Scientific",K}(re||{}),Fe=function(K){return K[K.Format=0]="Format",K[K.Standalone=1]="Standalone",K}(Fe||{}),De=function(K){return K[K.Narrow=0]="Narrow",K[K.Abbreviated=1]="Abbreviated",K[K.Wide=2]="Wide",K[K.Short=3]="Short",K}(De||{}),rt=function(K){return K[K.Short=0]="Short",K[K.Medium=1]="Medium",K[K.Long=2]="Long",K[K.Full=3]="Full",K}(rt||{});function Kt(K,Ee){return Nr((0,w.H5H)(K)[w.KH2.DateFormat],Ee)}function Ut(K,Ee){return Nr((0,w.H5H)(K)[w.KH2.TimeFormat],Ee)}function Wt(K,Ee){return Nr((0,w.H5H)(K)[w.KH2.DateTimeFormat],Ee)}function We(K,Ee){const ie=(0,w.H5H)(K),ge=ie[w.KH2.NumberSymbols][Ee];if(typeof ge>"u"){if(12===Ee)return ie[w.KH2.NumberSymbols][0];if(13===Ee)return ie[w.KH2.NumberSymbols][1]}return ge}function Or(K){if(!K[w.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${K[w.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nr(K,Ee){for(let ie=Ee;ie>-1;ie--)if(typeof K[ie]<"u")return K[ie];throw new Error("Locale data API: locale data undefined")}function Ur(K){const[Ee,ie]=K.split(":");return{hours:+Ee,minutes:+ie}}const Le=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ve={},He=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ge(K,Ee,ie,ge){let ke=function gr(K){if(nr(K))return K;if("number"==typeof K&&!isNaN(K))return new Date(K);if("string"==typeof K){if(K=K.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(K)){const[ke,bt=1,Bt=1]=K.split("-").map(hr=>+hr);return qe(ke,bt-1,Bt)}const ie=parseFloat(K);if(!isNaN(K-ie))return new Date(ie);let ge;if(ge=K.match(Le))return function on(K){const Ee=new Date(0);let ie=0,ge=0;const ke=K[8]?Ee.setUTCFullYear:Ee.setFullYear,bt=K[8]?Ee.setUTCHours:Ee.setHours;K[9]&&(ie=Number(K[9]+K[10]),ge=Number(K[9]+K[11])),ke.call(Ee,Number(K[1]),Number(K[2])-1,Number(K[3]));const Bt=Number(K[4]||0)-ie,hr=Number(K[5]||0)-ge,_r=Number(K[6]||0),oi=Math.floor(1e3*parseFloat("0."+(K[7]||0)));return bt.call(Ee,Bt,hr,_r,oi),Ee}(ge)}const Ee=new Date(K);if(!nr(Ee))throw new Error(`Unable to convert "${K}" into a date`);return Ee}(K);Ee=Nt(ie,Ee)||Ee;let hr,Bt=[];for(;Ee;){if(hr=He.exec(Ee),!hr){Bt.push(Ee);break}{Bt=Bt.concat(hr.slice(1));const li=Bt.pop();if(!li)break;Ee=li}}let _r=ke.getTimezoneOffset();ge&&(_r=en(ge,_r),ke=function or(K,Ee){const ke=K.getTimezoneOffset();return function Sn(K,Ee){return(K=new Date(K.getTime())).setMinutes(K.getMinutes()+Ee),K}(K,-1*(en(Ee,ke)-ke))}(ke,ge));let oi="";return Bt.forEach(li=>{const zr=function ft(K){if(Yt[K])return Yt[K];let Ee;switch(K){case"G":case"GG":case"GGG":Ee=Cr(3,De.Abbreviated);break;case"GGGG":Ee=Cr(3,De.Wide);break;case"GGGGG":Ee=Cr(3,De.Narrow);break;case"y":Ee=Bn(0,1,0,!1,!0);break;case"yy":Ee=Bn(0,2,0,!0,!0);break;case"yyy":Ee=Bn(0,3,0,!1,!0);break;case"yyyy":Ee=Bn(0,4,0,!1,!0);break;case"Y":Ee=nn(1);break;case"YY":Ee=nn(2,!0);break;case"YYY":Ee=nn(3);break;case"YYYY":Ee=nn(4);break;case"M":case"L":Ee=Bn(1,1,1);break;case"MM":case"LL":Ee=Bn(1,2,1);break;case"MMM":Ee=Cr(2,De.Abbreviated);break;case"MMMM":Ee=Cr(2,De.Wide);break;case"MMMMM":Ee=Cr(2,De.Narrow);break;case"LLL":Ee=Cr(2,De.Abbreviated,Fe.Standalone);break;case"LLLL":Ee=Cr(2,De.Wide,Fe.Standalone);break;case"LLLLL":Ee=Cr(2,De.Narrow,Fe.Standalone);break;case"w":Ee=Ar(1);break;case"ww":Ee=Ar(2);break;case"W":Ee=Ar(1,!0);break;case"d":Ee=Bn(2,1);break;case"dd":Ee=Bn(2,2);break;case"c":case"cc":Ee=Bn(7,1);break;case"ccc":Ee=Cr(1,De.Abbreviated,Fe.Standalone);break;case"cccc":Ee=Cr(1,De.Wide,Fe.Standalone);break;case"ccccc":Ee=Cr(1,De.Narrow,Fe.Standalone);break;case"cccccc":Ee=Cr(1,De.Short,Fe.Standalone);break;case"E":case"EE":case"EEE":Ee=Cr(1,De.Abbreviated);break;case"EEEE":Ee=Cr(1,De.Wide);break;case"EEEEE":Ee=Cr(1,De.Narrow);break;case"EEEEEE":Ee=Cr(1,De.Short);break;case"a":case"aa":case"aaa":Ee=Cr(0,De.Abbreviated);break;case"aaaa":Ee=Cr(0,De.Wide);break;case"aaaaa":Ee=Cr(0,De.Narrow);break;case"b":case"bb":case"bbb":Ee=Cr(0,De.Abbreviated,Fe.Standalone,!0);break;case"bbbb":Ee=Cr(0,De.Wide,Fe.Standalone,!0);break;case"bbbbb":Ee=Cr(0,De.Narrow,Fe.Standalone,!0);break;case"B":case"BB":case"BBB":Ee=Cr(0,De.Abbreviated,Fe.Format,!0);break;case"BBBB":Ee=Cr(0,De.Wide,Fe.Format,!0);break;case"BBBBB":Ee=Cr(0,De.Narrow,Fe.Format,!0);break;case"h":Ee=Bn(3,1,-12);break;case"hh":Ee=Bn(3,2,-12);break;case"H":Ee=Bn(3,1);break;case"HH":Ee=Bn(3,2);break;case"m":Ee=Bn(4,1);break;case"mm":Ee=Bn(4,2);break;case"s":Ee=Bn(5,1);break;case"ss":Ee=Bn(5,2);break;case"S":Ee=Bn(6,1);break;case"SS":Ee=Bn(6,2);break;case"SSS":Ee=Bn(6,3);break;case"Z":case"ZZ":case"ZZZ":Ee=si(0);break;case"ZZZZZ":Ee=si(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ee=si(1);break;case"OOOO":case"ZZZZ":case"zzzz":Ee=si(2);break;default:return null}return Yt[K]=Ee,Ee}(li);oi+=zr?zr(ke,ie,_r):"''"===li?"'":li.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),oi}function qe(K,Ee,ie){const ge=new Date(0);return ge.setFullYear(K,Ee,ie),ge.setHours(0,0,0),ge}function Nt(K,Ee){const ie=function lt(K){return(0,w.H5H)(K)[w.KH2.LocaleId]}(K);if(Ve[ie]??={},Ve[ie][Ee])return Ve[ie][Ee];let ge="";switch(Ee){case"shortDate":ge=Kt(K,rt.Short);break;case"mediumDate":ge=Kt(K,rt.Medium);break;case"longDate":ge=Kt(K,rt.Long);break;case"fullDate":ge=Kt(K,rt.Full);break;case"shortTime":ge=Ut(K,rt.Short);break;case"mediumTime":ge=Ut(K,rt.Medium);break;case"longTime":ge=Ut(K,rt.Long);break;case"fullTime":ge=Ut(K,rt.Full);break;case"short":const ke=Nt(K,"shortTime"),bt=Nt(K,"shortDate");ge=Pn(Wt(K,rt.Short),[ke,bt]);break;case"medium":const Bt=Nt(K,"mediumTime"),hr=Nt(K,"mediumDate");ge=Pn(Wt(K,rt.Medium),[Bt,hr]);break;case"long":const _r=Nt(K,"longTime"),oi=Nt(K,"longDate");ge=Pn(Wt(K,rt.Long),[_r,oi]);break;case"full":const li=Nt(K,"fullTime"),zr=Nt(K,"fullDate");ge=Pn(Wt(K,rt.Full),[li,zr])}return ge&&(Ve[ie][Ee]=ge),ge}function Pn(K,Ee){return Ee&&(K=K.replace(/\{([^}]+)}/g,function(ie,ge){return null!=Ee&&ge in Ee?Ee[ge]:ie})),K}function sn(K,Ee,ie="-",ge,ke){let bt="";(K<0||ke&&K<=0)&&(ke?K=1-K:(K=-K,bt=ie));let Bt=String(K);for(;Bt.length<Ee;)Bt="0"+Bt;return ge&&(Bt=Bt.slice(Bt.length-Ee)),bt+Bt}function Bn(K,Ee,ie=0,ge=!1,ke=!1){return function(bt,Bt){let hr=function Qr(K,Ee){switch(K){case 0:return Ee.getFullYear();case 1:return Ee.getMonth();case 2:return Ee.getDate();case 3:return Ee.getHours();case 4:return Ee.getMinutes();case 5:return Ee.getSeconds();case 6:return Ee.getMilliseconds();case 7:return Ee.getDay();default:throw new Error(`Unknown DateType value "${K}".`)}}(K,bt);if((ie>0||hr>-ie)&&(hr+=ie),3===K)0===hr&&-12===ie&&(hr=12);else if(6===K)return function ur(K,Ee){return sn(K,3).substring(0,Ee)}(hr,Ee);const _r=We(Bt,5);return sn(hr,Ee,_r,ge,ke)}}function Cr(K,Ee,ie=Fe.Format,ge=!1){return function(ke,bt){return function Li(K,Ee,ie,ge,ke,bt){switch(ie){case 2:return function Jt(K,Ee,ie){const ge=(0,w.H5H)(K),bt=Nr([ge[w.KH2.MonthsFormat],ge[w.KH2.MonthsStandalone]],Ee);return Nr(bt,ie)}(Ee,ke,ge)[K.getMonth()];case 1:return function mt(K,Ee,ie){const ge=(0,w.H5H)(K),bt=Nr([ge[w.KH2.DaysFormat],ge[w.KH2.DaysStandalone]],Ee);return Nr(bt,ie)}(Ee,ke,ge)[K.getDay()];case 0:const Bt=K.getHours(),hr=K.getMinutes();if(bt){const oi=function Hr(K){const Ee=(0,w.H5H)(K);return Or(Ee),(Ee[w.KH2.ExtraData][2]||[]).map(ge=>"string"==typeof ge?Ur(ge):[Ur(ge[0]),Ur(ge[1])])}(Ee),li=function pr(K,Ee,ie){const ge=(0,w.H5H)(K);Or(ge);const bt=Nr([ge[w.KH2.ExtraData][0],ge[w.KH2.ExtraData][1]],Ee)||[];return Nr(bt,ie)||[]}(Ee,ke,ge),zr=oi.findIndex(Jn=>{if(Array.isArray(Jn)){const[vi,wi]=Jn,Mi=Bt>=vi.hours&&hr>=vi.minutes,Os=Bt<wi.hours||Bt===wi.hours&&hr<wi.minutes;if(vi.hours<wi.hours){if(Mi&&Os)return!0}else if(Mi||Os)return!0}else if(Jn.hours===Bt&&Jn.minutes===hr)return!0;return!1});if(-1!==zr)return li[zr]}return function ht(K,Ee,ie){const ge=(0,w.H5H)(K),bt=Nr([ge[w.KH2.DayPeriodsFormat],ge[w.KH2.DayPeriodsStandalone]],Ee);return Nr(bt,ie)}(Ee,ke,ge)[Bt<12?0:1];case 3:return function Ht(K,Ee){return Nr((0,w.H5H)(K)[w.KH2.Eras],Ee)}(Ee,ge)[K.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ie}`)}}(ke,bt,K,Ee,ie,ge)}}function si(K){return function(Ee,ie,ge){const ke=-1*ge,bt=We(ie,5),Bt=ke>0?Math.floor(ke/60):Math.ceil(ke/60);switch(K){case 0:return(ke>=0?"+":"")+sn(Bt,2,bt)+sn(Math.abs(ke%60),2,bt);case 1:return"GMT"+(ke>=0?"+":"")+sn(Bt,1,bt);case 2:return"GMT"+(ke>=0?"+":"")+sn(Bt,2,bt)+":"+sn(Math.abs(ke%60),2,bt);case 3:return 0===ge?"Z":(ke>=0?"+":"")+sn(Bt,2,bt)+":"+sn(Math.abs(ke%60),2,bt);default:throw new Error(`Unknown zone width "${K}"`)}}}const Xr=0,ni=4;function Mn(K){const Ee=K.getDay(),ie=0===Ee?-3:ni-Ee;return qe(K.getFullYear(),K.getMonth(),K.getDate()+ie)}function Ar(K,Ee=!1){return function(ie,ge){let ke;if(Ee){const bt=new Date(ie.getFullYear(),ie.getMonth(),1).getDay()-1,Bt=ie.getDate();ke=1+Math.floor((Bt+bt)/7)}else{const bt=Mn(ie),Bt=function Jr(K){const Ee=qe(K,Xr,1).getDay();return qe(K,0,1+(Ee<=ni?ni:ni+7)-Ee)}(bt.getFullYear()),hr=bt.getTime()-Bt.getTime();ke=1+Math.round(hr/6048e5)}return sn(ke,K,We(ge,5))}}function nn(K,Ee=!1){return function(ie,ge){return sn(Mn(ie).getFullYear(),K,We(ge,5),Ee)}}const Yt={};function en(K,Ee){K=K.replace(/:/g,"");const ie=Date.parse("Jan 01, 1970 00:00:00 "+K)/6e4;return isNaN(ie)?Ee:ie}function nr(K){return K instanceof Date&&!isNaN(K.valueOf())}const mr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wi(K){const Ee=parseInt(K);if(isNaN(Ee))throw new Error("Invalid integer literal when parsing "+K);return Ee}const bn=/\s+/,Un=[];let vn=(()=>{class K{_ngEl;_renderer;initialClasses=Un;rawClass;stateMap=new Map;constructor(ie,ge){this._ngEl=ie,this._renderer=ge}set klass(ie){this.initialClasses=null!=ie?ie.trim().split(bn):Un}set ngClass(ie){this.rawClass="string"==typeof ie?ie.trim().split(bn):ie}ngDoCheck(){for(const ge of this.initialClasses)this._updateState(ge,!0);const ie=this.rawClass;if(Array.isArray(ie)||ie instanceof Set)for(const ge of ie)this._updateState(ge,!0);else if(null!=ie)for(const ge of Object.keys(ie))this._updateState(ge,!!ie[ge]);this._applyStateDiff()}_updateState(ie,ge){const ke=this.stateMap.get(ie);void 0!==ke?(ke.enabled!==ge&&(ke.changed=!0,ke.enabled=ge),ke.touched=!0):this.stateMap.set(ie,{enabled:ge,changed:!0,touched:!0})}_applyStateDiff(){for(const ie of this.stateMap){const ge=ie[0],ke=ie[1];ke.changed?(this._toggleClass(ge,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(ge,!1),this.stateMap.delete(ge)),ke.touched=!1}}_toggleClass(ie,ge){(ie=ie.trim()).length>0&&ie.split(bn).forEach(ke=>{ge?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.aKT),w.rXU(w.sFG))};static \u0275dir=w.FsC({type:K,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return K})();class Br{$implicit;ngForOf;index;count;constructor(Ee,ie,ge,ke){this.$implicit=Ee,this.ngForOf=ie,this.index=ge,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class K{_viewContainer;_template;_differs;set ngForOf(ie){this._ngForOf=ie,this._ngForOfDirty=!0}set ngForTrackBy(ie){this._trackByFn=ie}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(ie,ge,ke){this._viewContainer=ie,this._template=ge,this._differs=ke}set ngForTemplate(ie){ie&&(this._template=ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ie=this._ngForOf;!this._differ&&ie&&(this._differ=this._differs.find(ie).create(this.ngForTrackBy))}if(this._differ){const ie=this._differ.diff(this._ngForOf);ie&&this._applyChanges(ie)}}_applyChanges(ie){const ge=this._viewContainer;ie.forEachOperation((ke,bt,Bt)=>{if(null==ke.previousIndex)ge.createEmbeddedView(this._template,new Br(ke.item,this._ngForOf,-1,-1),null===Bt?void 0:Bt);else if(null==Bt)ge.remove(null===bt?void 0:bt);else if(null!==bt){const hr=ge.get(bt);ge.move(hr,Bt),zi(hr,ke)}});for(let ke=0,bt=ge.length;ke<bt;ke++){const hr=ge.get(ke).context;hr.index=ke,hr.count=bt,hr.ngForOf=this._ngForOf}ie.forEachIdentityChange(ke=>{zi(ge.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(ie,ge){return!0}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.c1b),w.rXU(w.C4Q),w.rXU(w._q3))};static \u0275dir=w.FsC({type:K,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return K})();function zi(K,Ee){K.context.$implicit=Ee.item}let be=(()=>{class K{_viewContainer;_context=new Ye;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(ie,ge){this._viewContainer=ie,this._thenTemplateRef=ge}set ngIf(ie){this._context.$implicit=this._context.ngIf=ie,this._updateView()}set ngIfThen(ie){Zt(ie),this._thenTemplateRef=ie,this._thenViewRef=null,this._updateView()}set ngIfElse(ie){Zt(ie),this._elseTemplateRef=ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(ie,ge){return!0}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.c1b),w.rXU(w.C4Q))};static \u0275dir=w.FsC({type:K,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return K})();class Ye{$implicit=null;ngIf=null}function Zt(K,Ee){if(K&&!K.createEmbeddedView)throw new w.wOt(2020,!1)}let it=(()=>{class K{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(ie,ge,ke){this._ngEl=ie,this._differs=ge,this._renderer=ke}set ngStyle(ie){this._ngStyle=ie,!this._differ&&ie&&(this._differ=this._differs.find(ie).create())}ngDoCheck(){if(this._differ){const ie=this._differ.diff(this._ngStyle);ie&&this._applyChanges(ie)}}_setStyle(ie,ge){const[ke,bt]=ie.split("."),Bt=-1===ke.indexOf("-")?void 0:w.czy.DashCase;null!=ge?this._renderer.setStyle(this._ngEl.nativeElement,ke,bt?`${ge}${bt}`:ge,Bt):this._renderer.removeStyle(this._ngEl.nativeElement,ke,Bt)}_applyChanges(ie){ie.forEachRemovedItem(ge=>this._setStyle(ge.key,null)),ie.forEachAddedItem(ge=>this._setStyle(ge.key,ge.currentValue)),ie.forEachChangedItem(ge=>this._setStyle(ge.key,ge.currentValue))}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.aKT),w.rXU(w.MKu),w.rXU(w.sFG))};static \u0275dir=w.FsC({type:K,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return K})(),At=(()=>{class K{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(ie){this._viewContainerRef=ie}ngOnChanges(ie){if(this._shouldRecreateView(ie)){const ge=this._viewContainerRef;if(this._viewRef&&ge.remove(ge.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ke=this._createContextForwardProxy();this._viewRef=ge.createEmbeddedView(this.ngTemplateOutlet,ke,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ie){return!!ie.ngTemplateOutlet||!!ie.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ie,ge,ke)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ge,ke),get:(ie,ge,ke)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ge,ke)}})}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.c1b))};static \u0275dir=w.FsC({type:K,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[w.OA$]})}return K})();function Vn(K,Ee){return new w.wOt(2100,!1)}class Yn{createSubscription(Ee,ie){return(0,w.O8t)(()=>Ee.subscribe({next:ie,error:ge=>{throw ge}}))}dispose(Ee){(0,w.O8t)(()=>Ee.unsubscribe())}}class ce{createSubscription(Ee,ie){return Ee.then(ge=>ie?.(ge),ge=>{throw ge}),{unsubscribe:()=>{ie=null}}}dispose(Ee){Ee.unsubscribe()}}const H=new ce,$=new Yn;let te=(()=>{class K{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(ie){this._ref=ie}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ie){if(!this._obj){if(ie)try{this.markForCheckOnValueUpdate=!1,this._subscribe(ie)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return ie!==this._obj?(this._dispose(),this.transform(ie)):this._latestValue}_subscribe(ie){this._obj=ie,this._strategy=this._selectStrategy(ie),this._subscription=this._strategy.createSubscription(ie,ge=>this._updateLatestValue(ie,ge))}_selectStrategy(ie){if((0,w.jNT)(ie))return H;if((0,w.zjR)(ie))return $;throw Vn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ie,ge){ie===this._obj&&(this._latestValue=ge,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.gRc,16))};static \u0275pipe=w.EJ8({name:"async",type:K,pure:!1})}return K})(),cr=(()=>{class K{transform(ie){if(null==ie)return null;if("string"!=typeof ie)throw Vn();return ie.toUpperCase()}static \u0275fac=function(ge){return new(ge||K)};static \u0275pipe=w.EJ8({name:"uppercase",type:K,pure:!0})}return K})();const fi=new w.nKC(""),Gi=new w.nKC("");let Pe=(()=>{class K{locale;defaultTimezone;defaultOptions;constructor(ie,ge,ke){this.locale=ie,this.defaultTimezone=ge,this.defaultOptions=ke}transform(ie,ge,ke,bt){if(null==ie||""===ie||ie!=ie)return null;try{return Ge(ie,ge??this.defaultOptions?.dateFormat??"mediumDate",bt||this.locale,ke??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Bt){throw Vn()}}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.xe9,16),w.rXU(fi,24),w.rXU(Gi,24))};static \u0275pipe=w.EJ8({name:"date",type:K,pure:!0})}return K})(),Tn=(()=>{class K{_locale;constructor(ie){this._locale=ie}transform(ie,ge,ke){if(!function ls(K){return!(null==K||""===K||K!=K)}(ie))return null;ke||=this._locale;try{return function Pi(K,Ee,ie){return function ns(K,Ee,ie,ge,ke,bt,Bt=!1){let hr="",_r=!1;if(isFinite(K)){let oi=function Bi(K){let ge,ke,bt,Bt,hr,Ee=Math.abs(K)+"",ie=0;for((ke=Ee.indexOf("."))>-1&&(Ee=Ee.replace(".","")),(bt=Ee.search(/e/i))>0?(ke<0&&(ke=bt),ke+=+Ee.slice(bt+1),Ee=Ee.substring(0,bt)):ke<0&&(ke=Ee.length),bt=0;"0"===Ee.charAt(bt);bt++);if(bt===(hr=Ee.length))ge=[0],ke=1;else{for(hr--;"0"===Ee.charAt(hr);)hr--;for(ke-=bt,ge=[],Bt=0;bt<=hr;bt++,Bt++)ge[Bt]=Number(Ee.charAt(bt))}return ke>22&&(ge=ge.splice(0,21),ie=ke-1,ke=1),{digits:ge,exponent:ie,integerLen:ke}}(K);Bt&&(oi=function ho(K){if(0===K.digits[0])return K;const Ee=K.digits.length-K.integerLen;return K.exponent?K.exponent+=2:(0===Ee?K.digits.push(0,0):1===Ee&&K.digits.push(0),K.integerLen+=2),K}(oi));let li=Ee.minInt,zr=Ee.minFrac,Jn=Ee.maxFrac;if(bt){const we=bt.match(mr);if(null===we)throw new Error(`${bt} is not a valid digit info`);const Ct=we[1],Ke=we[3],Mt=we[5];null!=Ct&&(li=Wi(Ct)),null!=Ke&&(zr=Wi(Ke)),null!=Mt?Jn=Wi(Mt):null!=Ke&&zr>Jn&&(Jn=zr)}!function kr(K,Ee,ie){if(Ee>ie)throw new Error(`The minimum number of digits after fraction (${Ee}) is higher than the maximum (${ie}).`);let ge=K.digits,ke=ge.length-K.integerLen;const bt=Math.min(Math.max(Ee,ke),ie);let Bt=bt+K.integerLen,hr=ge[Bt];if(Bt>0){ge.splice(Math.max(K.integerLen,Bt));for(let zr=Bt;zr<ge.length;zr++)ge[zr]=0}else{ke=Math.max(0,ke),K.integerLen=1,ge.length=Math.max(1,Bt=bt+1),ge[0]=0;for(let zr=1;zr<Bt;zr++)ge[zr]=0}if(hr>=5)if(Bt-1<0){for(let zr=0;zr>Bt;zr--)ge.unshift(0),K.integerLen++;ge.unshift(1),K.integerLen++}else ge[Bt-1]++;for(;ke<Math.max(0,bt);ke++)ge.push(0);let _r=0!==bt;const oi=Ee+K.integerLen,li=ge.reduceRight(function(zr,Jn,vi,wi){return wi[vi]=(Jn+=zr)<10?Jn:Jn-10,_r&&(0===wi[vi]&&vi>=oi?wi.pop():_r=!1),Jn>=10?1:0},0);li&&(ge.unshift(li),K.integerLen++)}(oi,zr,Jn);let vi=oi.digits,wi=oi.integerLen;const Mi=oi.exponent;let Os=[];for(_r=vi.every(we=>!we);wi<li;wi++)vi.unshift(0);for(;wi<0;wi++)vi.unshift(0);wi>0?Os=vi.splice(wi,vi.length):(Os=vi,vi=[0]);const ds=[];for(vi.length>=Ee.lgSize&&ds.unshift(vi.splice(-Ee.lgSize,vi.length).join(""));vi.length>Ee.gSize;)ds.unshift(vi.splice(-Ee.gSize,vi.length).join(""));vi.length&&ds.unshift(vi.join("")),hr=ds.join(We(ie,ge)),Os.length&&(hr+=We(ie,ke)+Os.join("")),Mi&&(hr+=We(ie,6)+"+"+Mi)}else hr=We(ie,9);return hr=K<0&&!_r?Ee.negPre+hr+Ee.negSuf:Ee.posPre+hr+Ee.posSuf,hr}(K,function bi(K,Ee="-"){const ie={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ge=K.split(";"),ke=ge[0],bt=ge[1],Bt=-1!==ke.indexOf(".")?ke.split("."):[ke.substring(0,ke.lastIndexOf("0")+1),ke.substring(ke.lastIndexOf("0")+1)],hr=Bt[0],_r=Bt[1]||"";ie.posPre=hr.substring(0,hr.indexOf("#"));for(let li=0;li<_r.length;li++){const zr=_r.charAt(li);"0"===zr?ie.minFrac=ie.maxFrac=li+1:"#"===zr?ie.maxFrac=li+1:ie.posSuf+=zr}const oi=hr.split(",");if(ie.gSize=oi[1]?oi[1].length:0,ie.lgSize=oi[2]||oi[1]?(oi[2]||oi[1]).length:0,bt){const li=ke.length-ie.posPre.length-ie.posSuf.length,zr=bt.indexOf("#");ie.negPre=bt.substring(0,zr).replace(/'/g,""),ie.negSuf=bt.slice(zr+li).replace(/'/g,"")}else ie.negPre=Ee+ie.posPre,ie.negSuf=ie.posSuf;return ie}(function St(K,Ee){return(0,w.H5H)(K)[w.KH2.NumberFormats][Ee]}(Ee,re.Decimal),We(Ee,5)),Ee,1,0,ie)}(function ks(K){if("string"==typeof K&&!isNaN(Number(K)-parseFloat(K)))return Number(K);if("number"!=typeof K)throw new Error(`${K} is not a number`);return K}(ie),ke,ge)}catch(bt){throw Vn()}}static \u0275fac=function(ge){return new(ge||K)(w.rXU(w.xe9,16))};static \u0275pipe=w.EJ8({name:"number",type:K,pure:!0})}return K})();let Qs=(()=>{class K{transform(ie,ge,ke){if(null==ie)return null;if("string"!=typeof ie&&!Array.isArray(ie))throw Vn();return ie.slice(ge,ke)}static \u0275fac=function(ge){return new(ge||K)};static \u0275pipe=w.EJ8({name:"slice",type:K,pure:!1})}return K})(),jr=(()=>{class K{static \u0275fac=function(ge){return new(ge||K)};static \u0275mod=w.$C({type:K});static \u0275inj=w.G2t({})}return K})()},7028:(Xn,Tt,B)=>{"use strict";B.d(Tt,{l:()=>ne});const ne=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},7129:(Xn,Tt,B)=>{"use strict";B.d(Tt,{$b:()=>ne,Vy:()=>Fe});const w=[];var ne=function(ve){return ve[ve.DEBUG=0]="DEBUG",ve[ve.VERBOSE=1]="VERBOSE",ve[ve.INFO=2]="INFO",ve[ve.WARN=3]="WARN",ve[ve.ERROR=4]="ERROR",ve[ve.SILENT=5]="SILENT",ve}(ne||{});const ee={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Re=ne.INFO,re={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ye=(ve,Ie,...lt)=>{if(Ie<ve.logLevel)return;const ht=(new Date).toISOString(),mt=re[Ie];if(!mt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[mt](`[${ht}]  ${ve.name}:`,...lt)};class Fe{constructor(Ie){this.name=Ie,this._logLevel=Re,this._logHandler=ye,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in ne))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?ee[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...Ie),this._logHandler(this,ne.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...Ie),this._logHandler(this,ne.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...Ie),this._logHandler(this,ne.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...Ie),this._logHandler(this,ne.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...Ie),this._logHandler(this,ne.ERROR,...Ie)}}},7267:(Xn,Tt,B)=>{"use strict";B.d(Tt,{x:()=>re});var w=B(3806),ee=B(2363),Re=B(4690);function re(...ye){return function ne(){return(0,w.U)(1)}()((0,Re.H)(ye,(0,ee.lI)(ye)))}},7270:(Xn,Tt,B)=>{"use strict";function Re(Le,Ve){var He={};for(var Ge in Le)Object.prototype.hasOwnProperty.call(Le,Ge)&&Ve.indexOf(Ge)<0&&(He[Ge]=Le[Ge]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Ge=Object.getOwnPropertySymbols(Le);qe<Ge.length;qe++)Ve.indexOf(Ge[qe])<0&&Object.prototype.propertyIsEnumerable.call(Le,Ge[qe])&&(He[Ge[qe]]=Le[Ge[qe]])}return He}function lt(Le,Ve,He,Ge){return new(He||(He=Promise))(function(Nt,Pn){function sn(Qr){try{Bn(Ge.next(Qr))}catch(Cr){Pn(Cr)}}function ur(Qr){try{Bn(Ge.throw(Qr))}catch(Cr){Pn(Cr)}}function Bn(Qr){Qr.done?Nt(Qr.value):function qe(Nt){return Nt instanceof He?Nt:new He(function(Pn){Pn(Nt)})}(Qr.value).then(sn,ur)}Bn((Ge=Ge.apply(Le,Ve||[])).next())})}function Wt(Le){return this instanceof Wt?(this.v=Le,this):new Wt(Le)}function We(Le,Ve,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Ge=He.apply(Le,Ve||[]),Nt=[];return qe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),sn("next"),sn("throw"),sn("return",function Pn(si){return function(Xr){return Promise.resolve(Xr).then(si,Cr)}}),qe[Symbol.asyncIterator]=function(){return this},qe;function sn(si,Xr){Ge[si]&&(qe[si]=function(ni){return new Promise(function(Jr,Mn){Nt.push([si,ni,Jr,Mn])>1||ur(si,ni)})},Xr&&(qe[si]=Xr(qe[si])))}function ur(si,Xr){try{!function Bn(si){si.value instanceof Wt?Promise.resolve(si.value.v).then(Qr,Cr):Li(Nt[0][2],si)}(Ge[si](Xr))}catch(ni){Li(Nt[0][3],ni)}}function Qr(si){ur("next",si)}function Cr(si){ur("throw",si)}function Li(si,Xr){si(Xr),Nt.shift(),Nt.length&&ur(Nt[0][0],Nt[0][1])}}function pt(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ve=Le[Symbol.asyncIterator];return Ve?Ve.call(Le):(Le=function Ht(Le){var Ve="function"==typeof Symbol&&Symbol.iterator,He=Ve&&Le[Ve],Ge=0;if(He)return He.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&Ge>=Le.length&&(Le=void 0),{value:Le&&Le[Ge++],done:!Le}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),He={},Ge("next"),Ge("throw"),Ge("return"),He[Symbol.asyncIterator]=function(){return this},He);function Ge(Nt){He[Nt]=Le[Nt]&&function(Pn){return new Promise(function(sn,ur){!function qe(Nt,Pn,sn,ur){Promise.resolve(ur).then(function(Bn){Nt({value:Bn,done:sn})},Pn)}(sn,ur,(Pn=Le[Nt](Pn)).done,Pn.value)})}}}B.d(Tt,{AQ:()=>We,N3:()=>Wt,Tt:()=>Re,sH:()=>lt,xN:()=>pt}),"function"==typeof SuppressedError&&SuppressedError},7336:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Q:()=>Re});var w=B(1982),ne=B(9867),ee=B(6111);function Re(re,ye=0){return(0,ne.N)((Fe,De)=>{Fe.subscribe((0,ee._)(De,rt=>(0,w.N)(De,re,()=>De.next(rt),ye),()=>(0,w.N)(De,re,()=>De.complete(),ye),rt=>(0,w.N)(De,re,()=>De.error(rt),ye)))})}},7462:(Xn,Tt,B)=>{"use strict";B.d(Tt,{T:()=>ne});var w=B(4418);function ne(ee){return Symbol.asyncIterator&&(0,w.T)(ee?.[Symbol.asyncIterator])}},7728:(Xn,Tt,B)=>{"use strict";B.d(Tt,{q:()=>ne});const ne=new(B(1489).nKC)("")},8001:(Xn,Tt,B)=>{"use strict";B.d(Tt,{v:()=>ee});var w=B(9406),ne=B(8621);function ee(Re){return new w.c(re=>{(0,ne.Tg)(Re()).subscribe(re)})}},8448:(Xn,Tt,B)=>{"use strict";B.d(Tt,{w:()=>ne});const ne=new(B(9406).c)(re=>re.complete())},8486:(Xn,Tt,B)=>{"use strict";B.d(Tt,{s:()=>Re});var w=B(8448),ne=B(9867),ee=B(6111);function Re(re){return re<=0?()=>w.w:(0,ne.N)((ye,Fe)=>{let De=0;ye.subscribe((0,ee._)(Fe,rt=>{++De<=re&&(Fe.next(rt),re<=De&&Fe.complete())}))})}},8503:(Xn,Tt,B)=>{"use strict";B.d(Tt,{p:()=>ee});var w=B(9867),ne=B(6111);function ee(Re,re){return(0,w.N)((ye,Fe)=>{let De=0;ye.subscribe((0,ne._)(Fe,rt=>Re.call(re,rt,De++)&&Fe.next(rt)))})}},8621:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Tg:()=>ht});var w=B(7270),ne=B(5206),ee=B(5717),Re=B(9406),re=B(8932),ye=B(7462),Fe=B(2246),De=B(6472),rt=B(8889),ve=B(4418),Ie=B(6379),lt=B(1479);function ht(Wt){if(Wt instanceof Re.c)return Wt;if(null!=Wt){if((0,re.l)(Wt))return function mt(Wt){return new Re.c(We=>{const St=Wt[lt.s]();if((0,ve.T)(St.subscribe))return St.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Wt);if((0,ne.X)(Wt))return function Jt(Wt){return new Re.c(We=>{for(let St=0;St<Wt.length&&!We.closed;St++)We.next(Wt[St]);We.complete()})}(Wt);if((0,ee.y)(Wt))return function Ht(Wt){return new Re.c(We=>{Wt.then(St=>{We.closed||(We.next(St),We.complete())},St=>We.error(St)).then(null,Ie.m)})}(Wt);if((0,ye.T)(Wt))return dn(Wt);if((0,De.x)(Wt))return function hn(Wt){return new Re.c(We=>{for(const St of Wt)if(We.next(St),We.closed)return;We.complete()})}(Wt);if((0,rt.U)(Wt))return function Kt(Wt){return dn((0,rt.C)(Wt))}(Wt)}throw(0,Fe.L)(Wt)}function dn(Wt){return new Re.c(We=>{(function Ut(Wt,We){var St,pt,kt,Rt;return(0,w.sH)(this,void 0,void 0,function*(){try{for(St=(0,w.xN)(Wt);!(pt=yield St.next()).done;)if(We.next(pt.value),We.closed)return}catch(at){kt={error:at}}finally{try{pt&&!pt.done&&(Rt=St.return)&&(yield Rt.call(St))}finally{if(kt)throw kt.error}}We.complete()})})(Wt,We).catch(St=>We.error(St))})}},8629:(Xn,Tt,B)=>{"use strict";B.d(Tt,{c:()=>Re});const Re={production:!0,title:"Production Environment Heading",firebaseConfig:{apiKey:"AIzaSyBRKb0r3SGfxqU1KWxXQSvim9e9OnC2UQI",authDomain:"atlas-kanban-857d0.firebaseapp.com",projectId:"atlas-kanban-857d0",storageBucket:"atlas-kanban-857d0.firebasestorage.app",messagingSenderId:"881739679431",appId:"1:881739679431:web:78659c66d79e52bb6520e2",measurementId:"G-JVT6KQ9ZNN"},backendUrl:(()=>{let re=`${window.location.protocol}//${window.location.hostname}:${window.location.port}`;return"4200"===window.location.port&&(re=`${window.location.protocol}//${window.location.hostname}:4899`),re})()}},8823:(Xn,Tt,B)=>{"use strict";B.d(Tt,{$:()=>ee});var w=B(9406),ne=B(4418);function ee(Re,re){const ye=(0,ne.T)(Re)?Re:()=>Re,Fe=De=>De.error(ye());return new w.c(re?De=>re.schedule(Fe,0,De):Fe)}},8832:(Xn,Tt,B)=>{"use strict";B.d(Tt,{Zm:()=>dn,me:()=>We,ok:()=>Cs,JD:()=>bo,j4:()=>Ki,YN:()=>$s,vO:()=>nn,BC:()=>Sn,cb:()=>or,cV:()=>ks,vS:()=>zr,xH:()=>Is,X1:()=>Qi,YS:()=>wo,W0:()=>no,k0:()=>kn,qT:()=>vi,y7:()=>xi});var w=B(1489),ne=B(4357),ee=B(4690),Re=B(9406),re=B(6872),ye=B(8621),Fe=B(2363),De=B(6111),rt=B(6219),ve=B(6405),lt=B(6104),ht=B(3527);let mt=(()=>{class U{_renderer;_elementRef;onChange=N=>{};onTouched=()=>{};constructor(N,ue){this._renderer=N,this._elementRef=ue}setProperty(N,ue){this._renderer.setProperty(this._elementRef.nativeElement,N,ue)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static \u0275fac=function(ue){return new(ue||U)(w.rXU(w.sFG),w.rXU(w.aKT))};static \u0275dir=w.FsC({type:U})}return U})(),Jt=(()=>{class U extends mt{static \u0275fac=(()=>{let N;return function(Ue){return(N||(N=w.xGo(U)))(Ue||U)}})();static \u0275dir=w.FsC({type:U,features:[w.Vt3]})}return U})();const Ht=new w.nKC(""),hn={provide:Ht,useExisting:(0,w.Rfq)(()=>dn),multi:!0};let dn=(()=>{class U extends Jt{writeValue(N){this.setProperty("checked",N)}static \u0275fac=(()=>{let N;return function(Ue){return(N||(N=w.xGo(U)))(Ue||U)}})();static \u0275dir=w.FsC({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,Ue){1&ue&&w.bIt("change",function(Fr){return Ue.onChange(Fr.target.checked)})("blur",function(){return Ue.onTouched()})},standalone:!1,features:[w.Jv_([hn]),w.Vt3]})}return U})();const Kt={provide:Ht,useExisting:(0,w.Rfq)(()=>We),multi:!0},Wt=new w.nKC("");let We=(()=>{class U extends mt{_compositionMode;_composing=!1;constructor(N,ue,Ue){super(N,ue),this._compositionMode=Ue,null==this._compositionMode&&(this._compositionMode=!function Ut(){const U=(0,ne.rb)()?(0,ne.rb)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static \u0275fac=function(ue){return new(ue||U)(w.rXU(w.sFG),w.rXU(w.aKT),w.rXU(Wt,8))};static \u0275dir=w.FsC({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Ue){1&ue&&w.bIt("input",function(Fr){return Ue._handleInput(Fr.target.value)})("blur",function(){return Ue.onTouched()})("compositionstart",function(){return Ue._compositionStart()})("compositionend",function(Fr){return Ue._compositionEnd(Fr.target.value)})},standalone:!1,features:[w.Jv_([Kt]),w.Vt3]})}return U})();function St(U){return null==U||0===pt(U)}function pt(U){return null==U?null:Array.isArray(U)||"string"==typeof U?U.length:U instanceof Set?U.size:null}const kt=new w.nKC(""),Rt=new w.nKC(""),at=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kn{static min(z){return function Or(U){return z=>{if(null==z.value||null==U)return null;const N=parseFloat(z.value);return!isNaN(N)&&N<U?{min:{min:U,actual:z.value}}:null}}(z)}static max(z){return function Hr(U){return z=>{if(null==z.value||null==U)return null;const N=parseFloat(z.value);return!isNaN(N)&&N>U?{max:{max:U,actual:z.value}}:null}}(z)}static required(z){return pr(z)}static requiredTrue(z){return function Wr(U){return!0===U.value?null:{required:!0}}(z)}static email(z){return function Nr(U){return St(U.value)||at.test(U.value)?null:{email:!0}}(z)}static minLength(z){return function Ur(U){return z=>{const N=z.value?.length??pt(z.value);return null===N||0===N?null:N<U?{minlength:{requiredLength:U,actualLength:N}}:null}}(z)}static maxLength(z){return function Pr(U){return z=>{const N=z.value?.length??pt(z.value);return null!==N&&N>U?{maxlength:{requiredLength:U,actualLength:N}}:null}}(z)}static pattern(z){return function yi(U){if(!U)return Ti;let z,N;return"string"==typeof U?(N="","^"!==U.charAt(0)&&(N+="^"),N+=U,"$"!==U.charAt(U.length-1)&&(N+="$"),z=new RegExp(N)):(N=U.toString(),z=U),ue=>{if(St(ue.value))return null;const Ue=ue.value;return z.test(Ue)?null:{pattern:{requiredPattern:N,actualValue:Ue}}}}(z)}static nullValidator(z){return null}static compose(z){return Pn(z)}static composeAsync(z){return ur(z)}}function pr(U){return St(U.value)?{required:!0}:null}function Ti(U){return null}function Le(U){return null!=U}function Ve(U){return(0,w.jNT)(U)?(0,ee.H)(U):U}function He(U){let z={};return U.forEach(N=>{z=null!=N?{...z,...N}:z}),0===Object.keys(z).length?null:z}function Ge(U,z){return z.map(N=>N(U))}function Nt(U){return U.map(z=>function qe(U){return!U.validate}(z)?z:N=>z.validate(N))}function Pn(U){if(!U)return null;const z=U.filter(Le);return 0==z.length?null:function(N){return He(Ge(N,z))}}function sn(U){return null!=U?Pn(Nt(U)):null}function ur(U){if(!U)return null;const z=U.filter(Le);return 0==z.length?null:function(N){return function Ie(...U){const z=(0,Fe.ms)(U),{args:N,keys:ue}=(0,re.D)(U),Ue=new Re.c(rr=>{const{length:Fr}=N;if(!Fr)return void rr.complete();const qi=new Array(Fr);let Ji=Fr,Xs=Fr;for(let E=0;E<Fr;E++){let C=!1;(0,ye.Tg)(N[E]).subscribe((0,De._)(rr,F=>{C||(C=!0,Xs--),qi[E]=F},()=>Ji--,void 0,()=>{(!Ji||!C)&&(Xs||rr.next(ue?(0,ve.e)(ue,qi):qi),rr.complete())}))}});return z?Ue.pipe((0,rt.I)(z)):Ue}(Ge(N,z).map(Ve)).pipe((0,ht.T)(He))}}function Bn(U){return null!=U?ur(Nt(U)):null}function Qr(U,z){return null===U?[z]:Array.isArray(U)?[...U,z]:[U,z]}function Cr(U){return U._rawValidators}function Li(U){return U._rawAsyncValidators}function si(U){return U?Array.isArray(U)?U:[U]:[]}function Xr(U,z){return Array.isArray(U)?U.includes(z):U===z}function ni(U,z){const N=si(z);return si(U).forEach(Ue=>{Xr(N,Ue)||N.push(Ue)}),N}function Jr(U,z){return si(z).filter(N=>!Xr(U,N))}class Mn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=sn(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=Bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,N){return!!this.control&&this.control.hasError(z,N)}getError(z,N){return this.control?this.control.getError(z,N):null}}class Ar extends Mn{name;get formDirective(){return null}get path(){return null}}class nn extends Mn{_parent=null;name=null;valueAccessor=null}class Yt{_cd;constructor(z){this._cd=z}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Sn=(()=>{class U extends Yt{constructor(N){super(N)}static \u0275fac=function(ue){return new(ue||U)(w.rXU(nn,2))};static \u0275dir=w.FsC({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Ue){2&ue&&w.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)},standalone:!1,features:[w.Vt3]})}return U})(),or=(()=>{class U extends Yt{constructor(N){super(N)}static \u0275fac=function(ue){return new(ue||U)(w.rXU(Ar,10))};static \u0275dir=w.FsC({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Ue){2&ue&&w.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)("ng-submitted",Ue.isSubmitted)},standalone:!1,features:[w.Vt3]})}return U})();const Bi="VALID",kr="INVALID",Wi="PENDING",qr="DISABLED";class an{}class Lt extends an{value;source;constructor(z,N){super(),this.value=z,this.source=N}}class bn extends an{pristine;source;constructor(z,N){super(),this.pristine=z,this.source=N}}class Un extends an{touched;source;constructor(z,N){super(),this.touched=z,this.source=N}}class vn extends an{status;source;constructor(z,N){super(),this.status=z,this.source=N}}class er extends an{source;constructor(z){super(),this.source=z}}class $n extends an{source;constructor(z){super(),this.source=z}}function Br(U){return(be(U)?U.validators:U)||null}function zi(U,z){return(be(z)?z.asyncValidators:U)||null}function be(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function Ye(U,z,N){const ue=U.controls;if(!(z?Object.keys(ue):ue).length)throw new w.wOt(1e3,"");if(!ue[N])throw new w.wOt(1001,"")}function Zt(U,z,N){U._forEachChild((ue,Ue)=>{if(void 0===N[Ue])throw new w.wOt(1002,"")})}class Oe{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(z,N){this._assignValidators(z),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get status(){return(0,w.O8t)(this.statusReactive)}set status(z){(0,w.O8t)(()=>this.statusReactive.set(z))}_status=(0,w.EWP)(()=>this.statusReactive());statusReactive=(0,w.vPA)(void 0);get valid(){return this.status===Bi}get invalid(){return this.status===kr}get pending(){return this.status==Wi}get disabled(){return this.status===qr}get enabled(){return this.status!==qr}errors;get pristine(){return(0,w.O8t)(this.pristineReactive)}set pristine(z){(0,w.O8t)(()=>this.pristineReactive.set(z))}_pristine=(0,w.EWP)(()=>this.pristineReactive());pristineReactive=(0,w.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,w.O8t)(this.touchedReactive)}set touched(z){(0,w.O8t)(()=>this.touchedReactive.set(z))}_touched=(0,w.EWP)(()=>this.touchedReactive());touchedReactive=(0,w.vPA)(!1);get untouched(){return!this.touched}_events=new lt.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(ni(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(ni(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(Jr(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(Jr(z,this._rawAsyncValidators))}hasValidator(z){return Xr(this._rawValidators,z)}hasAsyncValidator(z){return Xr(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){const N=!1===this.touched;this.touched=!0;const ue=z.sourceControl??this;this._parent&&!z.onlySelf&&this._parent.markAsTouched({...z,sourceControl:ue}),N&&!1!==z.emitEvent&&this._events.next(new Un(!0,ue))}markAllAsTouched(z={}){this.markAsTouched({onlySelf:!0,emitEvent:z.emitEvent,sourceControl:this}),this._forEachChild(N=>N.markAllAsTouched(z))}markAsUntouched(z={}){const N=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ue=z.sourceControl??this;this._forEachChild(Ue=>{Ue.markAsUntouched({onlySelf:!0,emitEvent:z.emitEvent,sourceControl:ue})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z,ue),N&&!1!==z.emitEvent&&this._events.next(new Un(!1,ue))}markAsDirty(z={}){const N=!0===this.pristine;this.pristine=!1;const ue=z.sourceControl??this;this._parent&&!z.onlySelf&&this._parent.markAsDirty({...z,sourceControl:ue}),N&&!1!==z.emitEvent&&this._events.next(new bn(!1,ue))}markAsPristine(z={}){const N=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ue=z.sourceControl??this;this._forEachChild(Ue=>{Ue.markAsPristine({onlySelf:!0,emitEvent:z.emitEvent})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z,ue),N&&!1!==z.emitEvent&&this._events.next(new bn(!0,ue))}markAsPending(z={}){this.status=Wi;const N=z.sourceControl??this;!1!==z.emitEvent&&(this._events.next(new vn(this.status,N)),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.markAsPending({...z,sourceControl:N})}disable(z={}){const N=this._parentMarkedDirty(z.onlySelf);this.status=qr,this.errors=null,this._forEachChild(Ue=>{Ue.disable({...z,onlySelf:!0})}),this._updateValue();const ue=z.sourceControl??this;!1!==z.emitEvent&&(this._events.next(new Lt(this.value,ue)),this._events.next(new vn(this.status,ue)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:N},this),this._onDisabledChange.forEach(Ue=>Ue(!0))}enable(z={}){const N=this._parentMarkedDirty(z.onlySelf);this.status=Bi,this._forEachChild(ue=>{ue.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:N},this),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(z,N){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine({},N),this._parent._updateTouched({},N))}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ue=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bi||this.status===Wi)&&this._runAsyncValidator(ue,z.emitEvent)}const N=z.sourceControl??this;!1!==z.emitEvent&&(this._events.next(new Lt(this.value,N)),this._events.next(new vn(this.status,N)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity({...z,sourceControl:N})}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qr:Bi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z,N){if(this.asyncValidator){this.status=Wi,this._hasOwnPendingAsyncValidator={emitEvent:!1!==N};const ue=Ve(this.asyncValidator(this));this._asyncValidationSubscription=ue.subscribe(Ue=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ue,{emitEvent:N,shouldHaveEmitted:z})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const z=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,z}return!1}setErrors(z,N={}){this.errors=z,this._updateControlsErrors(!1!==N.emitEvent,this,N.shouldHaveEmitted)}get(z){let N=z;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((ue,Ue)=>ue&&ue._find(Ue),this)}getError(z,N){const ue=N?this.get(N):this;return ue&&ue.errors?ue.errors[z]:null}hasError(z,N){return!!this.getError(z,N)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z,N,ue){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),(z||ue)&&this._events.next(new vn(this.status,N)),this._parent&&this._parent._updateControlsErrors(z,N,ue)}_initObservables(){this.valueChanges=new w.bkB,this.statusChanges=new w.bkB}_calculateStatus(){return this._allControlsDisabled()?qr:this.errors?kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wi)?Wi:this._anyControlsHaveStatus(kr)?kr:Bi}_anyControlsHaveStatus(z){return this._anyControls(N=>N.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z,N){const ue=!this._anyControlsDirty(),Ue=this.pristine!==ue;this.pristine=ue,this._parent&&!z.onlySelf&&this._parent._updatePristine(z,N),Ue&&this._events.next(new bn(this.pristine,N))}_updateTouched(z={},N){this.touched=this._anyControlsTouched(),this._events.next(new Un(this.touched,N)),this._parent&&!z.onlySelf&&this._parent._updateTouched(z,N)}_onDisabledChange=[];_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){be(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function Vr(U){return Array.isArray(U)?sn(U):U||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function he(U){return Array.isArray(U)?Bn(U):U||null}(this._rawAsyncValidators)}}class tr extends Oe{constructor(z,N,ue){super(Br(N),zi(ue,N)),this.controls=z,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(z,N){return this.controls[z]?this.controls[z]:(this.controls[z]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(z,N,ue={}){this.registerControl(z,N),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(z,N={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(z,N,ue={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],N&&this.registerControl(z,N),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,N={}){Zt(this,0,z),Object.keys(z).forEach(ue=>{Ye(this,!0,ue),this.controls[ue].setValue(z[ue],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(z,N={}){null!=z&&(Object.keys(z).forEach(ue=>{const Ue=this.controls[ue];Ue&&Ue.patchValue(z[ue],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(z={},N={}){this._forEachChild((ue,Ue)=>{ue.reset(z?z[Ue]:null,{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(z,N,ue)=>(z[ue]=N.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(N,ue)=>!!ue._syncPendingControls()||N);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(N=>{const ue=this.controls[N];ue&&z(ue,N)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[N,ue]of Object.entries(this.controls))if(this.contains(N)&&z(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,ue,Ue)=>((ue.enabled||this.disabled)&&(N[Ue]=ue.value),N))}_reduceChildren(z,N){let ue=z;return this._forEachChild((Ue,rr)=>{ue=N(ue,Ue,rr)}),ue}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}class Z extends tr{}const it=new w.nKC("",{providedIn:"root",factory:()=>At}),At="always";function $t(U,z){return[...z.path,U]}function Vn(U,z,N=At){$(U,z),z.valueAccessor.writeValue(U.value),(U.disabled||"always"===N)&&z.valueAccessor.setDisabledState?.(U.disabled),function Je(U,z){z.valueAccessor.registerOnChange(N=>{U._pendingValue=N,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Cn(U,z)})}(U,z),function cr(U,z){const N=(ue,Ue)=>{z.valueAccessor.writeValue(ue),Ue&&z.viewToModelUpdate(ue)};U.registerOnChange(N),z._registerOnDestroy(()=>{U._unregisterOnChange(N)})}(U,z),function gn(U,z){z.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Cn(U,z),"submit"!==U.updateOn&&U.markAsTouched()})}(U,z),function H(U,z){if(z.valueAccessor.setDisabledState){const N=ue=>{z.valueAccessor.setDisabledState(ue)};U.registerOnDisabledChange(N),z._registerOnDestroy(()=>{U._unregisterOnDisabledChange(N)})}}(U,z)}function Yn(U,z,N=!0){const ue=()=>{};z.valueAccessor&&(z.valueAccessor.registerOnChange(ue),z.valueAccessor.registerOnTouched(ue)),te(U,z),U&&(z._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function ce(U,z){U.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(z)})}function $(U,z){const N=Cr(U);null!==z.validator?U.setValidators(Qr(N,z.validator)):"function"==typeof N&&U.setValidators([N]);const ue=Li(U);null!==z.asyncValidator?U.setAsyncValidators(Qr(ue,z.asyncValidator)):"function"==typeof ue&&U.setAsyncValidators([ue]);const Ue=()=>U.updateValueAndValidity();ce(z._rawValidators,Ue),ce(z._rawAsyncValidators,Ue)}function te(U,z){let N=!1;if(null!==U){if(null!==z.validator){const Ue=Cr(U);if(Array.isArray(Ue)&&Ue.length>0){const rr=Ue.filter(Fr=>Fr!==z.validator);rr.length!==Ue.length&&(N=!0,U.setValidators(rr))}}if(null!==z.asyncValidator){const Ue=Li(U);if(Array.isArray(Ue)&&Ue.length>0){const rr=Ue.filter(Fr=>Fr!==z.asyncValidator);rr.length!==Ue.length&&(N=!0,U.setAsyncValidators(rr))}}}const ue=()=>{};return ce(z._rawValidators,ue),ce(z._rawAsyncValidators,ue),N}function Cn(U,z){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function zt(U,z){$(U,z)}function In(U,z){if(!U.hasOwnProperty("model"))return!1;const N=U.model;return!!N.isFirstChange()||!Object.is(z,N.currentValue)}function Gr(U,z){U._syncPendingControls(),z.forEach(N=>{const ue=N.control;"submit"===ue.updateOn&&ue._pendingChange&&(N.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function Sr(U,z){if(!z)return null;let N,ue,Ue;return Array.isArray(z),z.forEach(rr=>{rr.constructor===We?N=rr:function En(U){return Object.getPrototypeOf(U.constructor)===Jt}(rr)?ue=rr:Ue=rr}),Ue||ue||N||null}const mi={provide:Ar,useExisting:(0,w.Rfq)(()=>ks)},ls=Promise.resolve();let ks=(()=>{class U extends Ar{callSetDisabledState;get submitted(){return(0,w.O8t)(this.submittedReactive)}_submitted=(0,w.EWP)(()=>this.submittedReactive());submittedReactive=(0,w.vPA)(!1);_directives=new Set;form;ngSubmit=new w.bkB;options;constructor(N,ue,Ue){super(),this.callSetDisabledState=Ue,this.form=new tr({},sn(N),Bn(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){ls.then(()=>{const ue=this._findContainer(N.path);N.control=ue.registerControl(N.name,N.control),Vn(N.control,N,this.callSetDisabledState),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){ls.then(()=>{const ue=this._findContainer(N.path);ue&&ue.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){ls.then(()=>{const ue=this._findContainer(N.path),Ue=new tr({});zt(Ue,N),ue.registerControl(N.name,Ue),Ue.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){ls.then(()=>{const ue=this._findContainer(N.path);ue&&ue.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,ue){ls.then(()=>{this.form.get(N.path).setValue(ue)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submittedReactive.set(!0),Gr(this.form,this._directives),this.ngSubmit.emit(N),this.form._events.next(new er(this.control)),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submittedReactive.set(!1),this.form._events.next(new $n(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}static \u0275fac=function(ue){return new(ue||U)(w.rXU(kt,10),w.rXU(Rt,10),w.rXU(it,8))};static \u0275dir=w.FsC({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,Ue){1&ue&&w.bIt("submit",function(Fr){return Ue.onSubmit(Fr)})("reset",function(){return Ue.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[w.Jv_([mi]),w.Vt3]})}return U})();function Qs(U,z){const N=U.indexOf(z);N>-1&&U.splice(N,1)}function ms(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const jr=class extends Oe{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(z=null,N,ue){super(Br(N),zi(ue,N)),this._applyFormState(z),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),be(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=ms(z)?z.value:z)}setValue(z,N={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(z,N={}){this.setValue(z,N)}reset(z=this.defaultValue,N={}){this._applyFormState(z),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Qs(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Qs(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){ms(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}},oi={provide:nn,useExisting:(0,w.Rfq)(()=>zr)},li=Promise.resolve();let zr=(()=>{class U extends nn{_changeDetectorRef;callSetDisabledState;control=new jr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new w.bkB;constructor(N,ue,Ue,rr,Fr,qi){super(),this._changeDetectorRef=Fr,this.callSetDisabledState=qi,this._parent=N,this._setValidators(ue),this._setAsyncValidators(Ue),this.valueAccessor=Sr(0,rr)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const ue=N.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),In(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){li.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const ue=N.isDisabled.currentValue,Ue=0!==ue&&(0,w.L39)(ue);li.then(()=>{Ue&&!this.control.disabled?this.control.disable():!Ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?$t(N,this._parent):[N]}static \u0275fac=function(ue){return new(ue||U)(w.rXU(Ar,9),w.rXU(kt,10),w.rXU(Rt,10),w.rXU(Ht,10),w.rXU(w.gRc,8),w.rXU(it,8))};static \u0275dir=w.FsC({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[w.Jv_([oi]),w.Vt3,w.OA$]})}return U})(),vi=(()=>{class U{static \u0275fac=function(ue){return new(ue||U)};static \u0275dir=w.FsC({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return U})();const Dn=new w.nKC(""),Ni={provide:Ar,useExisting:(0,w.Rfq)(()=>Ki)};let Ki=(()=>{class U extends Ar{callSetDisabledState;get submitted(){return(0,w.O8t)(this._submittedReactive)}set submitted(N){this._submittedReactive.set(N)}_submitted=(0,w.EWP)(()=>this._submittedReactive());_submittedReactive=(0,w.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new w.bkB;constructor(N,ue,Ue){super(),this.callSetDisabledState=Ue,this._setValidators(N),this._setAsyncValidators(ue)}ngOnChanges(N){N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(te(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const ue=this.form.get(N.path);return Vn(ue,N,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),ue}getControl(N){return this.form.get(N.path)}removeControl(N){Yn(N.control||null,N,!1),function Tn(U,z){const N=U.indexOf(z);N>-1&&U.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,ue){this.form.get(N.path).setValue(ue)}onSubmit(N){return this._submittedReactive.set(!0),Gr(this.form,this.directives),this.ngSubmit.emit(N),this.form._events.next(new er(this.control)),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this._submittedReactive.set(!1),this.form._events.next(new $n(this.form))}_updateDomValue(){this.directives.forEach(N=>{const ue=N.control,Ue=this.form.get(N.path);ue!==Ue&&(Yn(ue||null,N),(U=>U instanceof jr)(Ue)&&(Vn(Ue,N,this.callSetDisabledState),N.control=Ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const ue=this.form.get(N.path);zt(ue,N),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const ue=this.form.get(N.path);ue&&function fi(U,z){return te(U,z)}(ue,N)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$(this.form,this),this._oldForm&&te(this._oldForm,this)}static \u0275fac=function(ue){return new(ue||U)(w.rXU(kt,10),w.rXU(Rt,10),w.rXU(it,8))};static \u0275dir=w.FsC({type:U,selectors:[["","formGroup",""]],hostBindings:function(ue,Ue){1&ue&&w.bIt("submit",function(Fr){return Ue.onSubmit(Fr)})("reset",function(){return Ue.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[w.Jv_([Ni]),w.Vt3,w.OA$]})}return U})();const Ls={provide:nn,useExisting:(0,w.Rfq)(()=>bo)};let bo=(()=>{class U extends nn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(N){}model;update=new w.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(N,ue,Ue,rr,Fr){super(),this._ngModelWarningConfig=Fr,this._parent=N,this._setValidators(ue),this._setAsyncValidators(Ue),this.valueAccessor=Sr(0,rr)}ngOnChanges(N){this._added||this._setUpControl(),In(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(ue){return new(ue||U)(w.rXU(Ar,13),w.rXU(kt,10),w.rXU(Rt,10),w.rXU(Ht,10),w.rXU(Dn,8))};static \u0275dir=w.FsC({type:U,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[w.Jv_([Ls]),w.Vt3,w.OA$]})}return U})();const Ho={provide:Ht,useExisting:(0,w.Rfq)(()=>Vi),multi:!0};function eo(U,z){return null==U?`${z}`:(z&&"object"==typeof z&&(z="Object"),`${U}: ${z}`.slice(0,50))}let Vi=(()=>{class U extends Jt{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;writeValue(N){this.value=N;const Ue=eo(this._getOptionId(N),N);this.setProperty("value",Ue)}registerOnChange(N){this.onChange=ue=>{this.value=this._getOptionValue(ue),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),N))return ue;return null}_getOptionValue(N){const ue=function Vs(U){return U.split(":")[0]}(N);return this._optionMap.has(ue)?this._optionMap.get(ue):N}static \u0275fac=(()=>{let N;return function(Ue){return(N||(N=w.xGo(U)))(Ue||U)}})();static \u0275dir=w.FsC({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Ue){1&ue&&w.bIt("change",function(Fr){return Ue.onChange(Fr.target.value)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[w.Jv_([Ho]),w.Vt3]})}return U})(),Is=(()=>{class U{_element;_renderer;_select;id;constructor(N,ue,Ue){this._element=N,this._renderer=ue,this._select=Ue,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(eo(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(ue){return new(ue||U)(w.rXU(w.aKT),w.rXU(w.sFG),w.rXU(Vi,9))};static \u0275dir=w.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();const yo={provide:Ht,useExisting:(0,w.Rfq)(()=>no),multi:!0};function Ai(U,z){return null==U?`${z}`:("string"==typeof z&&(z=`'${z}'`),z&&"object"==typeof z&&(z="Object"),`${U}: ${z}`.slice(0,50))}let no=(()=>{class U extends Jt{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;writeValue(N){let ue;if(this.value=N,Array.isArray(N)){const Ue=N.map(rr=>this._getOptionId(rr));ue=(rr,Fr)=>{rr._setSelected(Ue.indexOf(Fr.toString())>-1)}}else ue=(Ue,rr)=>{Ue._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(N){this.onChange=ue=>{const Ue=[],rr=ue.selectedOptions;if(void 0!==rr){const Fr=rr;for(let qi=0;qi<Fr.length;qi++){const Xs=this._getOptionValue(Fr[qi].value);Ue.push(Xs)}}else{const Fr=ue.options;for(let qi=0;qi<Fr.length;qi++){const Ji=Fr[qi];if(Ji.selected){const Xs=this._getOptionValue(Ji.value);Ue.push(Xs)}}}this.value=Ue,N(Ue)}}_registerOption(N){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,N),ue}_getOptionId(N){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,N))return ue;return null}_getOptionValue(N){const ue=function to(U){return U.split(":")[0]}(N);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:N}static \u0275fac=(()=>{let N;return function(Ue){return(N||(N=w.xGo(U)))(Ue||U)}})();static \u0275dir=w.FsC({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Ue){1&ue&&w.bIt("change",function(Fr){return Ue.onChange(Fr.target)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[w.Jv_([yo]),w.Vt3]})}return U})(),xi=(()=>{class U{_element;_renderer;_select;id;_value;constructor(N,ue,Ue){this._element=N,this._renderer=ue,this._select=Ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(Ai(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(Ai(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(ue){return new(ue||U)(w.rXU(w.aKT),w.rXU(w.sFG),w.rXU(no,9))};static \u0275dir=w.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})(),us=(()=>{class U{_validator=Ti;_onChange;_enabled;ngOnChanges(N){if(this.inputName in N){const ue=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):Ti,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}static \u0275fac=function(ue){return new(ue||U)};static \u0275dir=w.FsC({type:U,features:[w.OA$]})}return U})();const ea={provide:kt,useExisting:(0,w.Rfq)(()=>wo),multi:!0};let wo=(()=>{class U extends us{required;inputName="required";normalizeInput=w.L39;createValidator=N=>pr;enabled(N){return N}static \u0275fac=(()=>{let N;return function(Ue){return(N||(N=w.xGo(U)))(Ue||U)}})();static \u0275dir=w.FsC({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,Ue){2&ue&&w.BMQ("required",Ue._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[w.Jv_([ea]),w.Vt3]})}return U})(),na=(()=>{class U{static \u0275fac=function(ue){return new(ue||U)};static \u0275mod=w.$C({type:U});static \u0275inj=w.G2t({})}return U})();class Wa extends Oe{constructor(z,N,ue){super(Br(N),zi(ue,N)),this.controls=z,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(z){return this.controls[this._adjustIndex(z)]}push(z,N={}){this.controls.push(z),this._registerControl(z),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(z,N,ue={}){this.controls.splice(z,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(z,N={}){let ue=this._adjustIndex(z);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(z,N,ue={}){let Ue=this._adjustIndex(z);Ue<0&&(Ue=0),this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),this.controls.splice(Ue,1),N&&(this.controls.splice(Ue,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(z,N={}){Zt(this,0,z),z.forEach((ue,Ue)=>{Ye(this,!1,Ue),this.at(Ue).setValue(ue,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(z,N={}){null!=z&&(z.forEach((ue,Ue)=>{this.at(Ue)&&this.at(Ue).patchValue(ue,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(z=[],N={}){this._forEachChild((ue,Ue)=>{ue.reset(z[Ue],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(z=>z.getRawValue())}clear(z={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:z.emitEvent}))}_adjustIndex(z){return z<0?z+this.length:z}_syncPendingControls(){let z=this.controls.reduce((N,ue)=>!!ue._syncPendingControls()||N,!1);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){this.controls.forEach((N,ue)=>{z(N,ue)})}_updateValue(){this.value=this.controls.filter(z=>z.enabled||this.disabled).map(z=>z.value)}_anyControls(z){return this.controls.some(N=>N.enabled&&z(N))}_setUpControls(){this._forEachChild(z=>this._registerControl(z))}_allControlsDisabled(){for(const z of this.controls)if(z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(z){z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)}_find(z){return this.at(z)??null}}function Bo(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let Cs=(()=>{class U{useNonNullable=!1;get nonNullable(){const N=new U;return N.useNonNullable=!0,N}group(N,ue=null){const Ue=this._reduceControls(N);let rr={};return Bo(ue)?rr=ue:null!==ue&&(rr.validators=ue.validator,rr.asyncValidators=ue.asyncValidator),new tr(Ue,rr)}record(N,ue=null){const Ue=this._reduceControls(N);return new Z(Ue,ue)}control(N,ue,Ue){let rr={};return this.useNonNullable?(Bo(ue)?rr=ue:(rr.validators=ue,rr.asyncValidators=Ue),new jr(N,{...rr,nonNullable:!0})):new jr(N,ue,Ue)}array(N,ue,Ue){const rr=N.map(Fr=>this._createControl(Fr));return new Wa(rr,ue,Ue)}_reduceControls(N){const ue={};return Object.keys(N).forEach(Ue=>{ue[Ue]=this._createControl(N[Ue])}),ue}_createControl(N){return N instanceof jr||N instanceof Oe?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}static \u0275fac=function(ue){return new(ue||U)};static \u0275prov=w.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),$s=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:it,useValue:N.callSetDisabledState??At}]}}static \u0275fac=function(ue){return new(ue||U)};static \u0275mod=w.$C({type:U});static \u0275inj=w.G2t({imports:[na]})}return U})(),Qi=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:Dn,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:it,useValue:N.callSetDisabledState??At}]}}static \u0275fac=function(ue){return new(ue||U)};static \u0275mod=w.$C({type:U});static \u0275inj=w.G2t({imports:[na]})}return U})()},8887:(Xn,Tt,B)=>{"use strict";B.d(Tt,{B:()=>Re});var w=B(4929),ne=B(9867),ee=B(6111);function Re(re,ye=w.E){return(0,ne.N)((Fe,De)=>{let rt=null,ve=null,Ie=null;const lt=()=>{if(rt){rt.unsubscribe(),rt=null;const mt=ve;ve=null,De.next(mt)}};function ht(){const mt=Ie+re,Jt=ye.now();if(Jt<mt)return rt=this.schedule(void 0,mt-Jt),void De.add(rt);lt()}Fe.subscribe((0,ee._)(De,mt=>{ve=mt,Ie=ye.now(),rt||(rt=ye.schedule(ht,re),De.add(rt))},()=>{lt(),De.complete()},void 0,()=>{ve=rt=null}))})}},8889:(Xn,Tt,B)=>{"use strict";B.d(Tt,{C:()=>ee,U:()=>Re});var w=B(7270),ne=B(4418);function ee(re){return(0,w.AQ)(this,arguments,function*(){const Fe=re.getReader();try{for(;;){const{value:De,done:rt}=yield(0,w.N3)(Fe.read());if(rt)return yield(0,w.N3)(void 0);yield yield(0,w.N3)(De)}}finally{Fe.releaseLock()}})}function Re(re){return(0,ne.T)(re?.getReader)}},8932:(Xn,Tt,B)=>{"use strict";B.d(Tt,{l:()=>ee});var w=B(1479),ne=B(4418);function ee(Re){return(0,ne.T)(Re[w.s])}},9257:(Xn,Tt,B)=>{"use strict";B.d(Tt,{P2:()=>Ut});var w=B(3308);const ne=(Rt,at)=>at.some(kn=>Rt instanceof kn);let ee,Re;const Fe=new WeakMap,De=new WeakMap,rt=new WeakMap,ve=new WeakMap,Ie=new WeakMap;let mt={get(Rt,at,kn){if(Rt instanceof IDBTransaction){if("done"===at)return De.get(Rt);if("objectStoreNames"===at)return Rt.objectStoreNames||rt.get(Rt);if("store"===at)return kn.objectStoreNames[1]?void 0:kn.objectStore(kn.objectStoreNames[0])}return dn(Rt[at])},set:(Rt,at,kn)=>(Rt[at]=kn,!0),has:(Rt,at)=>Rt instanceof IDBTransaction&&("done"===at||"store"===at)||at in Rt};function hn(Rt){return"function"==typeof Rt?function Ht(Rt){return Rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Rt)?function(...at){return Rt.apply(Kt(this),at),dn(Fe.get(this))}:function(...at){return dn(Rt.apply(Kt(this),at))}:function(at,...kn){const Or=Rt.call(Kt(this),at,...kn);return rt.set(Or,at.sort?at.sort():[at]),dn(Or)}}(Rt):(Rt instanceof IDBTransaction&&function ht(Rt){if(De.has(Rt))return;const at=new Promise((kn,Or)=>{const Hr=()=>{Rt.removeEventListener("complete",pr),Rt.removeEventListener("error",Wr),Rt.removeEventListener("abort",Wr)},pr=()=>{kn(),Hr()},Wr=()=>{Or(Rt.error||new DOMException("AbortError","AbortError")),Hr()};Rt.addEventListener("complete",pr),Rt.addEventListener("error",Wr),Rt.addEventListener("abort",Wr)});De.set(Rt,at)}(Rt),ne(Rt,function re(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Rt,mt):Rt)}function dn(Rt){if(Rt instanceof IDBRequest)return function lt(Rt){const at=new Promise((kn,Or)=>{const Hr=()=>{Rt.removeEventListener("success",pr),Rt.removeEventListener("error",Wr)},pr=()=>{kn(dn(Rt.result)),Hr()},Wr=()=>{Or(Rt.error),Hr()};Rt.addEventListener("success",pr),Rt.addEventListener("error",Wr)});return at.then(kn=>{kn instanceof IDBCursor&&Fe.set(kn,Rt)}).catch(()=>{}),Ie.set(at,Rt),at}(Rt);if(ve.has(Rt))return ve.get(Rt);const at=hn(Rt);return at!==Rt&&(ve.set(Rt,at),Ie.set(at,Rt)),at}const Kt=Rt=>Ie.get(Rt);function Ut(Rt,at,{blocked:kn,upgrade:Or,blocking:Hr,terminated:pr}={}){const Wr=indexedDB.open(Rt,at),Nr=dn(Wr);return Or&&Wr.addEventListener("upgradeneeded",Ur=>{Or(dn(Wr.result),Ur.oldVersion,Ur.newVersion,dn(Wr.transaction),Ur)}),kn&&Wr.addEventListener("blocked",Ur=>kn(Ur.oldVersion,Ur.newVersion,Ur)),Nr.then(Ur=>{pr&&Ur.addEventListener("close",()=>pr()),Hr&&Ur.addEventListener("versionchange",Pr=>Hr(Pr.oldVersion,Pr.newVersion,Pr))}).catch(()=>{}),Nr}const We=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],pt=new Map;function kt(Rt,at){if(!(Rt instanceof IDBDatabase)||at in Rt||"string"!=typeof at)return;if(pt.get(at))return pt.get(at);const kn=at.replace(/FromIndex$/,""),Or=at!==kn,Hr=St.includes(kn);if(!(kn in(Or?IDBIndex:IDBObjectStore).prototype)||!Hr&&!We.includes(kn))return;const pr=function(){var Wr=(0,w.A)(function*(Nr,...Ur){const Pr=this.transaction(Nr,Hr?"readwrite":"readonly");let yi=Pr.store;return Or&&(yi=yi.index(Ur.shift())),(yield Promise.all([yi[kn](...Ur),Hr&&Pr.done]))[0]});return function(Ur){return Wr.apply(this,arguments)}}();return pt.set(at,pr),pr}!function Jt(Rt){mt=Rt(mt)}(Rt=>({...Rt,get:(at,kn,Or)=>kt(at,kn)||Rt.get(at,kn,Or),has:(at,kn)=>!!kt(at,kn)||Rt.has(at,kn)}))},9406:(Xn,Tt,B)=>{"use strict";B.d(Tt,{c:()=>De});var w=B(4500),ne=B(2029),ee=B(1479),Re=B(6106),re=B(2493),ye=B(4418),Fe=B(2895);let De=(()=>{class lt{constructor(mt){mt&&(this._subscribe=mt)}lift(mt){const Jt=new lt;return Jt.source=this,Jt.operator=mt,Jt}subscribe(mt,Jt,Ht){const hn=function Ie(lt){return lt&&lt instanceof w.vU||function ve(lt){return lt&&(0,ye.T)(lt.next)&&(0,ye.T)(lt.error)&&(0,ye.T)(lt.complete)}(lt)&&(0,ne.Uv)(lt)}(mt)?mt:new w.Ms(mt,Jt,Ht);return(0,Fe.Y)(()=>{const{operator:dn,source:Kt}=this;hn.add(dn?dn.call(hn,Kt):Kt?this._subscribe(hn):this._trySubscribe(hn))}),hn}_trySubscribe(mt){try{return this._subscribe(mt)}catch(Jt){mt.error(Jt)}}forEach(mt,Jt){return new(Jt=rt(Jt))((Ht,hn)=>{const dn=new w.Ms({next:Kt=>{try{mt(Kt)}catch(Ut){hn(Ut),dn.unsubscribe()}},error:hn,complete:Ht});this.subscribe(dn)})}_subscribe(mt){var Jt;return null===(Jt=this.source)||void 0===Jt?void 0:Jt.subscribe(mt)}[ee.s](){return this}pipe(...mt){return(0,Re.m)(mt)(this)}toPromise(mt){return new(mt=rt(mt))((Jt,Ht)=>{let hn;this.subscribe(dn=>hn=dn,dn=>Ht(dn),()=>Jt(hn))})}}return lt.create=ht=>new lt(ht),lt})();function rt(lt){var ht;return null!==(ht=lt??re.$.Promise)&&void 0!==ht?ht:Promise}},9583:(Xn,Tt,B)=>{"use strict";function w(ne,ee){if(ne){const Re=ne.indexOf(ee);0<=Re&&ne.splice(Re,1)}}B.d(Tt,{o:()=>w})},9656:(Xn,Tt,B)=>{"use strict";function w(ne){return ne}B.d(Tt,{D:()=>w})},9867:(Xn,Tt,B)=>{"use strict";B.d(Tt,{N:()=>ee,S:()=>ne});var w=B(4418);function ne(Re){return(0,w.T)(Re?.lift)}function ee(Re){return re=>{if(ne(re))return re.lift(function(ye){try{return Re(ye,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}}},Xn=>{Xn(Xn.s=2744)}]);
<!-- change-password.component.html -->
<mat-card class="auth-card">
  <h2>Change Password</h2>
  <form [formGroup]="form" (ngSubmit)="changePassword()">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Current Password</mat-label>
      <input matInput formControlName="currentPassword" type="password" />
      <mat-error *ngIf="form.controls['currentPassword'].invalid">Current password required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>New Password</mat-label>
      <input matInput formControlName="newPassword" type="password" />
      <mat-error *ngIf="form.controls['newPassword'].invalid">Minimum 6 characters</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Confirm New Password</mat-label>
      <input matInput formControlName="confirmPassword" type="password" />
      <mat-error *ngIf="form.errors?.['mismatch']">Passwords do not match</mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" class="full-width" type="submit" [disabled]="loading">
      <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
      <span *ngIf="!loading">Change Password</span>
    </button>

    <div class="error" *ngIf="error">{{ error }}</div>
    <div class="success" *ngIf="success">{{ success }}</div>
  </form>
</mat-card>
